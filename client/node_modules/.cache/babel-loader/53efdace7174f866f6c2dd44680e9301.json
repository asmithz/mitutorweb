{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, getTabIndex, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport ListFilter from '../common/ListFilter';\nimport ListDefaultItem from '../common/ListDefaultItem';\nimport List from '../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { isPresent, getItemValue, sameCharsOnly, shuffleData, matchText, areSame, preventDefaultNonInputs, getFocusedItem } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\n/**\n * @hidden\n */\n\nvar DropDownListWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(DropDownListWithoutContext, _super);\n\n  function DropDownListWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this.base = new DropDownBase(_this);\n    _this.searchState = {\n      word: '',\n      last: ''\n    };\n    _this._skipFocusEvent = false;\n    _this._filterInput = null;\n    _this._navigated = false;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this.base.wrapper) {\n        _this.base.wrapper.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          virtual = _a.virtual,\n          dataItemKey = _a.dataItemKey,\n          defaultItem = _a.defaultItem;\n      var skip = virtual ? virtual.skip : 0;\n      var item = index === -1 && defaultItem !== undefined ? defaultItem : data[index - skip];\n      var newSelected = !areSame(item, _this.value, dataItemKey);\n\n      _this.triggerOnChange(item, state);\n\n      if (newSelected) {\n        _this.base.triggerPageChangeCornerItems(item, state);\n      }\n    };\n\n    _this.renderDropDownWrapper = function () {\n      var _a = _this.props,\n          dataItemKey = _a.dataItemKey,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField,\n          disabled = _a.disabled,\n          tabIndex = _a.tabIndex,\n          loading = _a.loading,\n          iconClassName = _a.iconClassName,\n          _c = _a.virtual,\n          virtual = _c === void 0 ? {\n        skip: 0\n      } : _c,\n          valueRender = _a.valueRender;\n      var focused = _this.state.focused;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var value = _this.value;\n      var selectedIndex = data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n      var text = getItemValue(value, textField);\n      var valueDefaultRendering = React.createElement(\"span\", {\n        className: \"k-input\"\n      }, text);\n      var valueElement = valueRender !== undefined ? valueRender.call(undefined, valueDefaultRendering, value) : valueDefaultRendering;\n      return React.createElement(\"span\", {\n        ref: function (el) {\n          return _this.base.wrapper = el;\n        },\n        role: 'listbox',\n        tabIndex: getTabIndex(tabIndex, disabled),\n        accessKey: _this.props.accessKey,\n        className: classNames('k-dropdown-wrap', {\n          'k-state-focused': focused,\n          'k-state-disabled': disabled\n        }),\n        onKeyDown: _this.handleKeyDown,\n        onKeyPress: _this.handleKeyPress,\n        onClick: disabled ? undefined : _this.handleWrapperClick,\n        \"aria-disabled\": disabled || undefined,\n        \"aria-haspopup\": true,\n        \"aria-expanded\": opened || false,\n        \"aria-owns\": _this.base.listBoxId,\n        \"aria-activedescendant\": opened ? 'option-' + _this.base.guid + '-' + (selectedIndex + virtual.skip) : undefined,\n        \"aria-label\": _this.props.label,\n        \"aria-labelledby\": _this.props.ariaLabelledBy,\n        \"aria-describedby\": _this.props.ariaDescribedBy,\n        id: _this.props.id,\n        title: _this.props.title\n      }, valueElement, React.createElement(\"span\", {\n        className: \"k-select\"\n      }, React.createElement(\"span\", {\n        className: classNames('k-icon', iconClassName, {\n          'k-i-arrow-s': !loading && !iconClassName,\n          'k-i-loading': loading && !iconClassName\n        })\n      })), _this.dummySelect(value));\n    };\n\n    _this.dummySelect = function (value) {\n      /* Dummy component to support forms */\n      return React.createElement(\"select\", {\n        name: _this.props.name,\n        ref: function (el) {\n          _this._select = el;\n        },\n        tabIndex: -1,\n        \"aria-hidden\": true,\n        title: _this.props.label,\n        style: {\n          opacity: 0,\n          width: 1,\n          border: 0,\n          zIndex: -1,\n          position: 'absolute',\n          left: '50%'\n        }\n      }, React.createElement(\"option\", {\n        value: _this.props.valueMap ? _this.props.valueMap.call(undefined, value) : value\n      }));\n    };\n\n    _this.renderListContainer = function () {\n      var _a = _this.props,\n          header = _a.header,\n          footer = _a.footer,\n          dir = _a.dir,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b;\n      var base = _this.base;\n      var popupSettings = base.getPopupSettings();\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var virtual = _this.props.virtual !== undefined;\n      var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n      var listContainerProps = {\n        dir: dir !== undefined ? dir : base.dirCalculated,\n        width: popupWidth,\n        popupSettings: {\n          popupClass: popupSettings.popupClass,\n          className: classNames('k-list-container k-reset', popupSettings.className),\n          animate: popupSettings.animate,\n          anchor: _this.element,\n          show: opened,\n          onOpen: _this.onPopupOpened,\n          onClose: _this.onPopupClosed,\n          appendTo: popupSettings.appendTo\n        },\n        itemsCount: [data.length]\n      };\n      return React.createElement(ListContainer, __assign({}, listContainerProps), _this.renderListFilter(), virtual && _this.renderDefaultItem(), virtual && header, _this.base.renderScrollWrapper(React.createElement(React.Fragment, null, !virtual && _this.renderDefaultItem(), !virtual && header, _this.renderList(), !virtual && footer, _this.base.renderScrollElement())), virtual && footer);\n    };\n\n    _this.renderList = function () {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField,\n          dataItemKey = _a.dataItemKey,\n          _c = _a.virtual,\n          virtual = _c === void 0 ? {\n        skip: 0\n      } : _c,\n          listNoDataRender = _a.listNoDataRender,\n          itemRender = _a.itemRender;\n      var vs = _this.base.vs;\n      var skip = virtual.skip;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var popupSettings = _this.base.getPopupSettings();\n\n      var translate = \"translateY(\" + vs.translate + \"px)\";\n      return React.createElement(List, {\n        id: _this.base.listBoxId,\n        show: opened,\n        data: data.slice(),\n        focusedIndex: _this.focusedIndex(),\n        value: _this.value,\n        textField: textField,\n        valueField: dataItemKey,\n        optionsGuid: _this.base.guid,\n        listRef: function (list) {\n          return vs.list = _this.base.list = list;\n        },\n        wrapperStyle: !vs.enabled ? {\n          maxHeight: popupSettings.height\n        } : {\n          float: 'left',\n          width: '100%'\n        },\n        wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined,\n        listStyle: vs.enabled ? {\n          transform: translate\n        } : undefined,\n        key: \"listkey\",\n        skip: skip,\n        onClick: _this.handleItemClick,\n        itemRender: itemRender,\n        noDataRender: listNoDataRender\n      });\n    };\n\n    _this.renderListFilter = function () {\n      var filterText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      return _this.props.filterable && React.createElement(ListFilter, {\n        value: filterText,\n        ref: function (filter) {\n          return _this._filterInput = filter && filter.input;\n        },\n        onChange: _this.handleListFilterChange,\n        onKeyDown: _this.handleKeyDown\n      });\n    };\n\n    _this.renderDefaultItem = function () {\n      var _a = _this.props,\n          textField = _a.textField,\n          defaultItem = _a.defaultItem,\n          dataItemKey = _a.dataItemKey;\n      return defaultItem !== undefined && React.createElement(ListDefaultItem, {\n        defaultItem: defaultItem,\n        textField: textField,\n        selected: areSame(_this.value, defaultItem, dataItemKey),\n        key: \"defaultitemkey\",\n        onClick: _this.handleDefaultItemClick\n      });\n    };\n\n    _this.search = function (event) {\n      clearTimeout(_this._typingTimeout);\n\n      if (!_this.props.filterable) {\n        _this._typingTimeout = window.setTimeout(function () {\n          return _this.searchState.word = '';\n        }, _this.props.delay);\n\n        _this.selectNext(event);\n      }\n    };\n\n    _this.selectNext = function (event) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var mappedData = data.map(function (item, idx) {\n        return {\n          item: item,\n          itemIndex: idx\n        };\n      });\n      var word = _this.searchState.word;\n      var last = _this.searchState.last;\n      var isInLoop = sameCharsOnly(word, last);\n      var dataLength = mappedData.length;\n      var startIndex = Math.max(0, data.findIndex(function (i) {\n        return areSame(i, _this.value, dataItemKey);\n      }));\n      var defaultItem;\n\n      if (_this.props.defaultItem) {\n        defaultItem = {\n          item: _this.props.defaultItem,\n          itemIndex: -1\n        };\n        dataLength += 1;\n        startIndex += 1;\n      }\n\n      startIndex += isInLoop ? 1 : 0;\n      mappedData = shuffleData(mappedData, startIndex, defaultItem);\n      var text,\n          loopMatch,\n          nextMatch,\n          index = 0;\n      var _c = _this.props,\n          textField = _c.textField,\n          ignoreCase = _c.ignoreCase;\n\n      for (; index < dataLength; index++) {\n        text = getItemValue(mappedData[index].item, textField);\n        loopMatch = isInLoop && matchText(text, last, ignoreCase);\n        nextMatch = matchText(text, word, ignoreCase);\n\n        if (loopMatch || nextMatch) {\n          index = mappedData[index].itemIndex;\n          break;\n        }\n      }\n\n      if (index !== dataLength) {\n        var state = _this.base.initState();\n\n        state.syntheticEvent = event;\n\n        _this.handleItemSelect(index, state);\n\n        _this.applyState(state);\n\n        _this._valueDuringOnChange = undefined;\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          filterable = _a.filterable,\n          disabled = _a.disabled,\n          _c = _a.leftRightKeysNavigation,\n          leftRightKeysNavigation = _c === void 0 ? true : _c,\n          _d = _a.virtual,\n          virtual = _d === void 0 ? {\n        skip: 0,\n        total: 0,\n        pageSize: 0\n      } : _d;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var keyCode = event.keyCode;\n      var homeOrEndKeys = keyCode === Keys.home || keyCode === Keys.end;\n      var upOrDownKeys = keyCode === Keys.up || keyCode === Keys.down;\n      var shouldOpen = !opened && (event.altKey && keyCode === Keys.down || keyCode === Keys.enter || keyCode === Keys.space);\n      var shouldClose = opened && (event.altKey && keyCode === Keys.up || keyCode === Keys.esc);\n      var leftOrRightKeys = leftRightKeysNavigation && (keyCode === Keys.left || keyCode === Keys.right);\n      var shouldNavigate = upOrDownKeys || !filterable && (leftOrRightKeys || homeOrEndKeys);\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (disabled) {\n        return;\n      } else if (homeOrEndKeys && _this.base.vs.enabled) {\n        if (keyCode === Keys.home) {\n          if (virtual.skip !== 0) {\n            _this.base.triggerOnPageChange(state, 0, virtual.pageSize);\n\n            _this._navigated = true;\n          } else {\n            _this.triggerOnChange(data[0], state);\n          }\n        } else {\n          if (virtual.skip < virtual.total - virtual.pageSize) {\n            _this.base.triggerOnPageChange(state, virtual.total - virtual.pageSize, virtual.pageSize);\n\n            _this._navigated = true;\n          } else {\n            _this.triggerOnChange(data[data.length - 1], state);\n          }\n        }\n      } else if (opened && keyCode === Keys.enter) {\n        var focusedIndex = _this.focusedIndex();\n\n        if (focusedIndex !== undefined) {\n          _this.handleItemSelect(focusedIndex, state);\n        }\n\n        _this.base.togglePopup(state);\n\n        event.preventDefault();\n      } else if (shouldOpen || shouldClose) {\n        _this.base.togglePopup(state);\n\n        event.preventDefault();\n      } else if (shouldNavigate) {\n        _this.onNavigate(state, keyCode);\n\n        event.preventDefault();\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n\n      _this._valueDuringOnChange = undefined;\n    };\n\n    _this.handleFocus = function (event) {\n      if (_this._skipFocusEvent) {\n        return;\n      }\n\n      _this.base.handleFocus(event);\n    };\n\n    _this.handleBlur = function (event) {\n      if (_this._skipFocusEvent || !_this.state.focused) {\n        return;\n      }\n\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      state.data.focused = false;\n      state.events.push({\n        type: 'onBlur'\n      });\n\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.handleDefaultItemClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      _this.base.togglePopup(state);\n\n      _this.triggerOnChange(_this.props.defaultItem, state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleWrapperClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (!_this.state.focused) {\n        state.data.focused = true;\n      }\n\n      _this.base.togglePopup(state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleKeyPress = function (event) {\n      if (_this.props.filterable || event.which === 0 || event.keyCode === Keys.enter) {\n        return;\n      }\n\n      var character = String.fromCharCode(event.charCode || event.keyCode);\n\n      if (_this.props.ignoreCase) {\n        character = character.toLowerCase();\n      }\n\n      if (character === ' ') {\n        event.preventDefault();\n      }\n\n      _this.searchState = {\n        word: _this.searchState.word + character,\n        last: _this.searchState.last + character\n      };\n\n      _this.search(event);\n    };\n\n    _this.handleListFilterChange = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (_this.props.filter === undefined) {\n        state.data.text = event.target.value;\n      }\n\n      _this.base.filterChanged(event.target.value, state);\n\n      _this.applyState(state);\n    };\n\n    _this.onPopupOpened = function () {\n      if (_this._filterInput) {\n        _this.focusElement(_this._filterInput);\n      }\n    };\n\n    _this.onPopupClosed = function () {\n      if (_this.state.focused) {\n        window.setTimeout(function () {\n          if (_this.state.focused && _this.base.wrapper) {\n            _this.focusElement(_this.base.wrapper);\n          }\n        });\n      }\n    };\n\n    _this.setValidity = function () {\n      if (_this._select && _this._select.setCustomValidity) {\n        _this._select.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"actionElement\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.base.wrapper;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"value\", {\n    /**\n     * The value of the DropDownList.\n     */\n    get: function () {\n      var value;\n\n      if (this._valueDuringOnChange !== undefined) {\n        value = this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        value = this.props.value;\n      } else if (this.state.value !== undefined) {\n        value = this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        value = this.props.defaultValue;\n      }\n\n      if (!isPresent(value) && this.props.defaultItem !== undefined) {\n        value = this.props.defaultItem;\n      }\n\n      return value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"index\", {\n    /**\n     * The index of the selected item.\n     */\n    get: function () {\n      var _a = this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var value = this.value; // TO DO: deprecate it!\n\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the DropDownList.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the DropDownList is set.\n     */\n    get: function () {\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value !== '' && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : DropDownListWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : DropDownListWithoutContext.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  DropDownListWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var closing = prevOpened && !opened;\n\n    if (!this.base.getPopupSettings().animate) {\n      if (opening) {\n        this.onPopupOpened();\n      } else if (closing) {// this.onPopupClosed();\n      }\n    }\n\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var selectedItem_1 = this.value;\n      var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n      var selectedItemIndex = data.findIndex(function (i) {\n        return areSame(i, selectedItem_1, dataItemKey);\n      });\n      var selectedItemChanged = !areSame(prevSelectedItem, selectedItem_1, dataItemKey);\n\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n      } else if (opening && !virtual) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && selectedItem_1 && selectedItemChanged && !this._navigated) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && this._navigated) {\n        if (this._navigated && virtual && virtual.skip === 0) {\n          this.base.vs.reset();\n        } else if (this._navigated && virtual && virtual.skip === virtual.total - virtual.pageSize) {\n          this.base.vs.scrollToEnd();\n        }\n      }\n    }\n\n    this._navigated = false;\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownListWithoutContext.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownListWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        style = _a.style,\n        className = _a.className,\n        label = _a.label,\n        dir = _a.dir,\n        virtual = _a.virtual;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var text = getItemValue(this.value, this.props.textField);\n    var isValid = !this.validityStyles || this.validity.valid;\n    var base = this.base;\n    var vs = base.vs;\n    vs.enabled = virtual !== undefined;\n\n    if (virtual !== undefined) {\n      base.vs.skip = virtual.skip;\n      base.vs.total = virtual.total;\n      base.vs.pageSize = virtual.pageSize;\n    }\n\n    var dropdownlist = React.createElement(\"span\", {\n      ref: function (dropdown) {\n        return _this._element = dropdown;\n      },\n      className: classNames('k-widget k-dropdown', {\n        'k-state-invalid': !isValid\n      }, className),\n      style: !label ? style : __assign({}, style, {\n        width: undefined\n      }),\n      dir: dir,\n      onMouseDown: opened ? preventDefaultNonInputs : undefined,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur\n    }, this.renderDropDownWrapper(), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorValue: text,\n      editorValid: isValid,\n      editorDisabled: this.props.disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: dropdownlist\n    }) : dropdownlist;\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownListWithoutContext.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        defaultItem = _a.defaultItem,\n        dataItemKey = _a.dataItemKey,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0,\n      total: 0,\n      pageSize: 0\n    } : _c;\n    var vs = this.base.vs;\n    var value = this.value;\n    var index = data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    });\n    var newIndex = this.base.navigation.navigate({\n      current: virtual.skip + index,\n      max: (vs.enabled ? virtual.total : data.length) - 1,\n      min: defaultItem !== undefined ? -1 : 0,\n      keyCode: keyCode\n    });\n\n    if (newIndex !== undefined) {\n      this.handleItemSelect(newIndex, state);\n    }\n\n    this.applyState(state);\n  };\n\n  DropDownListWithoutContext.prototype.focusedIndex = function () {\n    var filterText = isPresent(this.props.filter) ? this.props.filter : this.state.text;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c,\n        dataItemKey = _a.dataItemKey,\n        textField = _a.textField,\n        focusedItemIndex = _a.focusedItemIndex;\n    var value = this.value;\n    var selectedIndex = data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    });\n    var hasSelected = !(selectedIndex < 0 && !this.props.defaultItem);\n\n    if (!hasSelected && filterText && virtual.skip === 0) {\n      return focusedItemIndex ? focusedItemIndex(data, filterText, textField) : data.indexOf(getFocusedItem(data, filterText, textField));\n    } else {\n      return !hasSelected && virtual.skip === 0 ? 0 : undefined;\n    }\n  };\n\n  DropDownListWithoutContext.prototype.focusElement = function (element) {\n    var _this = this;\n\n    this._skipFocusEvent = true;\n    element.focus();\n    window.setTimeout(function () {\n      return _this._skipFocusEvent = false;\n    }, 30);\n  };\n\n  DropDownListWithoutContext.prototype.triggerOnChange = function (item, state) {\n    if (areSame(this.value, item, this.props.dataItemKey)) {\n      return;\n    }\n\n    if (this.props.value === undefined) {\n      state.data.value = item;\n    }\n\n    this._valueDuringOnChange = item;\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n\n  DropDownListWithoutContext.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n\n  DropDownListWithoutContext.displayName = 'DropDownList';\n  /**\n   * @hidden\n   */\n\n  DropDownListWithoutContext.propTypes = __assign({\n    delay: PropTypes.number,\n    ignoreCase: PropTypes.bool,\n    iconClassName: PropTypes.string,\n    defaultItem: PropTypes.any,\n    valueRender: PropTypes.func,\n    valueMap: PropTypes.func,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    leftRightKeysNavigation: PropTypes.bool,\n    title: PropTypes.string\n  }, DropDownBase.propTypes);\n  /**\n   * @hidden\n   */\n\n  DropDownListWithoutContext.defaultProps = __assign({\n    delay: 500,\n    tabIndex: 0,\n    ignoreCase: true\n  }, DropDownBase.defaultProps, {\n    required: false\n  });\n  return DropDownListWithoutContext;\n}(React.Component);\n\nexport { DropDownListWithoutContext };\n/**\n * Represents the PropsContext of the `DropDownList` component.\n * Used for global configuration of all `DropDownList` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\n\nexport var DropDownListPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the [KendoReact DropDownList component]({% slug overview_dropdownlist %}).\n *\n * Accepts properties of type [DropDownListProps]({% slug api_dropdowns_dropdownlistprops %}).\n * Obtaining the `ref` returns an object of type [DropDownListHandle]({% slug api_dropdowns_dropdownlisthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    dropdownlist = null;\n *    render() {\n *       return (\n *          <div>\n *              <DropDownList\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.dropdownlist = component}\n *              />\n *              <button onClick={() => alert(this.dropdownlist.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nexport var DropDownList = withPropsContext(DropDownListPropsContext, DropDownListWithoutContext);\nDropDownList.displayName = 'KendoReactDropDownList';","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-react-dropdowns/dist/es/DropDownList/DropDownList.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","classNames","Keys","getTabIndex","createPropsContext","withPropsContext","FloatingLabel","ListContainer","ListFilter","ListDefaultItem","List","DropDownBase","isPresent","getItemValue","sameCharsOnly","shuffleData","matchText","areSame","preventDefaultNonInputs","getFocusedItem","validatePackage","packageMetadata","VALIDATION_MESSAGE","DropDownListWithoutContext","_super","props","_this","state","base","searchState","word","last","_skipFocusEvent","_filterInput","_navigated","focus","wrapper","handleItemSelect","index","_a","_b","data","virtual","dataItemKey","defaultItem","skip","item","undefined","newSelected","value","triggerOnChange","triggerPageChangeCornerItems","renderDropDownWrapper","textField","disabled","tabIndex","loading","iconClassName","_c","valueRender","focused","opened","selectedIndex","findIndex","text","valueDefaultRendering","createElement","className","valueElement","ref","el","role","accessKey","onKeyDown","handleKeyDown","onKeyPress","handleKeyPress","onClick","handleWrapperClick","listBoxId","guid","label","ariaLabelledBy","ariaDescribedBy","id","title","dummySelect","name","_select","style","opacity","width","border","zIndex","position","left","valueMap","renderListContainer","header","footer","dir","popupSettings","getPopupSettings","popupWidth","listContainerProps","dirCalculated","popupClass","animate","anchor","element","show","onOpen","onPopupOpened","onClose","onPopupClosed","appendTo","itemsCount","renderListFilter","renderDefaultItem","renderScrollWrapper","Fragment","renderList","renderScrollElement","listNoDataRender","itemRender","vs","translate","slice","focusedIndex","valueField","optionsGuid","listRef","list","wrapperStyle","enabled","maxHeight","height","float","wrapperCssClass","listStyle","transform","key","handleItemClick","noDataRender","filterText","filter","filterable","input","onChange","handleListFilterChange","selected","handleDefaultItemClick","search","event","clearTimeout","_typingTimeout","window","setTimeout","delay","selectNext","mappedData","map","idx","itemIndex","isInLoop","dataLength","startIndex","Math","max","loopMatch","nextMatch","ignoreCase","initState","syntheticEvent","applyState","_valueDuringOnChange","leftRightKeysNavigation","_d","total","pageSize","keyCode","homeOrEndKeys","home","end","upOrDownKeys","up","down","shouldOpen","altKey","enter","space","shouldClose","esc","leftOrRightKeys","right","shouldNavigate","triggerOnPageChange","togglePopup","preventDefault","onNavigate","handleFocus","handleBlur","events","push","type","which","character","String","fromCharCode","charCode","toLowerCase","target","filterChanged","focusElement","setValidity","setCustomValidity","validity","valid","validationMessage","defineProperty","get","_element","enumerable","configurable","defaultValue","customError","isValid","required","valueMissing","validityStyles","defaultProps","componentDidUpdate","prevProps","prevState","prevTotal","prevOpened","opening","closing","calcScrollElementHeight","reset","selectedItem_1","prevSelectedItem","selectedItemIndex","selectedItemChanged","scrollToVirtualItem","scrollToItem","scrollToEnd","componentDidMount","didMount","render","dropdownlist","dropdown","onMouseDown","onFocus","onBlur","editorValue","editorValid","editorDisabled","children","newIndex","navigation","navigate","current","min","focusedItemIndex","hasSelected","indexOf","displayName","propTypes","number","bool","string","any","func","Component","DropDownListPropsContext","DropDownList"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAII,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGV,MAAM,CAACW,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAIV,CAAT,IAAcS,CAAd,EAAiB,IAAIb,MAAM,CAACQ,SAAP,CAAiBH,cAAjB,CAAgCa,IAAhC,CAAqCL,CAArC,EAAwCT,CAAxC,CAAJ,EACbQ,CAAC,CAACR,CAAD,CAAD,GAAOS,CAAC,CAACT,CAAD,CAAR;AACP;;AACD,WAAOQ,CAAP;AACH,GAPD;;AAQA,SAAOF,QAAQ,CAACS,KAAT,CAAe,IAAf,EAAqBH,SAArB,CAAP;AACH,CAVD;;AAWA,OAAO,KAAKI,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,YAA3B;AACA,SAASC,UAAT,EAAqBC,IAArB,EAA2BC,WAA3B,EAAwCC,kBAAxC,EAA4DC,gBAA5D,QAAoF,8BAApF;AACA,SAASC,aAAT,QAA8B,8BAA9B;AACA,OAAOC,aAAP,MAA0B,yBAA1B;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,SAAT,EAAoBC,YAApB,EAAkCC,aAAlC,EAAiDC,WAAjD,EAA8DC,SAA9D,EAAyEC,OAAzE,EAAkFC,uBAAlF,EAA2GC,cAA3G,QAAiI,iBAAjI;AACA,SAASC,eAAT,QAAgC,8BAAhC;AACA,SAASC,eAAT,QAAgC,qBAAhC;AACA,IAAIC,kBAAkB,GAAG,sCAAzB;AACA;AACA;AACA;;AACA,IAAIC,0BAA0B;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAC9DjD,EAAAA,SAAS,CAACgD,0BAAD,EAA6BC,MAA7B,CAAT;;AACA,WAASD,0BAAT,CAAoCE,KAApC,EAA2C;AACvC,QAAIC,KAAK,GAAGF,MAAM,CAAC3B,IAAP,CAAY,IAAZ,EAAkB4B,KAAlB,KAA4B,IAAxC;AACA;AACR;AACA;;;AACQC,IAAAA,KAAK,CAACC,KAAN,GAAc,EAAd;AACAD,IAAAA,KAAK,CAACE,IAAN,GAAa,IAAIjB,YAAJ,CAAiBe,KAAjB,CAAb;AACAA,IAAAA,KAAK,CAACG,WAAN,GAAoB;AAAEC,MAAAA,IAAI,EAAE,EAAR;AAAYC,MAAAA,IAAI,EAAE;AAAlB,KAApB;AACAL,IAAAA,KAAK,CAACM,eAAN,GAAwB,KAAxB;AACAN,IAAAA,KAAK,CAACO,YAAN,GAAqB,IAArB;AACAP,IAAAA,KAAK,CAACQ,UAAN,GAAmB,KAAnB;AACA;AACR;AACA;;AACQR,IAAAA,KAAK,CAACS,KAAN,GAAc,YAAY;AACtB,UAAIT,KAAK,CAACE,IAAN,CAAWQ,OAAf,EAAwB;AACpBV,QAAAA,KAAK,CAACE,IAAN,CAAWQ,OAAX,CAAmBD,KAAnB;AACH;AACJ,KAJD;AAKA;AACR;AACA;;;AACQT,IAAAA,KAAK,CAACW,gBAAN,GAAyB,UAAUC,KAAV,EAAiBX,KAAjB,EAAwB;AAC7C,UAAIY,EAAE,GAAGb,KAAK,CAACD,KAAf;AAAA,UAAsBe,EAAE,GAAGD,EAAE,CAACE,IAA9B;AAAA,UAAoCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAhE;AAAA,UAAoEE,OAAO,GAAGH,EAAE,CAACG,OAAjF;AAAA,UAA0FC,WAAW,GAAGJ,EAAE,CAACI,WAA3G;AAAA,UAAwHC,WAAW,GAAGL,EAAE,CAACK,WAAzI;AACA,UAAIC,IAAI,GAAGH,OAAO,GAAGA,OAAO,CAACG,IAAX,GAAkB,CAApC;AACA,UAAIC,IAAI,GAAIR,KAAK,KAAK,CAAC,CAAX,IAAgBM,WAAW,KAAKG,SAAjC,GACPH,WADO,GACOH,IAAI,CAACH,KAAK,GAAGO,IAAT,CADtB;AAEA,UAAIG,WAAW,GAAG,CAAC/B,OAAO,CAAC6B,IAAD,EAAOpB,KAAK,CAACuB,KAAb,EAAoBN,WAApB,CAA1B;;AACAjB,MAAAA,KAAK,CAACwB,eAAN,CAAsBJ,IAAtB,EAA4BnB,KAA5B;;AACA,UAAIqB,WAAJ,EAAiB;AACbtB,QAAAA,KAAK,CAACE,IAAN,CAAWuB,4BAAX,CAAwCL,IAAxC,EAA8CnB,KAA9C;AACH;AACJ,KAVD;;AAWAD,IAAAA,KAAK,CAAC0B,qBAAN,GAA8B,YAAY;AACtC,UAAIb,EAAE,GAAGb,KAAK,CAACD,KAAf;AAAA,UAAsBkB,WAAW,GAAGJ,EAAE,CAACI,WAAvC;AAAA,UAAoDH,EAAE,GAAGD,EAAE,CAACE,IAA5D;AAAA,UAAkEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA9F;AAAA,UAAkGa,SAAS,GAAGd,EAAE,CAACc,SAAjH;AAAA,UAA4HC,QAAQ,GAAGf,EAAE,CAACe,QAA1I;AAAA,UAAoJC,QAAQ,GAAGhB,EAAE,CAACgB,QAAlK;AAAA,UAA4KC,OAAO,GAAGjB,EAAE,CAACiB,OAAzL;AAAA,UAAkMC,aAAa,GAAGlB,EAAE,CAACkB,aAArN;AAAA,UAAoOC,EAAE,GAAGnB,EAAE,CAACG,OAA5O;AAAA,UAAqPA,OAAO,GAAGgB,EAAE,KAAK,KAAK,CAAZ,GAAgB;AAAEb,QAAAA,IAAI,EAAE;AAAR,OAAhB,GAA8Ba,EAA7R;AAAA,UAAiSC,WAAW,GAAGpB,EAAE,CAACoB,WAAlT;AACA,UAAIC,OAAO,GAAGlC,KAAK,CAACC,KAAN,CAAYiC,OAA1B;AACA,UAAIC,MAAM,GAAGnC,KAAK,CAACD,KAAN,CAAYoC,MAAZ,KAAuBd,SAAvB,GAAmCrB,KAAK,CAACD,KAAN,CAAYoC,MAA/C,GAAwDnC,KAAK,CAACC,KAAN,CAAYkC,MAAjF;AACA,UAAIZ,KAAK,GAAGvB,KAAK,CAACuB,KAAlB;AACA,UAAIa,aAAa,GAAGrB,IAAI,CAACsB,SAAL,CAAe,UAAUtE,CAAV,EAAa;AAAE,eAAOwB,OAAO,CAACxB,CAAD,EAAIwD,KAAJ,EAAWN,WAAX,CAAd;AAAwC,OAAtE,CAApB;AACA,UAAIqB,IAAI,GAAGnD,YAAY,CAACoC,KAAD,EAAQI,SAAR,CAAvB;AACA,UAAIY,qBAAqB,GAAIlE,KAAK,CAACmE,aAAN,CAAoB,MAApB,EAA4B;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAA5B,EAAsDH,IAAtD,CAA7B;AACA,UAAII,YAAY,GAAGT,WAAW,KAAKZ,SAAhB,GACfY,WAAW,CAAC9D,IAAZ,CAAiBkD,SAAjB,EAA4BkB,qBAA5B,EAAmDhB,KAAnD,CADe,GAC6CgB,qBADhE;AAEA,aAAQlE,KAAK,CAACmE,aAAN,CAAoB,MAApB,EAA4B;AAAEG,QAAAA,GAAG,EAAE,UAAUC,EAAV,EAAc;AAAE,iBAAO5C,KAAK,CAACE,IAAN,CAAWQ,OAAX,GAAqBkC,EAA5B;AAAiC,SAAxD;AAA0DC,QAAAA,IAAI,EAAE,SAAhE;AAA2EhB,QAAAA,QAAQ,EAAEpD,WAAW,CAACoD,QAAD,EAAWD,QAAX,CAAhG;AAAsHkB,QAAAA,SAAS,EAAE9C,KAAK,CAACD,KAAN,CAAY+C,SAA7I;AAAwJL,QAAAA,SAAS,EAAElE,UAAU,CAAC,iBAAD,EAAoB;AAC7N,6BAAmB2D,OAD0M;AAE7N,8BAAoBN;AAFyM,SAApB,CAA7K;AAG5BmB,QAAAA,SAAS,EAAE/C,KAAK,CAACgD,aAHW;AAGIC,QAAAA,UAAU,EAAEjD,KAAK,CAACkD,cAHtB;AAGsCC,QAAAA,OAAO,EAAEvB,QAAQ,GAAGP,SAAH,GAAerB,KAAK,CAACoD,kBAH5E;AAGgG,yBAAiBxB,QAAQ,IAAIP,SAH7H;AAGwI,yBAAiB,IAHzJ;AAG+J,yBAAiBc,MAAM,IAAI,KAH1L;AAGiM,qBAAanC,KAAK,CAACE,IAAN,CAAWmD,SAHzN;AAGoO,iCAAyBlB,MAAM,GAAI,YAAYnC,KAAK,CAACE,IAAN,CAAWoD,IAAvB,GAA8B,GAA9B,IAAqClB,aAAa,GAAGpB,OAAO,CAACG,IAA7D,CAAJ,GAA0EE,SAH7U;AAGwV,sBAAcrB,KAAK,CAACD,KAAN,CAAYwD,KAHlX;AAGyX,2BAAmBvD,KAAK,CAACD,KAAN,CAAYyD,cAHxZ;AAGwa,4BAAoBxD,KAAK,CAACD,KAAN,CAAY0D,eAHxc;AAGydC,QAAAA,EAAE,EAAE1D,KAAK,CAACD,KAAN,CAAY2D,EAHze;AAG6eC,QAAAA,KAAK,EAAE3D,KAAK,CAACD,KAAN,CAAY4D;AAHhgB,OAA5B,EAIJjB,YAJI,EAKJrE,KAAK,CAACmE,aAAN,CAAoB,MAApB,EAA4B;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAA5B,EACIpE,KAAK,CAACmE,aAAN,CAAoB,MAApB,EAA4B;AAAEC,QAAAA,SAAS,EAAElE,UAAU,CAAC,QAAD,EAAWwD,aAAX,EAA0B;AACrE,yBAAe,CAACD,OAAD,IAAY,CAACC,aADyC;AAErE,yBAAeD,OAAO,IAAI,CAACC;AAF0C,SAA1B;AAAvB,OAA5B,CADJ,CALI,EAUJ/B,KAAK,CAAC4D,WAAN,CAAkBrC,KAAlB,CAVI,CAAR;AAWH,KArBD;;AAsBAvB,IAAAA,KAAK,CAAC4D,WAAN,GAAoB,UAAUrC,KAAV,EAAiB;AACjC;AACA,aAAQlD,KAAK,CAACmE,aAAN,CAAoB,QAApB,EAA8B;AAAEqB,QAAAA,IAAI,EAAE7D,KAAK,CAACD,KAAN,CAAY8D,IAApB;AAA0BlB,QAAAA,GAAG,EAAE,UAAUC,EAAV,EAAc;AAAE5C,UAAAA,KAAK,CAAC8D,OAAN,GAAgBlB,EAAhB;AAAqB,SAApE;AAAsEf,QAAAA,QAAQ,EAAE,CAAC,CAAjF;AAAoF,uBAAe,IAAnG;AAAyG8B,QAAAA,KAAK,EAAE3D,KAAK,CAACD,KAAN,CAAYwD,KAA5H;AAAmIQ,QAAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE,CAAX;AAAcC,UAAAA,KAAK,EAAE,CAArB;AAAwBC,UAAAA,MAAM,EAAE,CAAhC;AAAmCC,UAAAA,MAAM,EAAE,CAAC,CAA5C;AAA+CC,UAAAA,QAAQ,EAAE,UAAzD;AAAqEC,UAAAA,IAAI,EAAE;AAA3E;AAA1I,OAA9B,EACJhG,KAAK,CAACmE,aAAN,CAAoB,QAApB,EAA8B;AAAEjB,QAAAA,KAAK,EAAEvB,KAAK,CAACD,KAAN,CAAYuE,QAAZ,GAAuBtE,KAAK,CAACD,KAAN,CAAYuE,QAAZ,CAAqBnG,IAArB,CAA0BkD,SAA1B,EAAqCE,KAArC,CAAvB,GAAqEA;AAA9E,OAA9B,CADI,CAAR;AAEH,KAJD;;AAKAvB,IAAAA,KAAK,CAACuE,mBAAN,GAA4B,YAAY;AACpC,UAAI1D,EAAE,GAAGb,KAAK,CAACD,KAAf;AAAA,UAAsByE,MAAM,GAAG3D,EAAE,CAAC2D,MAAlC;AAAA,UAA0CC,MAAM,GAAG5D,EAAE,CAAC4D,MAAtD;AAAA,UAA8DC,GAAG,GAAG7D,EAAE,CAAC6D,GAAvE;AAAA,UAA4E5D,EAAE,GAAGD,EAAE,CAACE,IAApF;AAAA,UAA0FA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAtH;AACA,UAAIZ,IAAI,GAAGF,KAAK,CAACE,IAAjB;AACA,UAAIyE,aAAa,GAAGzE,IAAI,CAAC0E,gBAAL,EAApB;AACA,UAAIzC,MAAM,GAAGnC,KAAK,CAACD,KAAN,CAAYoC,MAAZ,KAAuBd,SAAvB,GAAmCrB,KAAK,CAACD,KAAN,CAAYoC,MAA/C,GAAwDnC,KAAK,CAACC,KAAN,CAAYkC,MAAjF;AACA,UAAInB,OAAO,GAAGhB,KAAK,CAACD,KAAN,CAAYiB,OAAZ,KAAwBK,SAAtC;AACA,UAAIwD,UAAU,GAAGF,aAAa,CAACV,KAAd,KAAwB5C,SAAxB,GAAoCsD,aAAa,CAACV,KAAlD,GAA0D/D,IAAI,CAAC2E,UAAhF;AACA,UAAIC,kBAAkB,GAAG;AACrBJ,QAAAA,GAAG,EAAEA,GAAG,KAAKrD,SAAR,GAAoBqD,GAApB,GAA0BxE,IAAI,CAAC6E,aADf;AAErBd,QAAAA,KAAK,EAAEY,UAFc;AAGrBF,QAAAA,aAAa,EAAE;AACXK,UAAAA,UAAU,EAAEL,aAAa,CAACK,UADf;AAEXvC,UAAAA,SAAS,EAAElE,UAAU,CAAC,0BAAD,EAA6BoG,aAAa,CAAClC,SAA3C,CAFV;AAGXwC,UAAAA,OAAO,EAAEN,aAAa,CAACM,OAHZ;AAIXC,UAAAA,MAAM,EAAElF,KAAK,CAACmF,OAJH;AAKXC,UAAAA,IAAI,EAAEjD,MALK;AAMXkD,UAAAA,MAAM,EAAErF,KAAK,CAACsF,aANH;AAOXC,UAAAA,OAAO,EAAEvF,KAAK,CAACwF,aAPJ;AAQXC,UAAAA,QAAQ,EAAEd,aAAa,CAACc;AARb,SAHM;AAarBC,QAAAA,UAAU,EAAE,CAAC3E,IAAI,CAAC7C,MAAN;AAbS,OAAzB;AAeA,aAAQG,KAAK,CAACmE,aAAN,CAAoB3D,aAApB,EAAmClB,QAAQ,CAAC,EAAD,EAAKmH,kBAAL,CAA3C,EACJ9E,KAAK,CAAC2F,gBAAN,EADI,EAEJ3E,OAAO,IAAIhB,KAAK,CAAC4F,iBAAN,EAFP,EAGJ5E,OAAO,IAAIwD,MAHP,EAIJxE,KAAK,CAACE,IAAN,CAAW2F,mBAAX,CAA+BxH,KAAK,CAACmE,aAAN,CAAoBnE,KAAK,CAACyH,QAA1B,EAAoC,IAApC,EAC3B,CAAC9E,OAAD,IAAYhB,KAAK,CAAC4F,iBAAN,EADe,EAE3B,CAAC5E,OAAD,IAAYwD,MAFe,EAG3BxE,KAAK,CAAC+F,UAAN,EAH2B,EAI3B,CAAC/E,OAAD,IAAYyD,MAJe,EAK3BzE,KAAK,CAACE,IAAN,CAAW8F,mBAAX,EAL2B,CAA/B,CAJI,EAUJhF,OAAO,IAAIyD,MAVP,CAAR;AAWH,KAjCD;;AAkCAzE,IAAAA,KAAK,CAAC+F,UAAN,GAAmB,YAAY;AAC3B,UAAIlF,EAAE,GAAGb,KAAK,CAACD,KAAf;AAAA,UAAsBe,EAAE,GAAGD,EAAE,CAACE,IAA9B;AAAA,UAAoCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAhE;AAAA,UAAoEa,SAAS,GAAGd,EAAE,CAACc,SAAnF;AAAA,UAA8FV,WAAW,GAAGJ,EAAE,CAACI,WAA/G;AAAA,UAA4He,EAAE,GAAGnB,EAAE,CAACG,OAApI;AAAA,UAA6IA,OAAO,GAAGgB,EAAE,KAAK,KAAK,CAAZ,GAAgB;AAAEb,QAAAA,IAAI,EAAE;AAAR,OAAhB,GAA8Ba,EAArL;AAAA,UAAyLiE,gBAAgB,GAAGpF,EAAE,CAACoF,gBAA/M;AAAA,UAAiOC,UAAU,GAAGrF,EAAE,CAACqF,UAAjP;AACA,UAAIC,EAAE,GAAGnG,KAAK,CAACE,IAAN,CAAWiG,EAApB;AACA,UAAIhF,IAAI,GAAGH,OAAO,CAACG,IAAnB;AACA,UAAIgB,MAAM,GAAGnC,KAAK,CAACD,KAAN,CAAYoC,MAAZ,KAAuBd,SAAvB,GAAmCrB,KAAK,CAACD,KAAN,CAAYoC,MAA/C,GAAwDnC,KAAK,CAACC,KAAN,CAAYkC,MAAjF;;AACA,UAAIwC,aAAa,GAAG3E,KAAK,CAACE,IAAN,CAAW0E,gBAAX,EAApB;;AACA,UAAIwB,SAAS,GAAG,gBAAgBD,EAAE,CAACC,SAAnB,GAA+B,KAA/C;AACA,aAAQ/H,KAAK,CAACmE,aAAN,CAAoBxD,IAApB,EAA0B;AAAE0E,QAAAA,EAAE,EAAE1D,KAAK,CAACE,IAAN,CAAWmD,SAAjB;AAA4B+B,QAAAA,IAAI,EAAEjD,MAAlC;AAA0CpB,QAAAA,IAAI,EAAEA,IAAI,CAACsF,KAAL,EAAhD;AAA8DC,QAAAA,YAAY,EAAEtG,KAAK,CAACsG,YAAN,EAA5E;AAAkG/E,QAAAA,KAAK,EAAEvB,KAAK,CAACuB,KAA/G;AAAsHI,QAAAA,SAAS,EAAEA,SAAjI;AAA4I4E,QAAAA,UAAU,EAAEtF,WAAxJ;AAAqKuF,QAAAA,WAAW,EAAExG,KAAK,CAACE,IAAN,CAAWoD,IAA7L;AAAmMmD,QAAAA,OAAO,EAAE,UAAUC,IAAV,EAAgB;AAAE,iBAAOP,EAAE,CAACO,IAAH,GAAU1G,KAAK,CAACE,IAAN,CAAWwG,IAAX,GAAkBA,IAAnC;AAA0C,SAAxQ;AAA0QC,QAAAA,YAAY,EAAE,CAACR,EAAE,CAACS,OAAJ,GAClT;AAAEC,UAAAA,SAAS,EAAElC,aAAa,CAACmC;AAA3B,SADkT,GAC5Q;AAAEC,UAAAA,KAAK,EAAE,MAAT;AAAiB9C,UAAAA,KAAK,EAAE;AAAxB,SADZ;AAC8C+C,QAAAA,eAAe,EAAE,CAACb,EAAE,CAACS,OAAJ,GAAc,iBAAd,GAAkCvF,SADjG;AAC4G4F,QAAAA,SAAS,EAAEd,EAAE,CAACS,OAAH,GACjJ;AAAEM,UAAAA,SAAS,EAAEd;AAAb,SADiJ,GACtH/E,SAFD;AAEY8F,QAAAA,GAAG,EAAE,SAFjB;AAE4BhG,QAAAA,IAAI,EAAEA,IAFlC;AAEwCgC,QAAAA,OAAO,EAAEnD,KAAK,CAACoH,eAFvD;AAEwElB,QAAAA,UAAU,EAAEA,UAFpF;AAEgGmB,QAAAA,YAAY,EAAEpB;AAF9G,OAA1B,CAAR;AAGH,KAVD;;AAWAjG,IAAAA,KAAK,CAAC2F,gBAAN,GAAyB,YAAY;AACjC,UAAI2B,UAAU,GAAGtH,KAAK,CAACD,KAAN,CAAYwH,MAAZ,KAAuBlG,SAAvB,GAAmCrB,KAAK,CAACD,KAAN,CAAYwH,MAA/C,GAAwDvH,KAAK,CAACC,KAAN,CAAYqC,IAArF;AACA,aAAOtC,KAAK,CAACD,KAAN,CAAYyH,UAAZ,IAA2BnJ,KAAK,CAACmE,aAAN,CAAoB1D,UAApB,EAAgC;AAAEyC,QAAAA,KAAK,EAAE+F,UAAT;AAAqB3E,QAAAA,GAAG,EAAE,UAAU4E,MAAV,EAAkB;AAAE,iBAAOvH,KAAK,CAACO,YAAN,GAAqBgH,MAAM,IAAIA,MAAM,CAACE,KAA7C;AAAqD,SAAnG;AAAqGC,QAAAA,QAAQ,EAAE1H,KAAK,CAAC2H,sBAArH;AAA6I5E,QAAAA,SAAS,EAAE/C,KAAK,CAACgD;AAA9J,OAAhC,CAAlC;AACH,KAHD;;AAIAhD,IAAAA,KAAK,CAAC4F,iBAAN,GAA0B,YAAY;AAClC,UAAI/E,EAAE,GAAGb,KAAK,CAACD,KAAf;AAAA,UAAsB4B,SAAS,GAAGd,EAAE,CAACc,SAArC;AAAA,UAAgDT,WAAW,GAAGL,EAAE,CAACK,WAAjE;AAAA,UAA8ED,WAAW,GAAGJ,EAAE,CAACI,WAA/F;AACA,aAAOC,WAAW,KAAKG,SAAhB,IAA8BhD,KAAK,CAACmE,aAAN,CAAoBzD,eAApB,EAAqC;AAAEmC,QAAAA,WAAW,EAAEA,WAAf;AAA4BS,QAAAA,SAAS,EAAEA,SAAvC;AAAkDiG,QAAAA,QAAQ,EAAErI,OAAO,CAACS,KAAK,CAACuB,KAAP,EAAcL,WAAd,EAA2BD,WAA3B,CAAnE;AAA4GkG,QAAAA,GAAG,EAAE,gBAAjH;AAAmIhE,QAAAA,OAAO,EAAEnD,KAAK,CAAC6H;AAAlJ,OAArC,CAArC;AACH,KAHD;;AAIA7H,IAAAA,KAAK,CAAC8H,MAAN,GAAe,UAAUC,KAAV,EAAiB;AAC5BC,MAAAA,YAAY,CAAChI,KAAK,CAACiI,cAAP,CAAZ;;AACA,UAAI,CAACjI,KAAK,CAACD,KAAN,CAAYyH,UAAjB,EAA6B;AACzBxH,QAAAA,KAAK,CAACiI,cAAN,GAAuBC,MAAM,CAACC,UAAP,CAAkB,YAAY;AAAE,iBAAOnI,KAAK,CAACG,WAAN,CAAkBC,IAAlB,GAAyB,EAAhC;AAAqC,SAArE,EAAuEJ,KAAK,CAACD,KAAN,CAAYqI,KAAnF,CAAvB;;AACApI,QAAAA,KAAK,CAACqI,UAAN,CAAiBN,KAAjB;AACH;AACJ,KAND;;AAOA/H,IAAAA,KAAK,CAACqI,UAAN,GAAmB,UAAUN,KAAV,EAAiB;AAChC,UAAIlH,EAAE,GAAGb,KAAK,CAACD,KAAf;AAAA,UAAsBe,EAAE,GAAGD,EAAE,CAACE,IAA9B;AAAA,UAAoCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAhE;AAAA,UAAoEG,WAAW,GAAGJ,EAAE,CAACI,WAArF;AACA,UAAIqH,UAAU,GAAGvH,IAAI,CAACwH,GAAL,CAAS,UAAUnH,IAAV,EAAgBoH,GAAhB,EAAqB;AAC3C,eAAO;AAAEpH,UAAAA,IAAI,EAAEA,IAAR;AAAcqH,UAAAA,SAAS,EAAED;AAAzB,SAAP;AACH,OAFgB,CAAjB;AAGA,UAAIpI,IAAI,GAAGJ,KAAK,CAACG,WAAN,CAAkBC,IAA7B;AACA,UAAIC,IAAI,GAAGL,KAAK,CAACG,WAAN,CAAkBE,IAA7B;AACA,UAAIqI,QAAQ,GAAGtJ,aAAa,CAACgB,IAAD,EAAOC,IAAP,CAA5B;AACA,UAAIsI,UAAU,GAAGL,UAAU,CAACpK,MAA5B;AACA,UAAI0K,UAAU,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY/H,IAAI,CAACsB,SAAL,CAAe,UAAUtE,CAAV,EAAa;AAAE,eAAOwB,OAAO,CAACxB,CAAD,EAAIiC,KAAK,CAACuB,KAAV,EAAiBN,WAAjB,CAAd;AAA8C,OAA5E,CAAZ,CAAjB;AACA,UAAIC,WAAJ;;AACA,UAAIlB,KAAK,CAACD,KAAN,CAAYmB,WAAhB,EAA6B;AACzBA,QAAAA,WAAW,GAAG;AAAEE,UAAAA,IAAI,EAAEpB,KAAK,CAACD,KAAN,CAAYmB,WAApB;AAAiCuH,UAAAA,SAAS,EAAE,CAAC;AAA7C,SAAd;AACAE,QAAAA,UAAU,IAAI,CAAd;AACAC,QAAAA,UAAU,IAAI,CAAd;AACH;;AACDA,MAAAA,UAAU,IAAIF,QAAQ,GAAG,CAAH,GAAO,CAA7B;AACAJ,MAAAA,UAAU,GAAGjJ,WAAW,CAACiJ,UAAD,EAAaM,UAAb,EAAyB1H,WAAzB,CAAxB;AACA,UAAIoB,IAAJ;AAAA,UAAUyG,SAAV;AAAA,UAAqBC,SAArB;AAAA,UAAgCpI,KAAK,GAAG,CAAxC;AACA,UAAIoB,EAAE,GAAGhC,KAAK,CAACD,KAAf;AAAA,UAAsB4B,SAAS,GAAGK,EAAE,CAACL,SAArC;AAAA,UAAgDsH,UAAU,GAAGjH,EAAE,CAACiH,UAAhE;;AACA,aAAOrI,KAAK,GAAG+H,UAAf,EAA2B/H,KAAK,EAAhC,EAAoC;AAChC0B,QAAAA,IAAI,GAAGnD,YAAY,CAACmJ,UAAU,CAAC1H,KAAD,CAAV,CAAkBQ,IAAnB,EAAyBO,SAAzB,CAAnB;AACAoH,QAAAA,SAAS,GAAGL,QAAQ,IAAIpJ,SAAS,CAACgD,IAAD,EAAOjC,IAAP,EAAa4I,UAAb,CAAjC;AACAD,QAAAA,SAAS,GAAG1J,SAAS,CAACgD,IAAD,EAAOlC,IAAP,EAAa6I,UAAb,CAArB;;AACA,YAAIF,SAAS,IAAIC,SAAjB,EAA4B;AACxBpI,UAAAA,KAAK,GAAG0H,UAAU,CAAC1H,KAAD,CAAV,CAAkB6H,SAA1B;AACA;AACH;AACJ;;AACD,UAAI7H,KAAK,KAAK+H,UAAd,EAA0B;AACtB,YAAI1I,KAAK,GAAGD,KAAK,CAACE,IAAN,CAAWgJ,SAAX,EAAZ;;AACAjJ,QAAAA,KAAK,CAACkJ,cAAN,GAAuBpB,KAAvB;;AACA/H,QAAAA,KAAK,CAACW,gBAAN,CAAuBC,KAAvB,EAA8BX,KAA9B;;AACAD,QAAAA,KAAK,CAACoJ,UAAN,CAAiBnJ,KAAjB;;AACAD,QAAAA,KAAK,CAACqJ,oBAAN,GAA6BhI,SAA7B;AACH;AACJ,KApCD;;AAqCArB,IAAAA,KAAK,CAACgD,aAAN,GAAsB,UAAU+E,KAAV,EAAiB;AACnC,UAAIlH,EAAE,GAAGb,KAAK,CAACD,KAAf;AAAA,UAAsBe,EAAE,GAAGD,EAAE,CAACE,IAA9B;AAAA,UAAoCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAAhE;AAAA,UAAoE0G,UAAU,GAAG3G,EAAE,CAAC2G,UAApF;AAAA,UAAgG5F,QAAQ,GAAGf,EAAE,CAACe,QAA9G;AAAA,UAAwHI,EAAE,GAAGnB,EAAE,CAACyI,uBAAhI;AAAA,UAAyJA,uBAAuB,GAAGtH,EAAE,KAAK,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAA1M;AAAA,UAA8MuH,EAAE,GAAG1I,EAAE,CAACG,OAAtN;AAAA,UAA+NA,OAAO,GAAGuI,EAAE,KAAK,KAAK,CAAZ,GAAgB;AAAEpI,QAAAA,IAAI,EAAE,CAAR;AAAWqI,QAAAA,KAAK,EAAE,CAAlB;AAAqBC,QAAAA,QAAQ,EAAE;AAA/B,OAAhB,GAAqDF,EAA9R;AACA,UAAIpH,MAAM,GAAGnC,KAAK,CAACD,KAAN,CAAYoC,MAAZ,KAAuBd,SAAvB,GAAmCrB,KAAK,CAACD,KAAN,CAAYoC,MAA/C,GAAwDnC,KAAK,CAACC,KAAN,CAAYkC,MAAjF;AACA,UAAIuH,OAAO,GAAG3B,KAAK,CAAC2B,OAApB;AACA,UAAIC,aAAa,GAAGD,OAAO,KAAKlL,IAAI,CAACoL,IAAjB,IAAyBF,OAAO,KAAKlL,IAAI,CAACqL,GAA9D;AACA,UAAIC,YAAY,GAAGJ,OAAO,KAAKlL,IAAI,CAACuL,EAAjB,IAAuBL,OAAO,KAAKlL,IAAI,CAACwL,IAA3D;AACA,UAAIC,UAAU,GAAG,CAAC9H,MAAD,KACX4F,KAAK,CAACmC,MAAN,IAAgBR,OAAO,KAAKlL,IAAI,CAACwL,IAAlC,IAA2CN,OAAO,KAAKlL,IAAI,CAAC2L,KAA5D,IAAqET,OAAO,KAAKlL,IAAI,CAAC4L,KAD1E,CAAjB;AAEA,UAAIC,WAAW,GAAGlI,MAAM,KAAM4F,KAAK,CAACmC,MAAN,IAAgBR,OAAO,KAAKlL,IAAI,CAACuL,EAAlC,IAAyCL,OAAO,KAAKlL,IAAI,CAAC8L,GAA/D,CAAxB;AACA,UAAIC,eAAe,GAAGjB,uBAAuB,KAAKI,OAAO,KAAKlL,IAAI,CAAC6F,IAAjB,IAAyBqF,OAAO,KAAKlL,IAAI,CAACgM,KAA/C,CAA7C;AACA,UAAIC,cAAc,GAAGX,YAAY,IAAK,CAACtC,UAAD,KAAgB+C,eAAe,IAAIZ,aAAnC,CAAtC;;AACA,UAAI1J,KAAK,GAAGD,KAAK,CAACE,IAAN,CAAWgJ,SAAX,EAAZ;;AACAjJ,MAAAA,KAAK,CAACkJ,cAAN,GAAuBpB,KAAvB;;AACA,UAAInG,QAAJ,EAAc;AACV;AACH,OAFD,MAGK,IAAI+H,aAAa,IAAI3J,KAAK,CAACE,IAAN,CAAWiG,EAAX,CAAcS,OAAnC,EAA4C;AAC7C,YAAI8C,OAAO,KAAKlL,IAAI,CAACoL,IAArB,EAA2B;AACvB,cAAI5I,OAAO,CAACG,IAAR,KAAiB,CAArB,EAAwB;AACpBnB,YAAAA,KAAK,CAACE,IAAN,CAAWwK,mBAAX,CAA+BzK,KAA/B,EAAsC,CAAtC,EAAyCe,OAAO,CAACyI,QAAjD;;AACAzJ,YAAAA,KAAK,CAACQ,UAAN,GAAmB,IAAnB;AACH,WAHD,MAIK;AACDR,YAAAA,KAAK,CAACwB,eAAN,CAAsBT,IAAI,CAAC,CAAD,CAA1B,EAA+Bd,KAA/B;AACH;AACJ,SARD,MASK;AACD,cAAIe,OAAO,CAACG,IAAR,GAAeH,OAAO,CAACwI,KAAR,GAAgBxI,OAAO,CAACyI,QAA3C,EAAqD;AACjDzJ,YAAAA,KAAK,CAACE,IAAN,CAAWwK,mBAAX,CAA+BzK,KAA/B,EAAsCe,OAAO,CAACwI,KAAR,GAAgBxI,OAAO,CAACyI,QAA9D,EAAwEzI,OAAO,CAACyI,QAAhF;;AACAzJ,YAAAA,KAAK,CAACQ,UAAN,GAAmB,IAAnB;AACH,WAHD,MAIK;AACDR,YAAAA,KAAK,CAACwB,eAAN,CAAsBT,IAAI,CAACA,IAAI,CAAC7C,MAAL,GAAc,CAAf,CAA1B,EAA6C+B,KAA7C;AACH;AACJ;AACJ,OAnBI,MAoBA,IAAIkC,MAAM,IAAIuH,OAAO,KAAKlL,IAAI,CAAC2L,KAA/B,EAAsC;AACvC,YAAI7D,YAAY,GAAGtG,KAAK,CAACsG,YAAN,EAAnB;;AACA,YAAIA,YAAY,KAAKjF,SAArB,EAAgC;AAC5BrB,UAAAA,KAAK,CAACW,gBAAN,CAAuB2F,YAAvB,EAAqCrG,KAArC;AACH;;AACDD,QAAAA,KAAK,CAACE,IAAN,CAAWyK,WAAX,CAAuB1K,KAAvB;;AACA8H,QAAAA,KAAK,CAAC6C,cAAN;AACH,OAPI,MAQA,IAAIX,UAAU,IAAII,WAAlB,EAA+B;AAChCrK,QAAAA,KAAK,CAACE,IAAN,CAAWyK,WAAX,CAAuB1K,KAAvB;;AACA8H,QAAAA,KAAK,CAAC6C,cAAN;AACH,OAHI,MAIA,IAAIH,cAAJ,EAAoB;AACrBzK,QAAAA,KAAK,CAAC6K,UAAN,CAAiB5K,KAAjB,EAAwByJ,OAAxB;;AACA3B,QAAAA,KAAK,CAAC6C,cAAN;AACH;;AACD5K,MAAAA,KAAK,CAACoJ,UAAN,CAAiBnJ,KAAjB;AACH,KArDD;;AAsDAD,IAAAA,KAAK,CAACoH,eAAN,GAAwB,UAAUxG,KAAV,EAAiBmH,KAAjB,EAAwB;AAC5C/H,MAAAA,KAAK,CAACE,IAAN,CAAWkH,eAAX,CAA2BxG,KAA3B,EAAkCmH,KAAlC;;AACA/H,MAAAA,KAAK,CAACqJ,oBAAN,GAA6BhI,SAA7B;AACH,KAHD;;AAIArB,IAAAA,KAAK,CAAC8K,WAAN,GAAoB,UAAU/C,KAAV,EAAiB;AACjC,UAAI/H,KAAK,CAACM,eAAV,EAA2B;AACvB;AACH;;AACDN,MAAAA,KAAK,CAACE,IAAN,CAAW4K,WAAX,CAAuB/C,KAAvB;AACH,KALD;;AAMA/H,IAAAA,KAAK,CAAC+K,UAAN,GAAmB,UAAUhD,KAAV,EAAiB;AAChC,UAAI/H,KAAK,CAACM,eAAN,IAAyB,CAACN,KAAK,CAACC,KAAN,CAAYiC,OAA1C,EAAmD;AAC/C;AACH;;AACD,UAAIC,MAAM,GAAGnC,KAAK,CAACD,KAAN,CAAYoC,MAAZ,KAAuBd,SAAvB,GAAmCrB,KAAK,CAACD,KAAN,CAAYoC,MAA/C,GAAwDnC,KAAK,CAACC,KAAN,CAAYkC,MAAjF;;AACA,UAAIlC,KAAK,GAAGD,KAAK,CAACE,IAAN,CAAWgJ,SAAX,EAAZ;;AACAjJ,MAAAA,KAAK,CAACkJ,cAAN,GAAuBpB,KAAvB;AACA9H,MAAAA,KAAK,CAACc,IAAN,CAAWmB,OAAX,GAAqB,KAArB;AACAjC,MAAAA,KAAK,CAAC+K,MAAN,CAAaC,IAAb,CAAkB;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAlB;;AACA,UAAI/I,MAAJ,EAAY;AACRnC,QAAAA,KAAK,CAACE,IAAN,CAAWyK,WAAX,CAAuB1K,KAAvB;AACH;;AACDD,MAAAA,KAAK,CAACoJ,UAAN,CAAiBnJ,KAAjB;AACH,KAbD;;AAcAD,IAAAA,KAAK,CAAC6H,sBAAN,GAA+B,UAAUE,KAAV,EAAiB;AAC5C,UAAI9H,KAAK,GAAGD,KAAK,CAACE,IAAN,CAAWgJ,SAAX,EAAZ;;AACAjJ,MAAAA,KAAK,CAACkJ,cAAN,GAAuBpB,KAAvB;;AACA/H,MAAAA,KAAK,CAACE,IAAN,CAAWyK,WAAX,CAAuB1K,KAAvB;;AACAD,MAAAA,KAAK,CAACwB,eAAN,CAAsBxB,KAAK,CAACD,KAAN,CAAYmB,WAAlC,EAA+CjB,KAA/C;;AACAD,MAAAA,KAAK,CAACoJ,UAAN,CAAiBnJ,KAAjB;AACH,KAND;;AAOAD,IAAAA,KAAK,CAACoD,kBAAN,GAA2B,UAAU2E,KAAV,EAAiB;AACxC,UAAI9H,KAAK,GAAGD,KAAK,CAACE,IAAN,CAAWgJ,SAAX,EAAZ;;AACAjJ,MAAAA,KAAK,CAACkJ,cAAN,GAAuBpB,KAAvB;;AACA,UAAI,CAAC/H,KAAK,CAACC,KAAN,CAAYiC,OAAjB,EAA0B;AACtBjC,QAAAA,KAAK,CAACc,IAAN,CAAWmB,OAAX,GAAqB,IAArB;AACH;;AACDlC,MAAAA,KAAK,CAACE,IAAN,CAAWyK,WAAX,CAAuB1K,KAAvB;;AACAD,MAAAA,KAAK,CAACoJ,UAAN,CAAiBnJ,KAAjB;AACH,KARD;;AASAD,IAAAA,KAAK,CAACkD,cAAN,GAAuB,UAAU6E,KAAV,EAAiB;AACpC,UAAI/H,KAAK,CAACD,KAAN,CAAYyH,UAAZ,IAA0BO,KAAK,CAACoD,KAAN,KAAgB,CAA1C,IAA+CpD,KAAK,CAAC2B,OAAN,KAAkBlL,IAAI,CAAC2L,KAA1E,EAAiF;AAC7E;AACH;;AACD,UAAIiB,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBvD,KAAK,CAACwD,QAAN,IAAkBxD,KAAK,CAAC2B,OAA5C,CAAhB;;AACA,UAAI1J,KAAK,CAACD,KAAN,CAAYkJ,UAAhB,EAA4B;AACxBmC,QAAAA,SAAS,GAAGA,SAAS,CAACI,WAAV,EAAZ;AACH;;AACD,UAAIJ,SAAS,KAAK,GAAlB,EAAuB;AACnBrD,QAAAA,KAAK,CAAC6C,cAAN;AACH;;AACD5K,MAAAA,KAAK,CAACG,WAAN,GAAoB;AAChBC,QAAAA,IAAI,EAAEJ,KAAK,CAACG,WAAN,CAAkBC,IAAlB,GAAyBgL,SADf;AAEhB/K,QAAAA,IAAI,EAAEL,KAAK,CAACG,WAAN,CAAkBE,IAAlB,GAAyB+K;AAFf,OAApB;;AAIApL,MAAAA,KAAK,CAAC8H,MAAN,CAAaC,KAAb;AACH,KAhBD;;AAiBA/H,IAAAA,KAAK,CAAC2H,sBAAN,GAA+B,UAAUI,KAAV,EAAiB;AAC5C,UAAI9H,KAAK,GAAGD,KAAK,CAACE,IAAN,CAAWgJ,SAAX,EAAZ;;AACAjJ,MAAAA,KAAK,CAACkJ,cAAN,GAAuBpB,KAAvB;;AACA,UAAI/H,KAAK,CAACD,KAAN,CAAYwH,MAAZ,KAAuBlG,SAA3B,EAAsC;AAClCpB,QAAAA,KAAK,CAACc,IAAN,CAAWuB,IAAX,GAAkByF,KAAK,CAAC0D,MAAN,CAAalK,KAA/B;AACH;;AACDvB,MAAAA,KAAK,CAACE,IAAN,CAAWwL,aAAX,CAAyB3D,KAAK,CAAC0D,MAAN,CAAalK,KAAtC,EAA6CtB,KAA7C;;AACAD,MAAAA,KAAK,CAACoJ,UAAN,CAAiBnJ,KAAjB;AACH,KARD;;AASAD,IAAAA,KAAK,CAACsF,aAAN,GAAsB,YAAY;AAC9B,UAAItF,KAAK,CAACO,YAAV,EAAwB;AACpBP,QAAAA,KAAK,CAAC2L,YAAN,CAAmB3L,KAAK,CAACO,YAAzB;AACH;AACJ,KAJD;;AAKAP,IAAAA,KAAK,CAACwF,aAAN,GAAsB,YAAY;AAC9B,UAAIxF,KAAK,CAACC,KAAN,CAAYiC,OAAhB,EAAyB;AACrBgG,QAAAA,MAAM,CAACC,UAAP,CAAkB,YAAY;AAC1B,cAAInI,KAAK,CAACC,KAAN,CAAYiC,OAAZ,IAAuBlC,KAAK,CAACE,IAAN,CAAWQ,OAAtC,EAA+C;AAC3CV,YAAAA,KAAK,CAAC2L,YAAN,CAAmB3L,KAAK,CAACE,IAAN,CAAWQ,OAA9B;AACH;AACJ,SAJD;AAKH;AACJ,KARD;;AASAV,IAAAA,KAAK,CAAC4L,WAAN,GAAoB,YAAY;AAC5B,UAAI5L,KAAK,CAAC8D,OAAN,IAAiB9D,KAAK,CAAC8D,OAAN,CAAc+H,iBAAnC,EAAsD;AAClD7L,QAAAA,KAAK,CAAC8D,OAAN,CAAc+H,iBAAd,CAAgC7L,KAAK,CAAC8L,QAAN,CAAeC,KAAf,GAC1B,EAD0B,GAE1B/L,KAAK,CAACD,KAAN,CAAYiM,iBAAZ,IAAiCpM,kBAFvC;AAGH;AACJ,KAND;;AAOAF,IAAAA,eAAe,CAACC,eAAD,CAAf;AACA,WAAOK,KAAP;AACH;;AACD/C,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,SAA5D,EAAuE;AACnE;AACR;AACA;AACQyO,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKC,QAAZ;AACH,KANkE;AAOnEC,IAAAA,UAAU,EAAE,IAPuD;AAQnEC,IAAAA,YAAY,EAAE;AARqD,GAAvE;AAUApP,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,eAA5D,EAA6E;AACzE;AACR;AACA;AACQyO,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKhM,IAAL,CAAUQ,OAAjB;AACH,KANwE;AAOzE0L,IAAAA,UAAU,EAAE,IAP6D;AAQzEC,IAAAA,YAAY,EAAE;AAR2D,GAA7E;AAUApP,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,OAA5D,EAAqE;AACjE;AACR;AACA;AACQyO,IAAAA,GAAG,EAAE,YAAY;AACb,UAAI3K,KAAJ;;AACA,UAAI,KAAK8H,oBAAL,KAA8BhI,SAAlC,EAA6C;AACzCE,QAAAA,KAAK,GAAG,KAAK8H,oBAAb;AACH,OAFD,MAGK,IAAI,KAAKtJ,KAAL,CAAWwB,KAAX,KAAqBF,SAAzB,EAAoC;AACrCE,QAAAA,KAAK,GAAG,KAAKxB,KAAL,CAAWwB,KAAnB;AACH,OAFI,MAGA,IAAI,KAAKtB,KAAL,CAAWsB,KAAX,KAAqBF,SAAzB,EAAoC;AACrCE,QAAAA,KAAK,GAAG,KAAKtB,KAAL,CAAWsB,KAAnB;AACH,OAFI,MAGA,IAAI,KAAKxB,KAAL,CAAWuM,YAAX,KAA4BjL,SAAhC,EAA2C;AAC5CE,QAAAA,KAAK,GAAG,KAAKxB,KAAL,CAAWuM,YAAnB;AACH;;AACD,UAAI,CAACpN,SAAS,CAACqC,KAAD,CAAV,IAAqB,KAAKxB,KAAL,CAAWmB,WAAX,KAA2BG,SAApD,EAA+D;AAC3DE,QAAAA,KAAK,GAAG,KAAKxB,KAAL,CAAWmB,WAAnB;AACH;;AACD,aAAOK,KAAP;AACH,KAtBgE;AAuBjE6K,IAAAA,UAAU,EAAE,IAvBqD;AAwBjEC,IAAAA,YAAY,EAAE;AAxBmD,GAArE;AA0BApP,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,OAA5D,EAAqE;AACjE;AACR;AACA;AACQyO,IAAAA,GAAG,EAAE,YAAY;AACb,UAAIrL,EAAE,GAAG,KAAKd,KAAd;AAAA,UAAqBe,EAAE,GAAGD,EAAE,CAACE,IAA7B;AAAA,UAAmCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA/D;AAAA,UAAmEG,WAAW,GAAGJ,EAAE,CAACI,WAApF;AACA,UAAIM,KAAK,GAAG,KAAKA,KAAjB,CAFa,CAGb;;AACA,aAAOR,IAAI,CAACsB,SAAL,CAAe,UAAUtE,CAAV,EAAa;AAAE,eAAOwB,OAAO,CAACxB,CAAD,EAAIwD,KAAJ,EAAWN,WAAX,CAAd;AAAwC,OAAtE,CAAP;AACH,KATgE;AAUjEmL,IAAAA,UAAU,EAAE,IAVqD;AAWjEC,IAAAA,YAAY,EAAE;AAXmD,GAArE;AAaApP,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,MAA5D,EAAoE;AAChE;AACR;AACA;AACQyO,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKnM,KAAL,CAAW8D,IAAlB;AACH,KAN+D;AAOhEuI,IAAAA,UAAU,EAAE,IAPoD;AAQhEC,IAAAA,YAAY,EAAE;AARkD,GAApE;AAUApP,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,UAA5D,EAAwE;AACpE;AACR;AACA;AACQyO,IAAAA,GAAG,EAAE,YAAY;AACb,UAAIK,WAAW,GAAG,KAAKxM,KAAL,CAAWiM,iBAAX,KAAiC3K,SAAnD;AACA,UAAImL,OAAO,GAAI,CAAC,KAAKC,QAAN,IACP,KAAKlL,KAAL,KAAe,IAAf,IAAuB,KAAKA,KAAL,KAAe,EAAtC,IAA4C,KAAKA,KAAL,KAAeF,SADnE;AAEA,UAAI0K,KAAK,GAAG,KAAKhM,KAAL,CAAWgM,KAAX,KAAqB1K,SAArB,GAAiC,KAAKtB,KAAL,CAAWgM,KAA5C,GAAoDS,OAAhE;AACA,aAAO;AACHD,QAAAA,WAAW,EAAEA,WADV;AAEHR,QAAAA,KAAK,EAAEA,KAFJ;AAGHW,QAAAA,YAAY,EAAE,KAAKnL,KAAL,KAAe;AAH1B,OAAP;AAKH,KAdmE;AAepE6K,IAAAA,UAAU,EAAE,IAfwD;AAgBpEC,IAAAA,YAAY,EAAE;AAhBsD,GAAxE;AAkBApP,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,gBAA5D,EAA8E;AAC1EyO,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKnM,KAAL,CAAW4M,cAAX,KAA8BtL,SAA9B,GACD,KAAKtB,KAAL,CAAW4M,cADV,GAED9M,0BAA0B,CAAC+M,YAA3B,CAAwCD,cAF9C;AAGH,KALyE;AAM1EP,IAAAA,UAAU,EAAE,IAN8D;AAO1EC,IAAAA,YAAY,EAAE;AAP4D,GAA9E;AASApP,EAAAA,MAAM,CAACgP,cAAP,CAAsBpM,0BAA0B,CAACpC,SAAjD,EAA4D,UAA5D,EAAwE;AACpE;AACR;AACA;AACQyO,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,KAAKnM,KAAL,CAAW0M,QAAX,KAAwBpL,SAAxB,GACD,KAAKtB,KAAL,CAAW0M,QADV,GAED5M,0BAA0B,CAAC+M,YAA3B,CAAwCH,QAF9C;AAGH,KARmE;AASpEL,IAAAA,UAAU,EAAE,IATwD;AAUpEC,IAAAA,YAAY,EAAE;AAVsD,GAAxE;AAYA;AACJ;AACA;;AACIxM,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqCoP,kBAArC,GAA0D,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AACtF,QAAIlM,EAAE,GAAG,KAAKd,KAAd;AAAA,QAAqBe,EAAE,GAAGD,EAAE,CAACE,IAA7B;AAAA,QAAmCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA/D;AAAA,QAAmEG,WAAW,GAAGJ,EAAE,CAACI,WAApF;AAAA,QAAiGD,OAAO,GAAGH,EAAE,CAACG,OAA9G;AACA,QAAIgM,SAAS,GAAGF,SAAS,CAAC9L,OAAV,GAAoB8L,SAAS,CAAC9L,OAAV,CAAkBwI,KAAtC,GAA8C,CAA9D;AACA,QAAIrH,MAAM,GAAG,KAAKpC,KAAL,CAAWoC,MAAX,KAAsBd,SAAtB,GAAkC,KAAKtB,KAAL,CAAWoC,MAA7C,GAAsD,KAAKlC,KAAL,CAAWkC,MAA9E;AACA,QAAI8K,UAAU,GAAGH,SAAS,CAAC3K,MAAV,KAAqBd,SAArB,GAAiCyL,SAAS,CAAC3K,MAA3C,GAAoD4K,SAAS,CAAC5K,MAA/E;AACA,QAAI+K,OAAO,GAAG,CAACD,UAAD,IAAe9K,MAA7B;AACA,QAAIgL,OAAO,GAAGF,UAAU,IAAI,CAAC9K,MAA7B;;AACA,QAAI,CAAC,KAAKjC,IAAL,CAAU0E,gBAAV,GAA6BK,OAAlC,EAA2C;AACvC,UAAIiI,OAAJ,EAAa;AACT,aAAK5H,aAAL;AACH,OAFD,MAGK,IAAI6H,OAAJ,EAAa,CACd;AACH;AACJ;;AACD,QAAInM,OAAO,IAAIA,OAAO,CAACwI,KAAR,KAAkBwD,SAAjC,EAA4C;AACxC,WAAK9M,IAAL,CAAUiG,EAAV,CAAaiH,uBAAb;AACA,WAAKlN,IAAL,CAAUiG,EAAV,CAAakH,KAAb;AACH,KAHD,MAIK;AACD,UAAIC,cAAc,GAAG,KAAK/L,KAA1B;AACA,UAAIgM,gBAAgB,GAAGT,SAAS,CAACvL,KAAV,KAAoBF,SAApB,GAAgCyL,SAAS,CAACvL,KAA1C,GAAkDwL,SAAS,CAACxL,KAAnF;AACA,UAAIiM,iBAAiB,GAAGzM,IAAI,CAACsB,SAAL,CAAe,UAAUtE,CAAV,EAAa;AAAE,eAAOwB,OAAO,CAACxB,CAAD,EAAIuP,cAAJ,EAAoBrM,WAApB,CAAd;AAAiD,OAA/E,CAAxB;AACA,UAAIwM,mBAAmB,GAAG,CAAClO,OAAO,CAACgO,gBAAD,EAAmBD,cAAnB,EAAmCrM,WAAnC,CAAlC;;AACA,UAAIiM,OAAO,IAAIlM,OAAf,EAAwB;AACpB,aAAKd,IAAL,CAAUwN,mBAAV,CAA8B1M,OAA9B,EAAuCwM,iBAAvC;AACH,OAFD,MAGK,IAAIN,OAAO,IAAI,CAAClM,OAAhB,EAAyB;AAC1B,aAAKd,IAAL,CAAUyN,YAAV,CAAuBH,iBAAvB;AACH,OAFI,MAGA,IAAIrL,MAAM,IAAI8K,UAAV,IAAwBK,cAAxB,IAA0CG,mBAA1C,IAAiE,CAAC,KAAKjN,UAA3E,EAAuF;AACxF,aAAKN,IAAL,CAAUyN,YAAV,CAAuBH,iBAAvB;AACH,OAFI,MAGA,IAAIrL,MAAM,IAAI8K,UAAV,IAAwB,KAAKzM,UAAjC,EAA6C;AAC9C,YAAI,KAAKA,UAAL,IAAmBQ,OAAnB,IAA8BA,OAAO,CAACG,IAAR,KAAiB,CAAnD,EAAsD;AAClD,eAAKjB,IAAL,CAAUiG,EAAV,CAAakH,KAAb;AACH,SAFD,MAGK,IAAI,KAAK7M,UAAL,IAAmBQ,OAAnB,IAA8BA,OAAO,CAACG,IAAR,KAAiBH,OAAO,CAACwI,KAAR,GAAgBxI,OAAO,CAACyI,QAA3E,EAAqF;AACtF,eAAKvJ,IAAL,CAAUiG,EAAV,CAAayH,WAAb;AACH;AACJ;AACJ;;AACD,SAAKpN,UAAL,GAAkB,KAAlB;AACA,SAAKoL,WAAL;AACH,GA5CD;AA6CA;AACJ;AACA;;;AACI/L,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqCoQ,iBAArC,GAAyD,YAAY;AACjE,SAAK3N,IAAL,CAAU4N,QAAV;AACA,SAAKlC,WAAL;AACH,GAHD;AAIA;AACJ;AACA;;;AACI/L,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqCsQ,MAArC,GAA8C,YAAY;AACtD,QAAI/N,KAAK,GAAG,IAAZ;;AACA,QAAIa,EAAE,GAAG,KAAKd,KAAd;AAAA,QAAqBgE,KAAK,GAAGlD,EAAE,CAACkD,KAAhC;AAAA,QAAuCtB,SAAS,GAAG5B,EAAE,CAAC4B,SAAtD;AAAA,QAAiEc,KAAK,GAAG1C,EAAE,CAAC0C,KAA5E;AAAA,QAAmFmB,GAAG,GAAG7D,EAAE,CAAC6D,GAA5F;AAAA,QAAiG1D,OAAO,GAAGH,EAAE,CAACG,OAA9G;AACA,QAAImB,MAAM,GAAG,KAAKpC,KAAL,CAAWoC,MAAX,KAAsBd,SAAtB,GAAkC,KAAKtB,KAAL,CAAWoC,MAA7C,GAAsD,KAAKlC,KAAL,CAAWkC,MAA9E;AACA,QAAIG,IAAI,GAAGnD,YAAY,CAAC,KAAKoC,KAAN,EAAa,KAAKxB,KAAL,CAAW4B,SAAxB,CAAvB;AACA,QAAI6K,OAAO,GAAG,CAAC,KAAKG,cAAN,IAAwB,KAAKb,QAAL,CAAcC,KAApD;AACA,QAAI7L,IAAI,GAAG,KAAKA,IAAhB;AACA,QAAIiG,EAAE,GAAGjG,IAAI,CAACiG,EAAd;AACAA,IAAAA,EAAE,CAACS,OAAH,GAAa5F,OAAO,KAAKK,SAAzB;;AACA,QAAIL,OAAO,KAAKK,SAAhB,EAA2B;AACvBnB,MAAAA,IAAI,CAACiG,EAAL,CAAQhF,IAAR,GAAeH,OAAO,CAACG,IAAvB;AACAjB,MAAAA,IAAI,CAACiG,EAAL,CAAQqD,KAAR,GAAgBxI,OAAO,CAACwI,KAAxB;AACAtJ,MAAAA,IAAI,CAACiG,EAAL,CAAQsD,QAAR,GAAmBzI,OAAO,CAACyI,QAA3B;AACH;;AACD,QAAIuE,YAAY,GAAI3P,KAAK,CAACmE,aAAN,CAAoB,MAApB,EAA4B;AAAEG,MAAAA,GAAG,EAAE,UAAUsL,QAAV,EAAoB;AAAE,eAAOjO,KAAK,CAACmM,QAAN,GAAiB8B,QAAxB;AAAmC,OAAhE;AAAkExL,MAAAA,SAAS,EAAElE,UAAU,CAAC,qBAAD,EAAwB;AACvJ,2BAAmB,CAACiO;AADmI,OAAxB,EAEhI/J,SAFgI,CAAvF;AAE7BsB,MAAAA,KAAK,EAAE,CAACR,KAAD,GAChBQ,KADgB,GAEhBpG,QAAQ,CAAC,EAAD,EAAKoG,KAAL,EAAY;AAAEE,QAAAA,KAAK,EAAE5C;AAAT,OAAZ,CAJ8B;AAIKqD,MAAAA,GAAG,EAAEA,GAJV;AAIewJ,MAAAA,WAAW,EAAE/L,MAAM,GAAG3C,uBAAH,GAA6B6B,SAJ/D;AAI0E8M,MAAAA,OAAO,EAAE,KAAKrD,WAJxF;AAIqGsD,MAAAA,MAAM,EAAE,KAAKrD;AAJlH,KAA5B,EAKhB,KAAKrJ,qBAAL,EALgB,EAMhB,KAAK6C,mBAAL,EANgB,CAApB;AAOA,WAAOhB,KAAK,GAAIlF,KAAK,CAACmE,aAAN,CAAoB5D,aAApB,EAAmC;AAAE2E,MAAAA,KAAK,EAAEA,KAAT;AAAgB8K,MAAAA,WAAW,EAAE/L,IAA7B;AAAmCgM,MAAAA,WAAW,EAAE9B,OAAhD;AAAyD+B,MAAAA,cAAc,EAAE,KAAKxO,KAAL,CAAW6B,QAApF;AAA8FmC,MAAAA,KAAK,EAAE;AAAEE,QAAAA,KAAK,EAAEF,KAAK,GAAGA,KAAK,CAACE,KAAT,GAAiB5C;AAA/B,OAArG;AAAiJmN,MAAAA,QAAQ,EAAER;AAA3J,KAAnC,CAAJ,GAAqNA,YAAjO;AACH,GAtBD;AAuBA;AACJ;AACA;;;AACInO,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqCoN,UAArC,GAAkD,UAAU5K,KAAV,EAAiByJ,OAAjB,EAA0B;AACxE,QAAI7I,EAAE,GAAG,KAAKd,KAAd;AAAA,QAAqBe,EAAE,GAAGD,EAAE,CAACE,IAA7B;AAAA,QAAmCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA/D;AAAA,QAAmEI,WAAW,GAAGL,EAAE,CAACK,WAApF;AAAA,QAAiGD,WAAW,GAAGJ,EAAE,CAACI,WAAlH;AAAA,QAA+He,EAAE,GAAGnB,EAAE,CAACG,OAAvI;AAAA,QAAgJA,OAAO,GAAGgB,EAAE,KAAK,KAAK,CAAZ,GAAgB;AAAEb,MAAAA,IAAI,EAAE,CAAR;AAAWqI,MAAAA,KAAK,EAAE,CAAlB;AAAqBC,MAAAA,QAAQ,EAAE;AAA/B,KAAhB,GAAqDzH,EAA/M;AACA,QAAImE,EAAE,GAAG,KAAKjG,IAAL,CAAUiG,EAAnB;AACA,QAAI5E,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIX,KAAK,GAAGG,IAAI,CAACsB,SAAL,CAAe,UAAUtE,CAAV,EAAa;AAAE,aAAOwB,OAAO,CAACxB,CAAD,EAAIwD,KAAJ,EAAWN,WAAX,CAAd;AAAwC,KAAtE,CAAZ;AACA,QAAIwN,QAAQ,GAAG,KAAKvO,IAAL,CAAUwO,UAAV,CAAqBC,QAArB,CAA8B;AACzCC,MAAAA,OAAO,EAAE5N,OAAO,CAACG,IAAR,GAAeP,KADiB;AAEzCkI,MAAAA,GAAG,EAAE,CAAC3C,EAAE,CAACS,OAAH,GAAa5F,OAAO,CAACwI,KAArB,GAA6BzI,IAAI,CAAC7C,MAAnC,IAA6C,CAFT;AAGzC2Q,MAAAA,GAAG,EAAE3N,WAAW,KAAKG,SAAhB,GAA4B,CAAC,CAA7B,GAAiC,CAHG;AAIzCqI,MAAAA,OAAO,EAAEA;AAJgC,KAA9B,CAAf;;AAMA,QAAI+E,QAAQ,KAAKpN,SAAjB,EAA4B;AACxB,WAAKV,gBAAL,CAAsB8N,QAAtB,EAAgCxO,KAAhC;AACH;;AACD,SAAKmJ,UAAL,CAAgBnJ,KAAhB;AACH,GAfD;;AAgBAJ,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqC6I,YAArC,GAAoD,YAAY;AAC5D,QAAIgB,UAAU,GAAGpI,SAAS,CAAC,KAAKa,KAAL,CAAWwH,MAAZ,CAAT,GAA+B,KAAKxH,KAAL,CAAWwH,MAA1C,GAAmD,KAAKtH,KAAL,CAAWqC,IAA/E;AACA,QAAIzB,EAAE,GAAG,KAAKd,KAAd;AAAA,QAAqBe,EAAE,GAAGD,EAAE,CAACE,IAA7B;AAAA,QAAmCA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA/D;AAAA,QAAmEkB,EAAE,GAAGnB,EAAE,CAACG,OAA3E;AAAA,QAAoFA,OAAO,GAAGgB,EAAE,KAAK,KAAK,CAAZ,GAAgB;AAAEb,MAAAA,IAAI,EAAE;AAAR,KAAhB,GAA8Ba,EAA5H;AAAA,QAAgIf,WAAW,GAAGJ,EAAE,CAACI,WAAjJ;AAAA,QAA8JU,SAAS,GAAGd,EAAE,CAACc,SAA7K;AAAA,QAAwLmN,gBAAgB,GAAGjO,EAAE,CAACiO,gBAA9M;AACA,QAAIvN,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIa,aAAa,GAAGrB,IAAI,CAACsB,SAAL,CAAe,UAAUtE,CAAV,EAAa;AAAE,aAAOwB,OAAO,CAACxB,CAAD,EAAIwD,KAAJ,EAAWN,WAAX,CAAd;AAAwC,KAAtE,CAApB;AACA,QAAI8N,WAAW,GAAG,EAAE3M,aAAa,GAAG,CAAhB,IAAqB,CAAC,KAAKrC,KAAL,CAAWmB,WAAnC,CAAlB;;AACA,QAAI,CAAC6N,WAAD,IAAgBzH,UAAhB,IAA8BtG,OAAO,CAACG,IAAR,KAAiB,CAAnD,EAAsD;AAClD,aAAO2N,gBAAgB,GAAGA,gBAAgB,CAAC/N,IAAD,EAAOuG,UAAP,EAAmB3F,SAAnB,CAAnB,GACnBZ,IAAI,CAACiO,OAAL,CAAavP,cAAc,CAACsB,IAAD,EAAOuG,UAAP,EAAmB3F,SAAnB,CAA3B,CADJ;AAEH,KAHD,MAIK;AACD,aAAO,CAACoN,WAAD,IAAgB/N,OAAO,CAACG,IAAR,KAAiB,CAAjC,GAAqC,CAArC,GAAyCE,SAAhD;AACH;AACJ,GAbD;;AAcAxB,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqCkO,YAArC,GAAoD,UAAUxG,OAAV,EAAmB;AACnE,QAAInF,KAAK,GAAG,IAAZ;;AACA,SAAKM,eAAL,GAAuB,IAAvB;AACA6E,IAAAA,OAAO,CAAC1E,KAAR;AACAyH,IAAAA,MAAM,CAACC,UAAP,CAAkB,YAAY;AAAE,aAAOnI,KAAK,CAACM,eAAN,GAAwB,KAA/B;AAAuC,KAAvE,EAAyE,EAAzE;AACH,GALD;;AAMAT,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqC+D,eAArC,GAAuD,UAAUJ,IAAV,EAAgBnB,KAAhB,EAAuB;AAC1E,QAAIV,OAAO,CAAC,KAAKgC,KAAN,EAAaH,IAAb,EAAmB,KAAKrB,KAAL,CAAWkB,WAA9B,CAAX,EAAuD;AACnD;AACH;;AACD,QAAI,KAAKlB,KAAL,CAAWwB,KAAX,KAAqBF,SAAzB,EAAoC;AAChCpB,MAAAA,KAAK,CAACc,IAAN,CAAWQ,KAAX,GAAmBH,IAAnB;AACH;;AACD,SAAKiI,oBAAL,GAA4BjI,IAA5B;AACAnB,IAAAA,KAAK,CAAC+K,MAAN,CAAaC,IAAb,CAAkB;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAlB;AACH,GATD;;AAUArL,EAAAA,0BAA0B,CAACpC,SAA3B,CAAqC2L,UAArC,GAAkD,UAAUnJ,KAAV,EAAiB;AAC/D,SAAKC,IAAL,CAAUkJ,UAAV,CAAqBnJ,KAArB;AACA,SAAKoJ,oBAAL,GAA4BhI,SAA5B;AACH,GAHD;;AAIAxB,EAAAA,0BAA0B,CAACoP,WAA3B,GAAyC,cAAzC;AACA;AACJ;AACA;;AACIpP,EAAAA,0BAA0B,CAACqP,SAA3B,GAAuCvR,QAAQ,CAAC;AAAEyK,IAAAA,KAAK,EAAE9J,SAAS,CAAC6Q,MAAnB;AAA2BlG,IAAAA,UAAU,EAAE3K,SAAS,CAAC8Q,IAAjD;AAAuDrN,IAAAA,aAAa,EAAEzD,SAAS,CAAC+Q,MAAhF;AAAwFnO,IAAAA,WAAW,EAAE5C,SAAS,CAACgR,GAA/G;AAAoHrN,IAAAA,WAAW,EAAE3D,SAAS,CAACiR,IAA3I;AAAiJjL,IAAAA,QAAQ,EAAEhG,SAAS,CAACiR,IAArK;AAA2KvD,IAAAA,iBAAiB,EAAE1N,SAAS,CAAC+Q,MAAxM;AAAgN5C,IAAAA,QAAQ,EAAEnO,SAAS,CAAC8Q,IAApO;AAA0O1L,IAAAA,EAAE,EAAEpF,SAAS,CAAC+Q,MAAxP;AAAgQ7L,IAAAA,cAAc,EAAElF,SAAS,CAAC+Q,MAA1R;AAAkS5L,IAAAA,eAAe,EAAEnF,SAAS,CAAC+Q,MAA7T;AAAqU/F,IAAAA,uBAAuB,EAAEhL,SAAS,CAAC8Q,IAAxW;AAA8WzL,IAAAA,KAAK,EAAErF,SAAS,CAAC+Q;AAA/X,GAAD,EAA0YpQ,YAAY,CAACiQ,SAAvZ,CAA/C;AACA;AACJ;AACA;;AACIrP,EAAAA,0BAA0B,CAAC+M,YAA3B,GAA0CjP,QAAQ,CAAC;AAAEyK,IAAAA,KAAK,EAAE,GAAT;AAAcvG,IAAAA,QAAQ,EAAE,CAAxB;AAA2BoH,IAAAA,UAAU,EAAE;AAAvC,GAAD,EAAgDhK,YAAY,CAAC2N,YAA7D,EAA2E;AAAEH,IAAAA,QAAQ,EAAE;AAAZ,GAA3E,CAAlD;AACA,SAAO5M,0BAAP;AACH,CA3iB+C,CA2iB9CxB,KAAK,CAACmR,SA3iBwC,CAAhD;;AA4iBA,SAAS3P,0BAAT;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAI4P,wBAAwB,GAAG/Q,kBAAkB,EAAjD;AACP;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIgR,YAAY,GAAG/Q,gBAAgB,CAAC8Q,wBAAD,EAA2B5P,0BAA3B,CAAnC;AACP6P,YAAY,CAACT,WAAb,GAA2B,wBAA3B","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, getTabIndex, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport ListFilter from '../common/ListFilter';\nimport ListDefaultItem from '../common/ListDefaultItem';\nimport List from '../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { isPresent, getItemValue, sameCharsOnly, shuffleData, matchText, areSame, preventDefaultNonInputs, getFocusedItem } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\n/**\n * @hidden\n */\nvar DropDownListWithoutContext = /** @class */ (function (_super) {\n    __extends(DropDownListWithoutContext, _super);\n    function DropDownListWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this.searchState = { word: '', last: '' };\n        _this._skipFocusEvent = false;\n        _this._filterInput = null;\n        _this._navigated = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.base.wrapper) {\n                _this.base.wrapper.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey, defaultItem = _a.defaultItem;\n            var skip = virtual ? virtual.skip : 0;\n            var item = (index === -1 && defaultItem !== undefined) ?\n                defaultItem : data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.renderDropDownWrapper = function () {\n            var _a = _this.props, dataItemKey = _a.dataItemKey, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, disabled = _a.disabled, tabIndex = _a.tabIndex, loading = _a.loading, iconClassName = _a.iconClassName, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, valueRender = _a.valueRender;\n            var focused = _this.state.focused;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var value = _this.value;\n            var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n            var text = getItemValue(value, textField);\n            var valueDefaultRendering = (React.createElement(\"span\", { className: \"k-input\" }, text));\n            var valueElement = valueRender !== undefined ?\n                valueRender.call(undefined, valueDefaultRendering, value) : valueDefaultRendering;\n            return (React.createElement(\"span\", { ref: function (el) { return _this.base.wrapper = el; }, role: 'listbox', tabIndex: getTabIndex(tabIndex, disabled), accessKey: _this.props.accessKey, className: classNames('k-dropdown-wrap', {\n                    'k-state-focused': focused,\n                    'k-state-disabled': disabled\n                }), onKeyDown: _this.handleKeyDown, onKeyPress: _this.handleKeyPress, onClick: disabled ? undefined : _this.handleWrapperClick, \"aria-disabled\": disabled || undefined, \"aria-haspopup\": true, \"aria-expanded\": opened || false, \"aria-owns\": _this.base.listBoxId, \"aria-activedescendant\": opened ? ('option-' + _this.base.guid + '-' + (selectedIndex + virtual.skip)) : undefined, \"aria-label\": _this.props.label, \"aria-labelledby\": _this.props.ariaLabelledBy, \"aria-describedby\": _this.props.ariaDescribedBy, id: _this.props.id, title: _this.props.title },\n                valueElement,\n                React.createElement(\"span\", { className: \"k-select\" },\n                    React.createElement(\"span\", { className: classNames('k-icon', iconClassName, {\n                            'k-i-arrow-s': !loading && !iconClassName,\n                            'k-i-loading': loading && !iconClassName\n                        }) })),\n                _this.dummySelect(value)));\n        };\n        _this.dummySelect = function (value) {\n            /* Dummy component to support forms */\n            return (React.createElement(\"select\", { name: _this.props.name, ref: function (el) { _this._select = el; }, tabIndex: -1, \"aria-hidden\": true, title: _this.props.label, style: { opacity: 0, width: 1, border: 0, zIndex: -1, position: 'absolute', left: '50%' } },\n                React.createElement(\"option\", { value: _this.props.valueMap ? _this.props.valueMap.call(undefined, value) : value })));\n        };\n        _this.renderListContainer = function () {\n            var _a = _this.props, header = _a.header, footer = _a.footer, dir = _a.dir, _b = _a.data, data = _b === void 0 ? [] : _b;\n            var base = _this.base;\n            var popupSettings = base.getPopupSettings();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var virtual = _this.props.virtual !== undefined;\n            var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n            var listContainerProps = {\n                dir: dir !== undefined ? dir : base.dirCalculated,\n                width: popupWidth,\n                popupSettings: {\n                    popupClass: popupSettings.popupClass,\n                    className: classNames('k-list-container k-reset', popupSettings.className),\n                    animate: popupSettings.animate,\n                    anchor: _this.element,\n                    show: opened,\n                    onOpen: _this.onPopupOpened,\n                    onClose: _this.onPopupClosed,\n                    appendTo: popupSettings.appendTo\n                },\n                itemsCount: [data.length]\n            };\n            return (React.createElement(ListContainer, __assign({}, listContainerProps),\n                _this.renderListFilter(),\n                virtual && _this.renderDefaultItem(),\n                virtual && header,\n                _this.base.renderScrollWrapper(React.createElement(React.Fragment, null,\n                    !virtual && _this.renderDefaultItem(),\n                    !virtual && header,\n                    _this.renderList(),\n                    !virtual && footer,\n                    _this.base.renderScrollElement())),\n                virtual && footer));\n        };\n        _this.renderList = function () {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender;\n            var vs = _this.base.vs;\n            var skip = virtual.skip;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var popupSettings = _this.base.getPopupSettings();\n            var translate = \"translateY(\" + vs.translate + \"px)\";\n            return (React.createElement(List, { id: _this.base.listBoxId, show: opened, data: data.slice(), focusedIndex: _this.focusedIndex(), value: _this.value, textField: textField, valueField: dataItemKey, optionsGuid: _this.base.guid, listRef: function (list) { return vs.list = _this.base.list = list; }, wrapperStyle: !vs.enabled ?\n                    { maxHeight: popupSettings.height } : { float: 'left', width: '100%' }, wrapperCssClass: !vs.enabled ? 'k-list-scroller' : undefined, listStyle: vs.enabled ?\n                    { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: _this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender }));\n        };\n        _this.renderListFilter = function () {\n            var filterText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            return _this.props.filterable && (React.createElement(ListFilter, { value: filterText, ref: function (filter) { return _this._filterInput = filter && filter.input; }, onChange: _this.handleListFilterChange, onKeyDown: _this.handleKeyDown }));\n        };\n        _this.renderDefaultItem = function () {\n            var _a = _this.props, textField = _a.textField, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey;\n            return defaultItem !== undefined && (React.createElement(ListDefaultItem, { defaultItem: defaultItem, textField: textField, selected: areSame(_this.value, defaultItem, dataItemKey), key: \"defaultitemkey\", onClick: _this.handleDefaultItemClick }));\n        };\n        _this.search = function (event) {\n            clearTimeout(_this._typingTimeout);\n            if (!_this.props.filterable) {\n                _this._typingTimeout = window.setTimeout(function () { return _this.searchState.word = ''; }, _this.props.delay);\n                _this.selectNext(event);\n            }\n        };\n        _this.selectNext = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var mappedData = data.map(function (item, idx) {\n                return { item: item, itemIndex: idx };\n            });\n            var word = _this.searchState.word;\n            var last = _this.searchState.last;\n            var isInLoop = sameCharsOnly(word, last);\n            var dataLength = mappedData.length;\n            var startIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, _this.value, dataItemKey); }));\n            var defaultItem;\n            if (_this.props.defaultItem) {\n                defaultItem = { item: _this.props.defaultItem, itemIndex: -1 };\n                dataLength += 1;\n                startIndex += 1;\n            }\n            startIndex += isInLoop ? 1 : 0;\n            mappedData = shuffleData(mappedData, startIndex, defaultItem);\n            var text, loopMatch, nextMatch, index = 0;\n            var _c = _this.props, textField = _c.textField, ignoreCase = _c.ignoreCase;\n            for (; index < dataLength; index++) {\n                text = getItemValue(mappedData[index].item, textField);\n                loopMatch = isInLoop && matchText(text, last, ignoreCase);\n                nextMatch = matchText(text, word, ignoreCase);\n                if (loopMatch || nextMatch) {\n                    index = mappedData[index].itemIndex;\n                    break;\n                }\n            }\n            if (index !== dataLength) {\n                var state = _this.base.initState();\n                state.syntheticEvent = event;\n                _this.handleItemSelect(index, state);\n                _this.applyState(state);\n                _this._valueDuringOnChange = undefined;\n            }\n        };\n        _this.handleKeyDown = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, filterable = _a.filterable, disabled = _a.disabled, _c = _a.leftRightKeysNavigation, leftRightKeysNavigation = _c === void 0 ? true : _c, _d = _a.virtual, virtual = _d === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _d;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var keyCode = event.keyCode;\n            var homeOrEndKeys = keyCode === Keys.home || keyCode === Keys.end;\n            var upOrDownKeys = keyCode === Keys.up || keyCode === Keys.down;\n            var shouldOpen = !opened &&\n                ((event.altKey && keyCode === Keys.down) || keyCode === Keys.enter || keyCode === Keys.space);\n            var shouldClose = opened && ((event.altKey && keyCode === Keys.up) || keyCode === Keys.esc);\n            var leftOrRightKeys = leftRightKeysNavigation && (keyCode === Keys.left || keyCode === Keys.right);\n            var shouldNavigate = upOrDownKeys || (!filterable && (leftOrRightKeys || homeOrEndKeys));\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (disabled) {\n                return;\n            }\n            else if (homeOrEndKeys && _this.base.vs.enabled) {\n                if (keyCode === Keys.home) {\n                    if (virtual.skip !== 0) {\n                        _this.base.triggerOnPageChange(state, 0, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[0], state);\n                    }\n                }\n                else {\n                    if (virtual.skip < virtual.total - virtual.pageSize) {\n                        _this.base.triggerOnPageChange(state, virtual.total - virtual.pageSize, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[data.length - 1], state);\n                    }\n                }\n            }\n            else if (opened && keyCode === Keys.enter) {\n                var focusedIndex = _this.focusedIndex();\n                if (focusedIndex !== undefined) {\n                    _this.handleItemSelect(focusedIndex, state);\n                }\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldOpen || shouldClose) {\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldNavigate) {\n                _this.onNavigate(state, keyCode);\n                event.preventDefault();\n            }\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleFocus = function (event) {\n            if (_this._skipFocusEvent) {\n                return;\n            }\n            _this.base.handleFocus(event);\n        };\n        _this.handleBlur = function (event) {\n            if (_this._skipFocusEvent || !_this.state.focused) {\n                return;\n            }\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            state.data.focused = false;\n            state.events.push({ type: 'onBlur' });\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.handleDefaultItemClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            _this.triggerOnChange(_this.props.defaultItem, state);\n            _this.applyState(state);\n        };\n        _this.handleWrapperClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!_this.state.focused) {\n                state.data.focused = true;\n            }\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleKeyPress = function (event) {\n            if (_this.props.filterable || event.which === 0 || event.keyCode === Keys.enter) {\n                return;\n            }\n            var character = String.fromCharCode(event.charCode || event.keyCode);\n            if (_this.props.ignoreCase) {\n                character = character.toLowerCase();\n            }\n            if (character === ' ') {\n                event.preventDefault();\n            }\n            _this.searchState = {\n                word: _this.searchState.word + character,\n                last: _this.searchState.last + character\n            };\n            _this.search(event);\n        };\n        _this.handleListFilterChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (_this.props.filter === undefined) {\n                state.data.text = event.target.value;\n            }\n            _this.base.filterChanged(event.target.value, state);\n            _this.applyState(state);\n        };\n        _this.onPopupOpened = function () {\n            if (_this._filterInput) {\n                _this.focusElement(_this._filterInput);\n            }\n        };\n        _this.onPopupClosed = function () {\n            if (_this.state.focused) {\n                window.setTimeout(function () {\n                    if (_this.state.focused && _this.base.wrapper) {\n                        _this.focusElement(_this.base.wrapper);\n                    }\n                });\n            }\n        };\n        _this.setValidity = function () {\n            if (_this._select && _this._select.setCustomValidity) {\n                _this._select.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"actionElement\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.base.wrapper;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"value\", {\n        /**\n         * The value of the DropDownList.\n         */\n        get: function () {\n            var value;\n            if (this._valueDuringOnChange !== undefined) {\n                value = this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                value = this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                value = this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                value = this.props.defaultValue;\n            }\n            if (!isPresent(value) && this.props.defaultItem !== undefined) {\n                value = this.props.defaultItem;\n            }\n            return value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DropDownList.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DropDownList is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DropDownListWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DropDownListWithoutContext.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var closing = prevOpened && !opened;\n        if (!this.base.getPopupSettings().animate) {\n            if (opening) {\n                this.onPopupOpened();\n            }\n            else if (closing) {\n                // this.onPopupClosed();\n            }\n        }\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var selectedItem_1 = this.value;\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem_1, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem_1, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem_1 && selectedItemChanged && !this._navigated) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && this._navigated) {\n                if (this._navigated && virtual && virtual.skip === 0) {\n                    this.base.vs.reset();\n                }\n                else if (this._navigated && virtual && virtual.skip === virtual.total - virtual.pageSize) {\n                    this.base.vs.scrollToEnd();\n                }\n            }\n        }\n        this._navigated = false;\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, style = _a.style, className = _a.className, label = _a.label, dir = _a.dir, virtual = _a.virtual;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var text = getItemValue(this.value, this.props.textField);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var base = this.base;\n        var vs = base.vs;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            base.vs.skip = virtual.skip;\n            base.vs.total = virtual.total;\n            base.vs.pageSize = virtual.pageSize;\n        }\n        var dropdownlist = (React.createElement(\"span\", { ref: function (dropdown) { return _this._element = dropdown; }, className: classNames('k-widget k-dropdown', {\n                'k-state-invalid': !isValid\n            }, className), style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir, onMouseDown: opened ? preventDefaultNonInputs : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur },\n            this.renderDropDownWrapper(),\n            this.renderListContainer()));\n        return label ? (React.createElement(FloatingLabel, { label: label, editorValue: text, editorValid: isValid, editorDisabled: this.props.disabled, style: { width: style ? style.width : undefined }, children: dropdownlist })) : dropdownlist;\n    };\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _c;\n        var vs = this.base.vs;\n        var value = this.value;\n        var index = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var newIndex = this.base.navigation.navigate({\n            current: virtual.skip + index,\n            max: (vs.enabled ? virtual.total : data.length) - 1,\n            min: defaultItem !== undefined ? -1 : 0,\n            keyCode: keyCode\n        });\n        if (newIndex !== undefined) {\n            this.handleItemSelect(newIndex, state);\n        }\n        this.applyState(state);\n    };\n    DropDownListWithoutContext.prototype.focusedIndex = function () {\n        var filterText = isPresent(this.props.filter) ? this.props.filter : this.state.text;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, dataItemKey = _a.dataItemKey, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var value = this.value;\n        var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var hasSelected = !(selectedIndex < 0 && !this.props.defaultItem);\n        if (!hasSelected && filterText && virtual.skip === 0) {\n            return focusedItemIndex ? focusedItemIndex(data, filterText, textField) :\n                data.indexOf(getFocusedItem(data, filterText, textField));\n        }\n        else {\n            return !hasSelected && virtual.skip === 0 ? 0 : undefined;\n        }\n    };\n    DropDownListWithoutContext.prototype.focusElement = function (element) {\n        var _this = this;\n        this._skipFocusEvent = true;\n        element.focus();\n        window.setTimeout(function () { return _this._skipFocusEvent = false; }, 30);\n    };\n    DropDownListWithoutContext.prototype.triggerOnChange = function (item, state) {\n        if (areSame(this.value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    DropDownListWithoutContext.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    DropDownListWithoutContext.displayName = 'DropDownList';\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.propTypes = __assign({ delay: PropTypes.number, ignoreCase: PropTypes.bool, iconClassName: PropTypes.string, defaultItem: PropTypes.any, valueRender: PropTypes.func, valueMap: PropTypes.func, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string, leftRightKeysNavigation: PropTypes.bool, title: PropTypes.string }, DropDownBase.propTypes);\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.defaultProps = __assign({ delay: 500, tabIndex: 0, ignoreCase: true }, DropDownBase.defaultProps, { required: false });\n    return DropDownListWithoutContext;\n}(React.Component));\nexport { DropDownListWithoutContext };\n/**\n * Represents the PropsContext of the `DropDownList` component.\n * Used for global configuration of all `DropDownList` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var DropDownListPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact DropDownList component]({% slug overview_dropdownlist %}).\n *\n * Accepts properties of type [DropDownListProps]({% slug api_dropdowns_dropdownlistprops %}).\n * Obtaining the `ref` returns an object of type [DropDownListHandle]({% slug api_dropdowns_dropdownlisthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    dropdownlist = null;\n *    render() {\n *       return (\n *          <div>\n *              <DropDownList\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.dropdownlist = component}\n *              />\n *              <button onClick={() => alert(this.dropdownlist.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var DropDownList = withPropsContext(DropDownListPropsContext, DropDownListWithoutContext);\nDropDownList.displayName = 'KendoReactDropDownList';\n"]},"metadata":{},"sourceType":"module"}