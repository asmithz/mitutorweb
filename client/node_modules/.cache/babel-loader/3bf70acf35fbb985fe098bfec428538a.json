{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, useDir, getTabIndex, createPropsContext, usePropsContext } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { Picker } from './Picker';\nimport { ColorGradient } from './ColorGradient';\nimport { ColorPalette, DEFAULT_PRESET, DEFAULT_TILE_SIZE } from './ColorPalette';\n/**\n * @hidden\n */\n\nvar DEFAULT_GRADIENT_SETTINGS = {\n  opacity: true\n};\n/**\n * @hidden\n */\n\nvar DEFAULT_PALETTE_SETTINGS = {\n  palette: DEFAULT_PRESET,\n  tileSize: DEFAULT_TILE_SIZE\n};\n/**\n * @hidden\n */\n\nvar isControlled = function (prop) {\n  return prop !== undefined;\n};\n/**\n * Represents the PropsContext of the `ColorPicker` component.\n * Used for global configuration of all `ColorPicker` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\n\n\nexport var ColorPickerPropsContext = createPropsContext();\n/**\n * Represents the [KendoReact ColorPicker component]({% slug overview_colorpicker %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorPicker />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nexport var ColorPicker = React.forwardRef(function (directProps, target) {\n  validatePackage(packageMetadata);\n  var props = usePropsContext(ColorPickerPropsContext, directProps);\n  var popupSettings = props.popupSettings,\n      gradientSettings = props.gradientSettings,\n      paletteSettings = props.paletteSettings,\n      valid = props.valid,\n      disabled = props.disabled,\n      tabIndex = props.tabIndex,\n      view = props.view,\n      icon = props.icon,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onActiveColorClick = props.onActiveColorClick;\n  var focusableElementRef = React.useRef(null);\n  var gradientRef = React.useRef(null);\n  var paletteRef = React.useRef(null);\n  var blurTimeoutRef = React.useRef();\n  var buttonRef = React.useRef(null);\n  var focusElement = React.useCallback(function () {\n    if (focusableElementRef.current) {\n      focusableElementRef.current.focus();\n    }\n  }, []);\n  React.useImperativeHandle(target, function () {\n    return {\n      // we agreed that each element will have focus method exposed\n      element: focusableElementRef.current,\n      actionElement: buttonRef.current,\n      focus: focusElement\n    };\n  });\n\n  var _a = React.useState(false),\n      focused = _a[0],\n      setFocused = _a[1];\n\n  var _b = React.useState(props.defaultValue),\n      stateValue = _b[0],\n      setStateValue = _b[1];\n\n  var _c = React.useState(false),\n      stateOpen = _c[0],\n      setStateOpen = _c[1];\n\n  var isValueControlled = isControlled(props.value);\n  var isOpenControlled = isControlled(props.open);\n  var value = isValueControlled ? props.value : stateValue;\n  var open = isOpenControlled ? props.open : stateOpen;\n  var setOpen = React.useCallback(function (nextOpen, isBlur) {\n    if (!isOpenControlled) {\n      if (!nextOpen && !isBlur && focusableElementRef && focusableElementRef.current) {\n        focusableElementRef.current.focus();\n      }\n\n      setStateOpen(nextOpen);\n    }\n  }, [isOpenControlled]);\n  var onKeyDownHandler = React.useCallback(function (event) {\n    var altKey = event.altKey,\n        keyCode = event.keyCode;\n\n    if (keyCode === Keys.esc) {\n      setOpen(false);\n      return;\n    }\n\n    if (keyCode === Keys.enter && !isOpenControlled) {\n      event.preventDefault();\n      event.stopPropagation();\n      setOpen(!open);\n      return;\n    }\n\n    if (altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (keyCode === Keys.up && focusableElementRef && focusableElementRef.current) {\n        focusableElementRef.current.focus();\n        setOpen(false);\n      }\n\n      if (keyCode === Keys.down) {\n        setOpen(true);\n      }\n    }\n  }, [open, isOpenControlled]);\n  var onOpenHandler = React.useCallback(function () {\n    // Skip content autofocus when in controlled mode\n    if (!isOpenControlled) {\n      if (gradientRef.current) {\n        gradientRef.current.focus();\n      } else if (paletteRef.current) {\n        paletteRef.current.focus();\n      }\n    }\n  }, [isOpenControlled]);\n  var onClickHandler = React.useCallback(function () {\n    setOpen(!open, true);\n  }, [open]);\n  var onActiveColorClickHandler = React.useCallback(function (event) {\n    if (onActiveColorClick) {\n      onActiveColorClick.call(undefined, {\n        syntheticEvent: event,\n        nativeEvent: event.nativeEvent,\n        value: value\n      });\n    }\n  }, [onActiveColorClick, value]);\n  var onFocusHandler = React.useCallback(function (event) {\n    if (blurTimeoutRef.current) {\n      clearTimeout(blurTimeoutRef.current);\n      blurTimeoutRef.current = undefined; // case where moving back to input from popup\n      // if (event.target === focusableElementRef.current) {\n      // setOpen(false); // in this case we should focus input on keydown\n      // }\n    } else {\n      setFocused(true);\n    }\n\n    if (onFocus) {\n      onFocus.call(undefined, {\n        nativeEvent: event.nativeEvent,\n        syntheticEvent: event\n      });\n    }\n  }, [onFocus]);\n  var onBlurTimeout = React.useCallback(function () {\n    setOpen(false, true);\n    setFocused(false);\n    blurTimeoutRef.current = undefined;\n  }, []);\n  var onBlurHandler = React.useCallback(function (event) {\n    clearTimeout(blurTimeoutRef.current);\n    blurTimeoutRef.current = window.setTimeout(onBlurTimeout);\n\n    if (onBlur) {\n      onBlur.call(undefined, {\n        nativeEvent: event.nativeEvent,\n        syntheticEvent: event\n      });\n    }\n  }, [onBlur]);\n  var onChangeHandler = React.useCallback(function (event, isPalette) {\n    var currentValue = isPalette ? event.rgbaValue : event.value;\n\n    if (!isValueControlled) {\n      setStateValue(currentValue);\n    }\n\n    if (isPalette) {\n      setOpen(false);\n    }\n\n    if (onChange) {\n      onChange.call(undefined, {\n        value: currentValue,\n        nativeEvent: event.nativeEvent,\n        syntheticEvent: event.syntheticEvent\n      });\n    }\n  }, [isValueControlled, onChange]);\n  var onPaletteChangeHandler = React.useCallback(function (event) {\n    return onChangeHandler(event, true);\n  }, [isControlled, onChangeHandler]);\n  var dir = useDir(focusableElementRef, props.dir);\n  var iconClassName = props.iconClassName || icon && \"k-icon k-i-\" + icon;\n  var wrapperClassName = classNames({\n    'k-widget': true,\n    'k-colorpicker': true,\n    'k-state-invalid': valid === false\n  });\n  var className = React.useMemo(function () {\n    return classNames({\n      'k-picker-wrap': true,\n      'k-state-disabled': disabled,\n      'k-state-focused': focused\n    });\n  }, [focused, disabled]);\n  return React.createElement(\"span\", {\n    className: wrapperClassName,\n    dir: dir\n  }, React.createElement(\"span\", {\n    id: props.id,\n    \"aria-labelledby\": props.ariaLabelledBy,\n    \"aria-describedby\": props.ariaDescribedBy,\n    className: className,\n    ref: focusableElementRef,\n    tabIndex: getTabIndex(tabIndex, disabled),\n    title: props.title,\n    onKeyDown: onKeyDownHandler,\n    onFocus: onFocusHandler,\n    onBlur: onBlurHandler\n  }, React.createElement(Picker, {\n    dir: dir,\n    open: open,\n    onOpen: onOpenHandler,\n    popupAnchor: focusableElementRef.current || undefined,\n    popupSettings: __assign({}, popupSettings),\n    input: !iconClassName ? React.createElement(\"span\", {\n      onClick: onActiveColorClickHandler,\n      className: 'k-selected-color',\n      style: {\n        backgroundColor: value\n      }\n    }, !value && React.createElement(\"span\", {\n      className: 'k-icon k-i-line'\n    })) : React.createElement(\"span\", {\n      onClick: onActiveColorClickHandler,\n      className: classNames('k-tool-icon', iconClassName)\n    }, React.createElement(\"span\", {\n      className: 'k-selected-color',\n      style: {\n        backgroundColor: value\n      }\n    })),\n    button: React.createElement(\"span\", {\n      onClick: onClickHandler,\n      className: 'k-select',\n      ref: buttonRef\n    }, React.createElement(\"span\", {\n      className: 'k-icon k-i-arrow-s'\n    })),\n    content: React.createElement(React.Fragment, null, (view === 'combo' || view === 'gradient') && React.createElement(ColorGradient, __assign({}, gradientSettings, {\n      tabIndex: 0,\n      ref: gradientRef,\n      value: value,\n      onChange: onChangeHandler\n    })), (view === 'combo' || view === 'palette') && React.createElement(ColorPalette, __assign({}, paletteSettings, {\n      ref: paletteRef,\n      value: value,\n      onChange: onPaletteChangeHandler\n    })))\n  })));\n});\nColorPicker.propTypes = {\n  value: PropTypes.string,\n  defaultValue: PropTypes.string,\n  disabled: PropTypes.bool,\n  view: PropTypes.oneOf(['gradient', 'palette', 'combo']),\n  dir: PropTypes.string,\n  id: PropTypes.string,\n  ariaLabelledBy: PropTypes.string,\n  ariaDescribedBy: PropTypes.string\n};\nColorPicker.defaultProps = {\n  view: 'palette',\n  gradientSettings: DEFAULT_GRADIENT_SETTINGS,\n  paletteSettings: DEFAULT_PALETTE_SETTINGS\n};\nColorPicker.displayName = 'KendoColorPicker';","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorPicker.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","PropTypes","classNames","Keys","useDir","getTabIndex","createPropsContext","usePropsContext","validatePackage","packageMetadata","Picker","ColorGradient","ColorPalette","DEFAULT_PRESET","DEFAULT_TILE_SIZE","DEFAULT_GRADIENT_SETTINGS","opacity","DEFAULT_PALETTE_SETTINGS","palette","tileSize","isControlled","prop","undefined","ColorPickerPropsContext","ColorPicker","forwardRef","directProps","target","props","popupSettings","gradientSettings","paletteSettings","valid","disabled","tabIndex","view","icon","onChange","onFocus","onBlur","onActiveColorClick","focusableElementRef","useRef","gradientRef","paletteRef","blurTimeoutRef","buttonRef","focusElement","useCallback","current","focus","useImperativeHandle","element","actionElement","_a","useState","focused","setFocused","_b","defaultValue","stateValue","setStateValue","_c","stateOpen","setStateOpen","isValueControlled","value","isOpenControlled","open","setOpen","nextOpen","isBlur","onKeyDownHandler","event","altKey","keyCode","esc","enter","preventDefault","stopPropagation","up","down","onOpenHandler","onClickHandler","onActiveColorClickHandler","syntheticEvent","nativeEvent","onFocusHandler","clearTimeout","onBlurTimeout","onBlurHandler","window","setTimeout","onChangeHandler","isPalette","currentValue","rgbaValue","onPaletteChangeHandler","dir","iconClassName","wrapperClassName","className","useMemo","createElement","id","ariaLabelledBy","ariaDescribedBy","ref","title","onKeyDown","onOpen","popupAnchor","input","onClick","style","backgroundColor","button","content","Fragment","propTypes","string","bool","oneOf","defaultProps","displayName"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, useDir, getTabIndex, createPropsContext, usePropsContext } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { Picker } from './Picker';\nimport { ColorGradient } from './ColorGradient';\nimport { ColorPalette, DEFAULT_PRESET, DEFAULT_TILE_SIZE } from './ColorPalette';\n/**\n * @hidden\n */\nvar DEFAULT_GRADIENT_SETTINGS = {\n    opacity: true\n};\n/**\n * @hidden\n */\nvar DEFAULT_PALETTE_SETTINGS = {\n    palette: DEFAULT_PRESET,\n    tileSize: DEFAULT_TILE_SIZE\n};\n/**\n * @hidden\n */\nvar isControlled = function (prop) {\n    return prop !== undefined;\n};\n/**\n * Represents the PropsContext of the `ColorPicker` component.\n * Used for global configuration of all `ColorPicker` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\nexport var ColorPickerPropsContext = createPropsContext();\n/**\n * Represents the [KendoReact ColorPicker component]({% slug overview_colorpicker %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorPicker />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var ColorPicker = React.forwardRef(function (directProps, target) {\n    validatePackage(packageMetadata);\n    var props = usePropsContext(ColorPickerPropsContext, directProps);\n    var popupSettings = props.popupSettings, gradientSettings = props.gradientSettings, paletteSettings = props.paletteSettings, valid = props.valid, disabled = props.disabled, tabIndex = props.tabIndex, view = props.view, icon = props.icon, onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur, onActiveColorClick = props.onActiveColorClick;\n    var focusableElementRef = React.useRef(null);\n    var gradientRef = React.useRef(null);\n    var paletteRef = React.useRef(null);\n    var blurTimeoutRef = React.useRef();\n    var buttonRef = React.useRef(null);\n    var focusElement = React.useCallback(function () {\n        if (focusableElementRef.current) {\n            focusableElementRef.current.focus();\n        }\n    }, []);\n    React.useImperativeHandle(target, function () { return ({\n        // we agreed that each element will have focus method exposed\n        element: focusableElementRef.current,\n        actionElement: buttonRef.current,\n        focus: focusElement\n    }); });\n    var _a = React.useState(false), focused = _a[0], setFocused = _a[1];\n    var _b = React.useState(props.defaultValue), stateValue = _b[0], setStateValue = _b[1];\n    var _c = React.useState(false), stateOpen = _c[0], setStateOpen = _c[1];\n    var isValueControlled = isControlled(props.value);\n    var isOpenControlled = isControlled(props.open);\n    var value = isValueControlled ? props.value : stateValue;\n    var open = isOpenControlled ? props.open : stateOpen;\n    var setOpen = React.useCallback(function (nextOpen, isBlur) {\n        if (!isOpenControlled) {\n            if (!nextOpen && !isBlur && focusableElementRef && focusableElementRef.current) {\n                focusableElementRef.current.focus();\n            }\n            setStateOpen(nextOpen);\n        }\n    }, [isOpenControlled]);\n    var onKeyDownHandler = React.useCallback(function (event) {\n        var altKey = event.altKey, keyCode = event.keyCode;\n        if (keyCode === Keys.esc) {\n            setOpen(false);\n            return;\n        }\n        if (keyCode === Keys.enter && !isOpenControlled) {\n            event.preventDefault();\n            event.stopPropagation();\n            setOpen(!open);\n            return;\n        }\n        if (altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (keyCode === Keys.up && focusableElementRef && focusableElementRef.current) {\n                focusableElementRef.current.focus();\n                setOpen(false);\n            }\n            if (keyCode === Keys.down) {\n                setOpen(true);\n            }\n        }\n    }, [open, isOpenControlled]);\n    var onOpenHandler = React.useCallback(function () {\n        // Skip content autofocus when in controlled mode\n        if (!isOpenControlled) {\n            if (gradientRef.current) {\n                gradientRef.current.focus();\n            }\n            else if (paletteRef.current) {\n                paletteRef.current.focus();\n            }\n        }\n    }, [isOpenControlled]);\n    var onClickHandler = React.useCallback(function () {\n        setOpen(!open, true);\n    }, [open]);\n    var onActiveColorClickHandler = React.useCallback(function (event) {\n        if (onActiveColorClick) {\n            onActiveColorClick.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                value: value\n            });\n        }\n    }, [onActiveColorClick, value]);\n    var onFocusHandler = React.useCallback(function (event) {\n        if (blurTimeoutRef.current) {\n            clearTimeout(blurTimeoutRef.current);\n            blurTimeoutRef.current = undefined;\n            // case where moving back to input from popup\n            // if (event.target === focusableElementRef.current) {\n            // setOpen(false); // in this case we should focus input on keydown\n            // }\n        }\n        else {\n            setFocused(true);\n        }\n        if (onFocus) {\n            onFocus.call(undefined, {\n                nativeEvent: event.nativeEvent,\n                syntheticEvent: event\n            });\n        }\n    }, [onFocus]);\n    var onBlurTimeout = React.useCallback(function () {\n        setOpen(false, true);\n        setFocused(false);\n        blurTimeoutRef.current = undefined;\n    }, []);\n    var onBlurHandler = React.useCallback(function (event) {\n        clearTimeout(blurTimeoutRef.current);\n        blurTimeoutRef.current = window.setTimeout(onBlurTimeout);\n        if (onBlur) {\n            onBlur.call(undefined, {\n                nativeEvent: event.nativeEvent,\n                syntheticEvent: event\n            });\n        }\n    }, [onBlur]);\n    var onChangeHandler = React.useCallback(function (event, isPalette) {\n        var currentValue = isPalette ? event.rgbaValue : event.value;\n        if (!isValueControlled) {\n            setStateValue(currentValue);\n        }\n        if (isPalette) {\n            setOpen(false);\n        }\n        if (onChange) {\n            onChange.call(undefined, {\n                value: currentValue,\n                nativeEvent: event.nativeEvent,\n                syntheticEvent: event.syntheticEvent\n            });\n        }\n    }, [isValueControlled, onChange]);\n    var onPaletteChangeHandler = React.useCallback(function (event) { return onChangeHandler(event, true); }, [isControlled, onChangeHandler]);\n    var dir = useDir(focusableElementRef, props.dir);\n    var iconClassName = props.iconClassName || (icon && \"k-icon k-i-\" + icon);\n    var wrapperClassName = classNames({\n        'k-widget': true,\n        'k-colorpicker': true,\n        'k-state-invalid': valid === false\n    });\n    var className = React.useMemo(function () { return classNames({\n        'k-picker-wrap': true,\n        'k-state-disabled': disabled,\n        'k-state-focused': focused\n    }); }, [focused, disabled]);\n    return (React.createElement(\"span\", { className: wrapperClassName, dir: dir },\n        React.createElement(\"span\", { id: props.id, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy, className: className, ref: focusableElementRef, tabIndex: getTabIndex(tabIndex, disabled), title: props.title, onKeyDown: onKeyDownHandler, onFocus: onFocusHandler, onBlur: onBlurHandler },\n            React.createElement(Picker, { dir: dir, open: open, onOpen: onOpenHandler, popupAnchor: focusableElementRef.current || undefined, popupSettings: __assign({}, popupSettings), input: (!iconClassName ? (React.createElement(\"span\", { onClick: onActiveColorClickHandler, className: 'k-selected-color', style: { backgroundColor: value } }, !value && React.createElement(\"span\", { className: 'k-icon k-i-line' }))) : (React.createElement(\"span\", { onClick: onActiveColorClickHandler, className: classNames('k-tool-icon', iconClassName) },\n                    React.createElement(\"span\", { className: 'k-selected-color', style: { backgroundColor: value } })))), button: (React.createElement(\"span\", { onClick: onClickHandler, className: 'k-select', ref: buttonRef },\n                    React.createElement(\"span\", { className: 'k-icon k-i-arrow-s' }))), content: (React.createElement(React.Fragment, null,\n                    (view === 'combo' || view === 'gradient') && (React.createElement(ColorGradient, __assign({}, gradientSettings, { tabIndex: 0, ref: gradientRef, value: value, onChange: onChangeHandler }))),\n                    (view === 'combo' || view === 'palette') && (React.createElement(ColorPalette, __assign({}, paletteSettings, { ref: paletteRef, value: value, onChange: onPaletteChangeHandler }))))) }))));\n});\nColorPicker.propTypes = {\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    disabled: PropTypes.bool,\n    view: PropTypes.oneOf(['gradient', 'palette', 'combo']),\n    dir: PropTypes.string,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n};\nColorPicker.defaultProps = {\n    view: 'palette',\n    gradientSettings: DEFAULT_GRADIENT_SETTINGS,\n    paletteSettings: DEFAULT_PALETTE_SETTINGS\n};\nColorPicker.displayName = 'KendoColorPicker';\n"]},"metadata":{},"sourceType":"module"}