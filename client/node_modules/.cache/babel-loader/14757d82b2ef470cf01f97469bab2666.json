{"ast":null,"code":"import { cloneDate, firstDayOfMonth, Day } from '@progress/kendo-date-math';\nimport { setDayOfWeek, toUTCDateTime, normalizeDayIndex } from './utils';\n\nvar numberSortPredicate = function (a, b) {\n  return a - b;\n};\n\nvar weekInMonth = function (date, weekStart) {\n  var firstWeekDay = toUTCDateTime(firstDayOfMonth(date)).getUTCDay();\n  var firstWeekLength = 7 - (firstWeekDay + 7 - (weekStart || 7)) || 7;\n\n  if (firstWeekLength < 0) {\n    firstWeekLength += 7;\n  }\n\n  return Math.ceil((date.getUTCDate() - firstWeekLength) / 7) + 1;\n};\n\nvar weekInYear = function (date, weekStart) {\n  date = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));\n  var year = date.getUTCFullYear();\n\n  if (weekStart !== undefined) {\n    setDayOfWeek(date, weekStart, -1);\n    date.setUTCDate(date.getUTCDate() + 4);\n  } else {\n    date.setUTCDate(date.getUTCDate() + (4 - (date.getUTCDay() || 7)));\n  }\n\n  var days = Math.floor((date.getTime() - Date.UTC(year, 0, 1, -6)) / 86400000);\n  return 1 + Math.floor(days / 7);\n};\n\nvar normalizeOffset = function (date, rule, weekStart) {\n  var offset = rule.offset;\n\n  if (!offset) {\n    return weekInMonth(date, weekStart);\n  }\n\n  var lastDate = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth() + 1, 0));\n  var weeksInMonth = weekInMonth(lastDate, weekStart);\n  var day = normalizeDayIndex(rule.day, weekStart);\n  var skipFirst = day < normalizeDayIndex(new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), 1)).getUTCDay(), weekStart);\n  var skipLast = day > normalizeDayIndex(lastDate.getUTCDay(), weekStart);\n\n  if (offset < 0) {\n    offset = weeksInMonth + (offset + 1 - (skipLast ? 1 : 0));\n  } else if (skipFirst) {\n    offset += 1;\n  }\n\n  weeksInMonth -= skipLast ? 1 : 0;\n\n  if (offset < (skipFirst ? 1 : 0) || offset > weeksInMonth) {\n    return null;\n  }\n\n  return offset;\n};\n\nvar isInWeek = function (date, rule, weekStart) {\n  return weekInMonth(date, weekStart) === normalizeOffset(date, rule, weekStart);\n};\n\nvar numberOfWeeks = function (date, weekStart) {\n  return weekInMonth(new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth() + 1, 0)), weekStart);\n};\n\nvar DAYS_IN_LEAPYEAR = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];\nvar DAYS_IN_YEAR = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n\nvar leapYear = function (year) {\n  year = year.getUTCFullYear();\n  return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n};\n\nvar dayInYear = function (date) {\n  var month = date.getUTCMonth();\n  var days = leapYear(date) ? DAYS_IN_LEAPYEAR[month] : DAYS_IN_YEAR[month];\n  return days + date.getUTCDate();\n};\n\nvar MONTHS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nvar getMonthLength = function (date) {\n  var month = date.getUTCMonth();\n\n  if (month === 1) {\n    if (new Date(Date.UTC(date.getUTCFullYear(), 1, 29)).getUTCMonth() === 1) {\n      return 29;\n    }\n\n    return 28;\n  }\n\n  return MONTHS[month];\n};\n\nvar ruleValues = function (rules, value, normalize) {\n  var length = rules.length;\n  var availableRules = [];\n\n  for (var idx = 0; idx < length; idx++) {\n    var ruleValue = rules[idx];\n\n    if (normalize) {\n      ruleValue = normalize(ruleValue);\n    }\n\n    if (value === ruleValue) {\n      return null;\n    } else if (value < ruleValue) {\n      availableRules.push(ruleValue);\n    }\n  }\n\n  return availableRules;\n};\n\nvar ruleWeekValues = function (days, date, weekStart) {\n  var currentDay = normalizeDayIndex(date.getUTCDay(), weekStart);\n  var length = days.length;\n  var ruleWeekOffset;\n  var weekDay, day;\n  var weekNumber;\n  var result = [];\n\n  for (var idx = 0; idx < length; idx++) {\n    weekDay = days[idx];\n    weekNumber = weekInMonth(date, weekStart);\n    ruleWeekOffset = normalizeOffset(date, weekDay, weekStart);\n\n    if (ruleWeekOffset === null) {\n      continue;\n    }\n\n    if (weekNumber < ruleWeekOffset) {\n      result.push(weekDay);\n    } else if (weekNumber === ruleWeekOffset) {\n      day = normalizeDayIndex(weekDay.day, weekStart);\n\n      if (currentDay < day) {\n        result.push(weekDay);\n      } else if (currentDay === day) {\n        return null;\n      }\n    }\n  }\n\n  return result;\n};\n/** @hidden */\n\n\nexport var byMonth = function (date, end, rule) {\n  var monthRules = rule.byMonth;\n  var monthRuleValues = ruleValues(monthRules, date.getUTCMonth() + 1);\n  var changed = false;\n\n  if (monthRuleValues !== null) {\n    if (monthRuleValues.length) {\n      date.setUTCMonth(monthRuleValues[0] - 1, 1);\n    } else {\n      date.setUTCFullYear(date.getUTCFullYear() + 1, monthRules[0] - 1, 1);\n    }\n\n    changed = true;\n  }\n\n  return changed;\n};\n/** @hidden */\n\nexport var byMonthDay = function (date, end, rule) {\n  var monthLength;\n  var changed = false;\n\n  function normalize(monthDay) {\n    if (monthDay < 0) {\n      monthDay = monthLength + monthDay + 1;\n    }\n\n    return monthDay;\n  }\n\n  while (date <= end) {\n    var month = date.getUTCMonth();\n    monthLength = getMonthLength(date);\n    var days = ruleValues(rule.byMonthDay, date.getUTCDate(), normalize);\n\n    if (days === null) {\n      return changed;\n    }\n\n    changed = true;\n\n    if (days.length) {\n      date.setUTCMonth(month, days.sort(numberSortPredicate)[0]);\n\n      if (month === date.getUTCMonth()) {\n        break;\n      }\n    } else {\n      date.setUTCMonth(month + 1, 1);\n    }\n  }\n\n  return changed;\n};\n/** @hidden */\n\nexport var byYearDay = function (date, end, rule) {\n  var year;\n  var changed = false;\n\n  function normalize(yearDay) {\n    if (yearDay < 0) {\n      yearDay = year + yearDay;\n    }\n\n    return yearDay;\n  }\n\n  while (date < end) {\n    year = leapYear(date) ? 366 : 365;\n    var days = ruleValues(rule.byYearDay, dayInYear(date), normalize);\n\n    if (days === null) {\n      return changed;\n    }\n\n    changed = true;\n    year = date.getUTCFullYear();\n\n    if (days.length) {\n      date.setUTCFullYear(year, 0, days.sort(numberSortPredicate)[0]);\n      break;\n    } else {\n      date.setUTCFullYear(year + 1, 0, 1);\n    }\n  }\n\n  return changed;\n};\n/** @hidden */\n\nexport var byWeekNumber = function (date, end, rule) {\n  var weekStart = rule.weekStart || Day.Monday;\n  var changed = false;\n\n  function normalize(week) {\n    if (week < 0) {\n      week = 53 + week;\n    }\n\n    return week;\n  }\n\n  while (date < end) {\n    var weekRuleValues = ruleValues(rule.byWeekNumber, weekInYear(date, weekStart), normalize);\n\n    if (weekRuleValues === null) {\n      return changed;\n    }\n\n    changed = true;\n    var year = date.getUTCFullYear();\n\n    if (weekRuleValues.length) {\n      var day = weekRuleValues.sort(numberSortPredicate)[0] * 7 - 1;\n      date.setUTCFullYear(year, 0, day);\n      setDayOfWeek(date, weekStart, -1);\n      break;\n    } else {\n      date.setUTCFullYear(year + 1, 0, 1);\n    }\n  }\n\n  return changed;\n};\n/** @hidden */\n\nexport var byWeekDay = function (startDate, end, rule) {\n  var ruleValue = rule.byWeekDay;\n  var weekStart = rule.weekStart || Day.Monday;\n  var weekDayRules = ruleWeekValues(ruleValue, startDate, weekStart);\n\n  if (weekDayRules === null) {\n    return false;\n  }\n\n  if (!weekDayRules[0]) {\n    weekDayRules = ruleValue;\n    setDayOfWeek(startDate, weekStart);\n  }\n\n  var results = weekDayRules.map(function (weekDayRule) {\n    var date = cloneDate(startDate);\n    var day = weekDayRule.day;\n\n    if (weekDayRule.offset) {\n      while (date <= end && !isInWeek(date, weekDayRule, weekStart)) {\n        if (weekInMonth(date, weekStart) === numberOfWeeks(date, weekStart)) {\n          date.setUTCMonth(date.getUTCMonth() + 1, 1);\n        } else {\n          date.setUTCDate(date.getUTCDate() + 7);\n          setDayOfWeek(date, weekStart, -1);\n        }\n      }\n    }\n\n    if (date.getUTCDay() !== day) {\n      setDayOfWeek(date, day);\n    }\n\n    return date;\n  }).sort(function (a, b) {\n    return a.getTime() - b.getTime();\n  });\n  var firstDate = results[0];\n\n  if (firstDate) {\n    startDate.setTime(firstDate);\n  }\n\n  return true;\n};\n/** @hidden */\n\nexport var byHour = function (date, end, rule) {\n  var hourRules = rule.byHour;\n  var changed = false;\n  var startTime = rule._startTime;\n  var startHours = startTime.getUTCHours();\n  var hourValues = ruleValues(hourRules, startHours);\n\n  if (hourValues !== null) {\n    changed = true;\n    date.setUTCHours(startHours);\n\n    if (hourValues.length) {\n      hourValues = hourValues[0];\n      date.setUTCHours(hourValues);\n    } else {\n      hourValues = date.getUTCHours();\n      date.setUTCDate(date.getUTCDate() + 1);\n      hourValues = hourRules[0];\n      date.setUTCHours(hourValues);\n    }\n\n    if (rule.byMinute) {\n      date.setUTCMinutes(0);\n    }\n\n    startTime.setUTCHours(hourValues, date.getUTCMinutes());\n  }\n\n  return changed;\n};\n/** @hidden */\n\nexport var byMinute = function (date, end, rule) {\n  var minuteRules = rule.byMinute;\n  var currentMinutes = date.getUTCMinutes();\n  var minuteValues = ruleValues(minuteRules, currentMinutes);\n\n  var startHours = rule._startTime.getUTCHours();\n\n  var changed = false;\n\n  if (minuteValues !== null) {\n    changed = true;\n\n    if (minuteValues.length) {\n      minuteValues = minuteValues[0];\n    } else {\n      startHours += 1;\n      minuteValues = minuteRules[0];\n    }\n\n    if (rule.bySecond) {\n      date.setUTCSeconds(0);\n    }\n\n    date.setUTCHours(startHours, minuteValues);\n    startHours = startHours % 24;\n\n    rule._startTime.setUTCHours(startHours, minuteValues, date.getUTCSeconds());\n  }\n\n  return changed;\n};\n/** @hidden */\n\nexport var bySecond = function (date, _end, rule) {\n  var secondRules = rule.bySecond;\n  var secondsValues = ruleValues(secondRules, date.getUTCSeconds());\n\n  var startHours = rule._startTime.getUTCHours();\n\n  var dateMinutes = date.getUTCMinutes();\n  var changed = false;\n\n  if (secondsValues !== null) {\n    changed = true;\n\n    if (secondsValues.length) {\n      date.setUTCSeconds(secondsValues[0]);\n    } else {\n      dateMinutes += 1;\n      date.setUTCMinutes(dateMinutes, secondRules[0]);\n\n      if (dateMinutes > 59) {\n        dateMinutes = dateMinutes % 60;\n        startHours = (startHours + 1) % 24;\n      }\n    }\n\n    rule._startTime.setUTCHours(startHours, dateMinutes, date.getUTCSeconds());\n  }\n\n  return changed;\n};","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-recurrence/dist/es/limitations.js"],"names":["cloneDate","firstDayOfMonth","Day","setDayOfWeek","toUTCDateTime","normalizeDayIndex","numberSortPredicate","a","b","weekInMonth","date","weekStart","firstWeekDay","getUTCDay","firstWeekLength","Math","ceil","getUTCDate","weekInYear","Date","UTC","getUTCFullYear","getUTCMonth","year","undefined","setUTCDate","days","floor","getTime","normalizeOffset","rule","offset","lastDate","weeksInMonth","day","skipFirst","skipLast","isInWeek","numberOfWeeks","DAYS_IN_LEAPYEAR","DAYS_IN_YEAR","leapYear","dayInYear","month","MONTHS","getMonthLength","ruleValues","rules","value","normalize","length","availableRules","idx","ruleValue","push","ruleWeekValues","currentDay","ruleWeekOffset","weekDay","weekNumber","result","byMonth","end","monthRules","monthRuleValues","changed","setUTCMonth","setUTCFullYear","byMonthDay","monthLength","monthDay","sort","byYearDay","yearDay","byWeekNumber","Monday","week","weekRuleValues","byWeekDay","startDate","weekDayRules","results","map","weekDayRule","firstDate","setTime","byHour","hourRules","startTime","_startTime","startHours","getUTCHours","hourValues","setUTCHours","byMinute","setUTCMinutes","getUTCMinutes","minuteRules","currentMinutes","minuteValues","bySecond","setUTCSeconds","getUTCSeconds","_end","secondRules","secondsValues","dateMinutes"],"mappings":"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","sourcesContent":["import { cloneDate, firstDayOfMonth, Day } from '@progress/kendo-date-math';\nimport { setDayOfWeek, toUTCDateTime, normalizeDayIndex } from './utils';\nvar numberSortPredicate = function (a, b) { return a - b; };\nvar weekInMonth = function (date, weekStart) {\n    var firstWeekDay = toUTCDateTime(firstDayOfMonth(date)).getUTCDay();\n    var firstWeekLength = 7 - (firstWeekDay + 7 - (weekStart || 7)) || 7;\n    if (firstWeekLength < 0) {\n        firstWeekLength += 7;\n    }\n    return Math.ceil((date.getUTCDate() - firstWeekLength) / 7) + 1;\n};\nvar weekInYear = function (date, weekStart) {\n    date = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));\n    var year = date.getUTCFullYear();\n    if (weekStart !== undefined) {\n        setDayOfWeek(date, weekStart, -1);\n        date.setUTCDate(date.getUTCDate() + 4);\n    }\n    else {\n        date.setUTCDate(date.getUTCDate() + (4 - (date.getUTCDay() || 7)));\n    }\n    var days = Math.floor((date.getTime() - Date.UTC(year, 0, 1, -6)) / 86400000);\n    return 1 + Math.floor(days / 7);\n};\nvar normalizeOffset = function (date, rule, weekStart) {\n    var offset = rule.offset;\n    if (!offset) {\n        return weekInMonth(date, weekStart);\n    }\n    var lastDate = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth() + 1, 0));\n    var weeksInMonth = weekInMonth(lastDate, weekStart);\n    var day = normalizeDayIndex(rule.day, weekStart);\n    var skipFirst = day < normalizeDayIndex(new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), 1)).getUTCDay(), weekStart);\n    var skipLast = day > normalizeDayIndex(lastDate.getUTCDay(), weekStart);\n    if (offset < 0) {\n        offset = weeksInMonth + (offset + 1 - (skipLast ? 1 : 0));\n    }\n    else if (skipFirst) {\n        offset += 1;\n    }\n    weeksInMonth -= (skipLast ? 1 : 0);\n    if (offset < (skipFirst ? 1 : 0) || offset > weeksInMonth) {\n        return null;\n    }\n    return offset;\n};\nvar isInWeek = function (date, rule, weekStart) {\n    return weekInMonth(date, weekStart) === normalizeOffset(date, rule, weekStart);\n};\nvar numberOfWeeks = function (date, weekStart) {\n    return weekInMonth(new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth() + 1, 0)), weekStart);\n};\nvar DAYS_IN_LEAPYEAR = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];\nvar DAYS_IN_YEAR = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\nvar leapYear = function (year) {\n    year = year.getUTCFullYear();\n    return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n};\nvar dayInYear = function (date) {\n    var month = date.getUTCMonth();\n    var days = leapYear(date) ? DAYS_IN_LEAPYEAR[month] : DAYS_IN_YEAR[month];\n    return days + date.getUTCDate();\n};\nvar MONTHS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar getMonthLength = function (date) {\n    var month = date.getUTCMonth();\n    if (month === 1) {\n        if (new Date(Date.UTC(date.getUTCFullYear(), 1, 29)).getUTCMonth() === 1) {\n            return 29;\n        }\n        return 28;\n    }\n    return MONTHS[month];\n};\nvar ruleValues = function (rules, value, normalize) {\n    var length = rules.length;\n    var availableRules = [];\n    for (var idx = 0; idx < length; idx++) {\n        var ruleValue = rules[idx];\n        if (normalize) {\n            ruleValue = normalize(ruleValue);\n        }\n        if (value === ruleValue) {\n            return null;\n        }\n        else if (value < ruleValue) {\n            availableRules.push(ruleValue);\n        }\n    }\n    return availableRules;\n};\nvar ruleWeekValues = function (days, date, weekStart) {\n    var currentDay = normalizeDayIndex(date.getUTCDay(), weekStart);\n    var length = days.length;\n    var ruleWeekOffset;\n    var weekDay, day;\n    var weekNumber;\n    var result = [];\n    for (var idx = 0; idx < length; idx++) {\n        weekDay = days[idx];\n        weekNumber = weekInMonth(date, weekStart);\n        ruleWeekOffset = normalizeOffset(date, weekDay, weekStart);\n        if (ruleWeekOffset === null) {\n            continue;\n        }\n        if (weekNumber < ruleWeekOffset) {\n            result.push(weekDay);\n        }\n        else if (weekNumber === ruleWeekOffset) {\n            day = normalizeDayIndex(weekDay.day, weekStart);\n            if (currentDay < day) {\n                result.push(weekDay);\n            }\n            else if (currentDay === day) {\n                return null;\n            }\n        }\n    }\n    return result;\n};\n/** @hidden */\nexport var byMonth = function (date, end, rule) {\n    var monthRules = rule.byMonth;\n    var monthRuleValues = ruleValues(monthRules, date.getUTCMonth() + 1);\n    var changed = false;\n    if (monthRuleValues !== null) {\n        if (monthRuleValues.length) {\n            date.setUTCMonth(monthRuleValues[0] - 1, 1);\n        }\n        else {\n            date.setUTCFullYear(date.getUTCFullYear() + 1, monthRules[0] - 1, 1);\n        }\n        changed = true;\n    }\n    return changed;\n};\n/** @hidden */\nexport var byMonthDay = function (date, end, rule) {\n    var monthLength;\n    var changed = false;\n    function normalize(monthDay) {\n        if (monthDay < 0) {\n            monthDay = monthLength + monthDay + 1;\n        }\n        return monthDay;\n    }\n    while (date <= end) {\n        var month = date.getUTCMonth();\n        monthLength = getMonthLength(date);\n        var days = ruleValues(rule.byMonthDay, date.getUTCDate(), normalize);\n        if (days === null) {\n            return changed;\n        }\n        changed = true;\n        if (days.length) {\n            date.setUTCMonth(month, days.sort(numberSortPredicate)[0]);\n            if (month === date.getUTCMonth()) {\n                break;\n            }\n        }\n        else {\n            date.setUTCMonth(month + 1, 1);\n        }\n    }\n    return changed;\n};\n/** @hidden */\nexport var byYearDay = function (date, end, rule) {\n    var year;\n    var changed = false;\n    function normalize(yearDay) {\n        if (yearDay < 0) {\n            yearDay = year + yearDay;\n        }\n        return yearDay;\n    }\n    while (date < end) {\n        year = leapYear(date) ? 366 : 365;\n        var days = ruleValues(rule.byYearDay, dayInYear(date), normalize);\n        if (days === null) {\n            return changed;\n        }\n        changed = true;\n        year = date.getUTCFullYear();\n        if (days.length) {\n            date.setUTCFullYear(year, 0, days.sort(numberSortPredicate)[0]);\n            break;\n        }\n        else {\n            date.setUTCFullYear(year + 1, 0, 1);\n        }\n    }\n    return changed;\n};\n/** @hidden */\nexport var byWeekNumber = function (date, end, rule) {\n    var weekStart = rule.weekStart || Day.Monday;\n    var changed = false;\n    function normalize(week) {\n        if (week < 0) {\n            week = 53 + week;\n        }\n        return week;\n    }\n    while (date < end) {\n        var weekRuleValues = ruleValues(rule.byWeekNumber, weekInYear(date, weekStart), normalize);\n        if (weekRuleValues === null) {\n            return changed;\n        }\n        changed = true;\n        var year = date.getUTCFullYear();\n        if (weekRuleValues.length) {\n            var day = (weekRuleValues.sort(numberSortPredicate)[0] * 7) - 1;\n            date.setUTCFullYear(year, 0, day);\n            setDayOfWeek(date, weekStart, -1);\n            break;\n        }\n        else {\n            date.setUTCFullYear(year + 1, 0, 1);\n        }\n    }\n    return changed;\n};\n/** @hidden */\nexport var byWeekDay = function (startDate, end, rule) {\n    var ruleValue = rule.byWeekDay;\n    var weekStart = rule.weekStart || Day.Monday;\n    var weekDayRules = ruleWeekValues(ruleValue, startDate, weekStart);\n    if (weekDayRules === null) {\n        return false;\n    }\n    if (!weekDayRules[0]) {\n        weekDayRules = ruleValue;\n        setDayOfWeek(startDate, weekStart);\n    }\n    var results = weekDayRules.map(function (weekDayRule) {\n        var date = cloneDate(startDate);\n        var day = weekDayRule.day;\n        if (weekDayRule.offset) {\n            while (date <= end && !isInWeek(date, weekDayRule, weekStart)) {\n                if (weekInMonth(date, weekStart) === numberOfWeeks(date, weekStart)) {\n                    date.setUTCMonth(date.getUTCMonth() + 1, 1);\n                }\n                else {\n                    date.setUTCDate(date.getUTCDate() + 7);\n                    setDayOfWeek(date, weekStart, -1);\n                }\n            }\n        }\n        if (date.getUTCDay() !== day) {\n            setDayOfWeek(date, day);\n        }\n        return date;\n    }).sort(function (a, b) { return a.getTime() - b.getTime(); });\n    var firstDate = results[0];\n    if (firstDate) {\n        startDate.setTime(firstDate);\n    }\n    return true;\n};\n/** @hidden */\nexport var byHour = function (date, end, rule) {\n    var hourRules = rule.byHour;\n    var changed = false;\n    var startTime = rule._startTime;\n    var startHours = startTime.getUTCHours();\n    var hourValues = ruleValues(hourRules, startHours);\n    if (hourValues !== null) {\n        changed = true;\n        date.setUTCHours(startHours);\n        if (hourValues.length) {\n            hourValues = hourValues[0];\n            date.setUTCHours(hourValues);\n        }\n        else {\n            hourValues = date.getUTCHours();\n            date.setUTCDate(date.getUTCDate() + 1);\n            hourValues = hourRules[0];\n            date.setUTCHours(hourValues);\n        }\n        if (rule.byMinute) {\n            date.setUTCMinutes(0);\n        }\n        startTime.setUTCHours(hourValues, date.getUTCMinutes());\n    }\n    return changed;\n};\n/** @hidden */\nexport var byMinute = function (date, end, rule) {\n    var minuteRules = rule.byMinute;\n    var currentMinutes = date.getUTCMinutes();\n    var minuteValues = ruleValues(minuteRules, currentMinutes);\n    var startHours = rule._startTime.getUTCHours();\n    var changed = false;\n    if (minuteValues !== null) {\n        changed = true;\n        if (minuteValues.length) {\n            minuteValues = minuteValues[0];\n        }\n        else {\n            startHours += 1;\n            minuteValues = minuteRules[0];\n        }\n        if (rule.bySecond) {\n            date.setUTCSeconds(0);\n        }\n        date.setUTCHours(startHours, minuteValues);\n        startHours = startHours % 24;\n        rule._startTime.setUTCHours(startHours, minuteValues, date.getUTCSeconds());\n    }\n    return changed;\n};\n/** @hidden */\nexport var bySecond = function (date, _end, rule) {\n    var secondRules = rule.bySecond;\n    var secondsValues = ruleValues(secondRules, date.getUTCSeconds());\n    var startHours = rule._startTime.getUTCHours();\n    var dateMinutes = date.getUTCMinutes();\n    var changed = false;\n    if (secondsValues !== null) {\n        changed = true;\n        if (secondsValues.length) {\n            date.setUTCSeconds(secondsValues[0]);\n        }\n        else {\n            dateMinutes += 1;\n            date.setUTCMinutes(dateMinutes, secondRules[0]);\n            if (dateMinutes > 59) {\n                dateMinutes = dateMinutes % 60;\n                startHours = (startHours + 1) % 24;\n            }\n        }\n        rule._startTime.setUTCHours(startHours, dateMinutes, date.getUTCSeconds());\n    }\n    return changed;\n};\n"]},"metadata":{},"sourceType":"module"}