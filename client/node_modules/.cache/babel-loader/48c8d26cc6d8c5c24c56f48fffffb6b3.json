{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nimport * as React from 'react';\nimport { SchedulerItem } from './SchedulerItem';\nimport { intersects, first, calculateOrder } from '../utils';\nimport { useSchedulerElementContext, useSchedulerViewItemsContext, useSchedulerViewSlotsContext } from '../context';\nimport { getRect, setRect } from '../views/common/utils';\nimport { BORDER_WIDTH } from '../constants';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { SchedulerItemContent } from './SchedulerItemContent';\nvar ITEMS_SPACING = 1;\n/* eslint-disable max-len */\n\n/**\n * Represents the default `viewItem` component rendered by the [KendoReact Scheduler component]({% slug overview_scheduler %}).\n *\n * This is a composite component of the [`SchedulerItem`]({% slug api_scheduler_scheduleritem %}), extending it to provide proper positioning inside a view.\n */\n\nexport var SchedulerViewItem = React.forwardRef(function (props, ref) {\n  // tslint:enable:max-line-length\n  var itemProp = props.item,\n      _ref = props._ref,\n      itemRef = props.itemRef,\n      itemProps = __rest(props, [\"item\", \"_ref\", \"itemRef\"]);\n\n  var timeout = React.useRef();\n  var item = React.useRef(null);\n  var viewItem = React.useRef(null);\n  React.useImperativeHandle(viewItem, function () {\n    return {\n      props: props,\n      element: item.current && item.current.element\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return viewItem.current;\n  });\n  React.useImperativeHandle(_ref, function () {\n    return item.current;\n  });\n  React.useImperativeHandle(itemRef, function () {\n    return item.current;\n  });\n  var Item = itemProp || defaultProps.item;\n  var intl = useInternationalization();\n  var viewItems = useSchedulerViewItemsContext()[0];\n  var viewSlots = useSchedulerViewSlotsContext()[0];\n  var scheduler = useSchedulerElementContext();\n\n  var _a = React.useState(true),\n      display = _a[0],\n      setDisplay = _a[1];\n\n  var _b = React.useState(false),\n      visible = _b[0],\n      setVisible = _b[1];\n\n  var _c = React.useState(0),\n      maxSiblingsPerSlot = _c[0],\n      setMaxSiblingsPerSlot = _c[1];\n\n  var itemTime = React.useMemo(function () {\n    return props.isAllDay ? intl.toString(props.zonedStart, 't') : intl.format('{0:t} - {1:t}', props.zonedStart, props.zonedEnd);\n  }, [intl, props.isAllDay, props.zonedEnd, props.zonedStart]);\n  var itemTitle = React.useMemo(function () {\n    return \"(\" + itemTime + \"): \" + props.title;\n  }, [itemTime, props.title]);\n\n  var calculateMostSiblings = function (slots, items) {\n    var most = 1;\n    slots.forEach(function (slot) {\n      var itemsInSlot = items.filter(function (i) {\n        return inSlot(slot.current.props, i.props);\n      });\n\n      if (itemsInSlot.length > most) {\n        most = itemsInSlot.length;\n      }\n    });\n    return most;\n  };\n\n  var getSiblingsInAllSlots = function (slots, items) {\n    var siblings = slots.map(function (slot) {\n      return items.filter(function (i) {\n        return inSlot(slot.current.props, i.props);\n      });\n    });\n    return siblings;\n  };\n\n  var inSlot = function (slot, current) {\n    return intersects(slot.start, slot.end, current.start, current.end) && slot.group.index === current.group.index && slot.range.index === current.range.index && (props.ignoreIsAllDay || slot.isAllDay === current.isAllDay);\n  }; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  var align = function () {\n    var slots = (viewSlots || []).filter(function (slot) {\n      return slot.current && inSlot(slot.current.props, props);\n    });\n\n    if (slots.length === 0) {\n      setDisplay(false);\n      return;\n    }\n\n    var firstSlot = first(slots);\n\n    if (!firstSlot.current || !item.current) {\n      return;\n    }\n\n    var rect = getRect(firstSlot.current.element);\n    setRect(item.current.element, rect);\n  }; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  var position = function () {\n    var element = item.current && item.current.element;\n\n    if (!element) {\n      return;\n    }\n\n    var slots = (viewSlots || []).filter(function (slot) {\n      return slot.current && inSlot(slot.current.props, props);\n    });\n    var items = [];\n    var dragItems = [];\n    var resizeItems = [];\n    (viewItems || []).forEach(function (i) {\n      if (!i.current) {\n        return;\n      }\n\n      if (i.current.props.dragHint) {\n        dragItems.push(i.current);\n      } else if (i.current.props.resizeHint) {\n        resizeItems.push(i.current);\n      } else {\n        items.push(i.current);\n      }\n    });\n    var order = props.dragHint || props.resizeHint ? calculateOrder(item.current, props.dragHint ? dragItems : resizeItems, slots, props.ignoreIsAllDay) : props.order || 0;\n    var mostSiblingsInSlot = props.dragHint || props.resizeHint ? calculateMostSiblings(slots, props.dragHint ? dragItems : resizeItems) : calculateMostSiblings(slots, items);\n    var siblingsPerSlot = getSiblingsInAllSlots(slots, items);\n    var topOffset = 0;\n    var rect = getRect(element);\n    siblingsPerSlot.forEach(function (slot) {\n      var currentOffset = 0;\n      slot.forEach(function (current) {\n        if (intersects(current.props.start, current.props.end, props.start, props.end) && !(props.dragHint || props.resizeHint) && current.props._maxSiblingsPerSlot && current.props._maxSiblingsPerSlot > mostSiblingsInSlot && current.element !== element) {\n          mostSiblingsInSlot = current.props._maxSiblingsPerSlot;\n        }\n\n        var currentRect = getRect(current.element);\n\n        if (current.props.order !== null && current.props.order < order) {\n          currentOffset = currentRect.top + currentRect.height - rect.top - BORDER_WIDTH * order + ITEMS_SPACING;\n        }\n      });\n\n      if (currentOffset > topOffset) {\n        topOffset = currentOffset;\n      }\n    });\n\n    if (slots.length === 0) {\n      setDisplay(false);\n      return;\n    }\n\n    var OFFSET = 20;\n    rect.width = props.vertical ? rect.width / mostSiblingsInSlot - BORDER_WIDTH - OFFSET / mostSiblingsInSlot : rect.width * slots.length - BORDER_WIDTH - OFFSET;\n    rect.height = props.vertical ? rect.height * slots.length - BORDER_WIDTH : (props.resizeHint || props.dragHint) && mostSiblingsInSlot <= 1 ? rect.height : props.style && props.style.height ? props.style.height : 25;\n    rect.left = props.vertical ? rect.left + order * rect.width + BORDER_WIDTH * order : rect.left;\n    rect.top = props.vertical ? rect.top : rect.top + topOffset + BORDER_WIDTH * order;\n    setMaxSiblingsPerSlot(mostSiblingsInSlot);\n    setRect(element, rect);\n    setVisible(true);\n    setDisplay(true);\n  };\n\n  var handleResize = React.useCallback(function () {\n    if (timeout.current !== undefined) {\n      window.cancelAnimationFrame(timeout.current);\n    }\n\n    timeout.current = window.requestAnimationFrame(function () {\n      align();\n      position();\n    });\n  }, [align, position]);\n  React.useEffect(align);\n  React.useEffect(position);\n  React.useEffect(function () {\n    if (!scheduler.current) {\n      return;\n    }\n\n    var observer = new window.ResizeObserver(handleResize);\n    observer.observe(scheduler.current);\n    return function () {\n      observer.disconnect();\n    };\n  }, [handleResize, scheduler]);\n  return React.createElement(Item, __assign({}, itemProps, {\n    _ref: item,\n    _maxSiblingsPerSlot: maxSiblingsPerSlot,\n    itemRef: item,\n    style: __assign({\n      visibility: visible ? undefined : 'hidden',\n      display: display ? undefined : 'none'\n    }, props.style)\n  }), !props.resizeHint && React.createElement(\"span\", {\n    className: \"k-event-actions\"\n  }, props.tail && React.createElement(\"span\", {\n    className: \"k-icon k-i-arrow-60-left\"\n  }), props.isRecurring && !props.isException && React.createElement(\"span\", {\n    className: \"k-icon k-i-reload\"\n  }), !props.isRecurring && props.isException && React.createElement(\"span\", {\n    className: \"k-icon k-i-non-recurrence\"\n  })), !props.resizeHint && React.createElement(\"div\", {\n    title: itemTitle\n  }, !props.isAllDay && React.createElement(SchedulerItemContent, {\n    className: \"k-event-template k-event-time \"\n  }, itemTitle), React.createElement(SchedulerItemContent, {\n    className: \"k-event-template\"\n  }, props.title)));\n});\nvar defaultProps = {\n  item: SchedulerItem\n};\nSchedulerViewItem.defaultProps = defaultProps;\nSchedulerViewItem.displayName = 'KendoReactSchedulerViewItem';","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-react-scheduler/dist/es/items/SchedulerViewItem.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","React","SchedulerItem","intersects","first","calculateOrder","useSchedulerElementContext","useSchedulerViewItemsContext","useSchedulerViewSlotsContext","getRect","setRect","BORDER_WIDTH","useInternationalization","SchedulerItemContent","ITEMS_SPACING","SchedulerViewItem","forwardRef","props","ref","itemProp","item","_ref","itemRef","itemProps","timeout","useRef","viewItem","useImperativeHandle","element","current","Item","defaultProps","intl","viewItems","viewSlots","scheduler","_a","useState","display","setDisplay","_b","visible","setVisible","_c","maxSiblingsPerSlot","setMaxSiblingsPerSlot","itemTime","useMemo","isAllDay","toString","zonedStart","format","zonedEnd","itemTitle","title","calculateMostSiblings","slots","items","most","forEach","slot","itemsInSlot","filter","inSlot","getSiblingsInAllSlots","siblings","map","start","end","group","index","range","ignoreIsAllDay","align","firstSlot","rect","position","dragItems","resizeItems","dragHint","push","resizeHint","order","mostSiblingsInSlot","siblingsPerSlot","topOffset","currentOffset","_maxSiblingsPerSlot","currentRect","top","height","OFFSET","width","vertical","style","left","handleResize","useCallback","undefined","window","cancelAnimationFrame","requestAnimationFrame","useEffect","observer","ResizeObserver","observe","disconnect","createElement","visibility","className","tail","isRecurring","isException","displayName"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport { SchedulerItem } from './SchedulerItem';\nimport { intersects, first, calculateOrder } from '../utils';\nimport { useSchedulerElementContext, useSchedulerViewItemsContext, useSchedulerViewSlotsContext } from '../context';\nimport { getRect, setRect } from '../views/common/utils';\nimport { BORDER_WIDTH } from '../constants';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { SchedulerItemContent } from './SchedulerItemContent';\nvar ITEMS_SPACING = 1;\n/* eslint-disable max-len */\n/**\n * Represents the default `viewItem` component rendered by the [KendoReact Scheduler component]({% slug overview_scheduler %}).\n *\n * This is a composite component of the [`SchedulerItem`]({% slug api_scheduler_scheduleritem %}), extending it to provide proper positioning inside a view.\n */\nexport var SchedulerViewItem = React.forwardRef(function (props, ref) {\n    // tslint:enable:max-line-length\n    var itemProp = props.item, _ref = props._ref, itemRef = props.itemRef, itemProps = __rest(props, [\"item\", \"_ref\", \"itemRef\"]);\n    var timeout = React.useRef();\n    var item = React.useRef(null);\n    var viewItem = React.useRef(null);\n    React.useImperativeHandle(viewItem, function () { return ({ props: props, element: item.current && item.current.element }); });\n    React.useImperativeHandle(ref, function () { return viewItem.current; });\n    React.useImperativeHandle(_ref, function () { return item.current; });\n    React.useImperativeHandle(itemRef, function () { return item.current; });\n    var Item = itemProp || defaultProps.item;\n    var intl = useInternationalization();\n    var viewItems = useSchedulerViewItemsContext()[0];\n    var viewSlots = useSchedulerViewSlotsContext()[0];\n    var scheduler = useSchedulerElementContext();\n    var _a = React.useState(true), display = _a[0], setDisplay = _a[1];\n    var _b = React.useState(false), visible = _b[0], setVisible = _b[1];\n    var _c = React.useState(0), maxSiblingsPerSlot = _c[0], setMaxSiblingsPerSlot = _c[1];\n    var itemTime = React.useMemo(function () { return props.isAllDay\n        ? intl.toString(props.zonedStart, 't')\n        : intl.format('{0:t} - {1:t}', props.zonedStart, props.zonedEnd); }, [intl, props.isAllDay, props.zonedEnd, props.zonedStart]);\n    var itemTitle = React.useMemo(function () { return \"(\" + itemTime + \"): \" + props.title; }, [itemTime, props.title]);\n    var calculateMostSiblings = function (slots, items) {\n        var most = 1;\n        slots.forEach(function (slot) {\n            var itemsInSlot = items.filter(function (i) { return inSlot(slot.current.props, i.props); });\n            if (itemsInSlot.length > most) {\n                most = itemsInSlot.length;\n            }\n        });\n        return most;\n    };\n    var getSiblingsInAllSlots = function (slots, items) {\n        var siblings = slots.map(function (slot) {\n            return items.filter(function (i) { return inSlot(slot.current.props, i.props); });\n        });\n        return siblings;\n    };\n    var inSlot = function (slot, current) {\n        return intersects(slot.start, slot.end, current.start, current.end)\n            && slot.group.index === current.group.index\n            && slot.range.index === current.range.index\n            && (props.ignoreIsAllDay || slot.isAllDay === current.isAllDay);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var align = function () {\n        var slots = (viewSlots || []).filter(function (slot) { return slot.current && inSlot(slot.current.props, props); });\n        if (slots.length === 0) {\n            setDisplay(false);\n            return;\n        }\n        var firstSlot = first(slots);\n        if (!firstSlot.current || !item.current) {\n            return;\n        }\n        var rect = getRect(firstSlot.current.element);\n        setRect(item.current.element, rect);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var position = function () {\n        var element = item.current && item.current.element;\n        if (!element) {\n            return;\n        }\n        var slots = (viewSlots || []).filter(function (slot) { return slot.current && inSlot(slot.current.props, props); });\n        var items = [];\n        var dragItems = [];\n        var resizeItems = [];\n        (viewItems || []).forEach(function (i) {\n            if (!i.current) {\n                return;\n            }\n            if (i.current.props.dragHint) {\n                dragItems.push(i.current);\n            }\n            else if (i.current.props.resizeHint) {\n                resizeItems.push(i.current);\n            }\n            else {\n                items.push(i.current);\n            }\n        });\n        var order = (props.dragHint || props.resizeHint)\n            ? calculateOrder(item.current, props.dragHint ? dragItems : resizeItems, slots, props.ignoreIsAllDay)\n            : (props.order || 0);\n        var mostSiblingsInSlot = props.dragHint || props.resizeHint\n            ? calculateMostSiblings(slots, props.dragHint ? dragItems : resizeItems)\n            : calculateMostSiblings(slots, items);\n        var siblingsPerSlot = getSiblingsInAllSlots(slots, items);\n        var topOffset = 0;\n        var rect = getRect(element);\n        siblingsPerSlot.forEach(function (slot) {\n            var currentOffset = 0;\n            slot.forEach(function (current) {\n                if (intersects(current.props.start, current.props.end, props.start, props.end)\n                    && !(props.dragHint || props.resizeHint)\n                    && current.props._maxSiblingsPerSlot\n                    && current.props._maxSiblingsPerSlot > mostSiblingsInSlot\n                    && current.element !== element) {\n                    mostSiblingsInSlot = current.props._maxSiblingsPerSlot;\n                }\n                var currentRect = getRect(current.element);\n                if (current.props.order !== null && current.props.order < order) {\n                    currentOffset = ((currentRect.top + currentRect.height) - rect.top) - (BORDER_WIDTH * order) + ITEMS_SPACING;\n                }\n            });\n            if (currentOffset > topOffset) {\n                topOffset = currentOffset;\n            }\n        });\n        if (slots.length === 0) {\n            setDisplay(false);\n            return;\n        }\n        var OFFSET = 20;\n        rect.width = (props.vertical\n            ? ((rect.width / mostSiblingsInSlot) - BORDER_WIDTH - (OFFSET / mostSiblingsInSlot))\n            : ((rect.width * slots.length) - (BORDER_WIDTH)) - OFFSET);\n        rect.height = props.vertical\n            ? ((rect.height * slots.length) - (BORDER_WIDTH))\n            : ((props.resizeHint || props.dragHint) && mostSiblingsInSlot <= 1)\n                ? rect.height\n                : (props.style && props.style.height ? props.style.height : 25);\n        rect.left = props.vertical\n            ? (rect.left + (order * rect.width) + (BORDER_WIDTH * order))\n            : rect.left;\n        rect.top = props.vertical\n            ? rect.top\n            : (rect.top + topOffset + (BORDER_WIDTH * order));\n        setMaxSiblingsPerSlot(mostSiblingsInSlot);\n        setRect(element, rect);\n        setVisible(true);\n        setDisplay(true);\n    };\n    var handleResize = React.useCallback(function () {\n        if (timeout.current !== undefined) {\n            window.cancelAnimationFrame(timeout.current);\n        }\n        timeout.current = window.requestAnimationFrame(function () {\n            align();\n            position();\n        });\n    }, [align, position]);\n    React.useEffect(align);\n    React.useEffect(position);\n    React.useEffect(function () {\n        if (!scheduler.current) {\n            return;\n        }\n        var observer = new window.ResizeObserver(handleResize);\n        observer.observe(scheduler.current);\n        return function () {\n            observer.disconnect();\n        };\n    }, [handleResize, scheduler]);\n    return (React.createElement(Item, __assign({}, itemProps, { _ref: item, _maxSiblingsPerSlot: maxSiblingsPerSlot, itemRef: item, style: __assign({ visibility: visible ? undefined : 'hidden', display: display ? undefined : 'none' }, props.style) }),\n        (!props.resizeHint) && React.createElement(\"span\", { className: \"k-event-actions\" },\n            props.tail && React.createElement(\"span\", { className: \"k-icon k-i-arrow-60-left\" }),\n            (props.isRecurring && !props.isException) && React.createElement(\"span\", { className: \"k-icon k-i-reload\" }),\n            (!props.isRecurring && props.isException) && React.createElement(\"span\", { className: \"k-icon k-i-non-recurrence\" })),\n        (!props.resizeHint) && (React.createElement(\"div\", { title: itemTitle },\n            !props.isAllDay && (React.createElement(SchedulerItemContent, { className: \"k-event-template k-event-time \" }, itemTitle)),\n            React.createElement(SchedulerItemContent, { className: \"k-event-template\" }, props.title)))));\n});\nvar defaultProps = {\n    item: SchedulerItem\n};\nSchedulerViewItem.defaultProps = defaultProps;\nSchedulerViewItem.displayName = 'KendoReactSchedulerViewItem';\n"]},"metadata":{},"sourceType":"module"}