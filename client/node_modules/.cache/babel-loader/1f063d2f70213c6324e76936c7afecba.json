{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MaskingService } from './masking.service';\nimport { defaultRules, maskingChanged, returnFalse } from './utils';\nimport { guid, classNames, getTabIndex, withPropsContext, createPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/** @hidden */\n\nvar MaskedTextBoxWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(MaskedTextBoxWithoutContext, _super);\n\n  function MaskedTextBoxWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this._inputId = \"k-\" + guid();\n    _this._service = new MaskingService();\n    _this._isPasted = false;\n    _this._selection = [null, null];\n    _this._input = null;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n\n    _this.pasteHandler = function (event) {\n      var _a = event.target,\n          selectionStart = _a.selectionStart,\n          selectionEnd = _a.selectionEnd;\n\n      if (selectionEnd === selectionStart) {\n        return;\n      }\n\n      _this._isPasted = true;\n      _this._selection = [selectionStart || 0, selectionEnd || 0];\n    };\n\n    _this.onChangeHandler = function (event) {\n      var input = event.currentTarget;\n      var value = input.value;\n      var start = _this._selection[0] || 0;\n      var end = _this._selection[1] || 0;\n\n      if (!_this.props.mask) {\n        _this._isPasted = false;\n        _this._selection = [null, null];\n\n        _this.triggerOnChange(value, event);\n\n        return;\n      }\n\n      var maskedValue = _this.value;\n      var result;\n\n      if (_this._isPasted) {\n        _this._isPasted = false;\n        var rightPart = maskedValue.length - end;\n        var to = value.length - rightPart;\n        result = _this._service.maskInRange(value.slice(start, to), maskedValue, start, end);\n      } else {\n        result = _this._service.maskInput(value, maskedValue, input.selectionStart || 0);\n      }\n\n      _this._selection = [result.selection, result.selection];\n\n      _this.triggerOnChange(result.value, event);\n    };\n\n    _this.focusHandler = function (event) {\n      if (!_this.state.focused) {\n        _this.setState({\n          focused: true\n        });\n\n        if (_this.props.onFocus) {\n          _this.props.onFocus.call(undefined, {\n            target: _this,\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent\n          });\n        }\n      }\n    };\n\n    _this.blurHandler = function (event) {\n      if (_this.state.focused) {\n        _this.setState({\n          focused: false\n        });\n\n        if (_this.props.onBlur) {\n          _this.props.onBlur.call(undefined, {\n            target: _this,\n            syntheticEvent: event,\n            nativeEvent: event.nativeEvent\n          });\n        }\n      }\n    };\n\n    _this.setValidity = function () {\n      if (_this.element) {\n        _this.element.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || '');\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"element\", {\n    /**\n     * Gets the element of the MaskedTextBox.\n     *\n     * @return - An `HTMLInputElement`.\n     *\n     * @example\n     * ```jsx\n     * class App extends React.Component {\n     *     constructor(props) {\n     *         super(props);\n     *     }\n     *     element = null;\n     *     render() {\n     *         return (\n     *             <div>\n     *                 <MaskedTextBox\n     *                     ref={(component) =>\n     *                         this.element = component ? component.element : null}\n     *                 />\n     *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n     *             </div>\n     *         );\n     *     }\n     * }\n     *\n     * ReactDOM.render(\n     *     <App />,\n     *     document.getElementsByTagName('my-app')[0]\n     * );\n     * ```\n     */\n    get: function () {\n      return this._input;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"value\", {\n    /**\n     * Gets the value with the mask of the MaskedTextBox.\n     */\n    get: function () {\n      if (this._valueDuringOnChange !== undefined) {\n        return this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        return this.props.value;\n      } else if (this.state.value !== undefined) {\n        return this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        return this.props.defaultValue;\n      }\n\n      return '';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rawValue\", {\n    /**\n     * Gets the raw value without the mask of the MaskedTextBox.\n     */\n    get: function () {\n      return this._service.rawValue(this.value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the MaskedTextBox is set.\n     */\n    get: function () {\n      var maskedValue = this.value;\n\n      var value = this._service.validationValue(maskedValue);\n\n      var customError = this.props.validationMessage !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : (!this.required || !!value) && (!this.props.maskValidation || !this.props.prompt || maskedValue.indexOf(this.props.prompt) === -1);\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: !value\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validityStyles\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : MaskedTextBoxWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : MaskedTextBoxWithoutContext.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the MaskedTextBox.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  MaskedTextBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (this.element && this.state.focused && prevState.focused) {\n      var _a = this._selection,\n          start = _a[0],\n          end = _a[1];\n      var prevSelection = prevProps.selection;\n      var nextSelection = this.props.selection;\n\n      if (!prevSelection && nextSelection || prevSelection && nextSelection && (prevSelection.start !== nextSelection.start || prevSelection.end !== nextSelection.end)) {\n        start = nextSelection.start;\n        end = nextSelection.end;\n      }\n\n      if (start !== null && end !== null) {\n        this.element.setSelectionRange(start, end);\n      }\n    }\n\n    if (maskingChanged(prevProps, this.props)) {\n      this.updateService();\n    }\n\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  MaskedTextBoxWithoutContext.prototype.componentDidMount = function () {\n    this.updateService();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  MaskedTextBoxWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    var inputId = this.props.id || this._inputId;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var style = this.props.style || {};\n    var component = React.createElement(\"span\", {\n      dir: this.props.dir,\n      className: classNames('k-widget k-maskedtextbox', this.props.className, {\n        'k-state-focused': this.state.focused,\n        'k-state-disabled': this.props.disabled,\n        'k-state-invalid': !isValid\n      }),\n      style: !this.props.label ? __assign({\n        width: this.props.width\n      }, style) : style\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      autoCapitalize: \"off\",\n      spellCheck: false,\n      className: \"k-textbox\",\n      value: this.value,\n      id: inputId,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-describedby\": this.props.ariaDescribedBy,\n      name: this.props.name,\n      tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled, true),\n      accessKey: this.props.accessKey,\n      title: this.props.title,\n      disabled: this.props.disabled || undefined,\n      readOnly: this.props.readonly || undefined,\n      placeholder: this.props.placeholder,\n      ref: function (input) {\n        return _this._input = input;\n      },\n      onChange: this.onChangeHandler,\n      onPaste: this.pasteHandler,\n      onFocus: this.focusHandler,\n      onBlur: this.blurHandler,\n      onDragStart: returnFalse,\n      onDrop: returnFalse\n    }));\n    return this.props.label ? React.createElement(FloatingLabel, {\n      label: this.props.label,\n      editorId: inputId,\n      editorValue: this.value,\n      editorValid: isValid,\n      editorDisabled: this.props.disabled,\n      editorPlaceholder: this.props.placeholder,\n      children: component,\n      style: {\n        width: this.props.width\n      },\n      dir: this.props.dir\n    }) : component;\n  };\n\n  MaskedTextBoxWithoutContext.prototype.triggerOnChange = function (maskedValue, event) {\n    this.setState({\n      value: maskedValue\n    });\n\n    if (this.props.onChange) {\n      this._valueDuringOnChange = maskedValue;\n      this.props.onChange.call(undefined, {\n        syntheticEvent: event,\n        nativeEvent: event.nativeEvent,\n        selectionStart: this._selection[0],\n        selectionEnd: this._selection[1],\n        target: this,\n        value: this.value\n      });\n      this._valueDuringOnChange = undefined;\n    }\n  };\n\n  MaskedTextBoxWithoutContext.prototype.updateService = function (extra) {\n    var config = Object.assign({\n      includeLiterals: this.props.includeLiterals,\n      mask: this.props.mask,\n      prompt: this.props.prompt,\n      promptPlaceholder: this.props.promptPlaceholder,\n      rules: this.rules\n    }, extra); // tslint:disable-line:align\n\n    this._service.update(config);\n  };\n\n  Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rules\", {\n    get: function () {\n      return Object.assign({}, defaultRules, this.props.rules);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MaskedTextBoxWithoutContext.displayName = 'MaskedTextBox';\n  /**\n   * @hidden\n   */\n\n  MaskedTextBoxWithoutContext.propTypes = {\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    placeholder: PropTypes.string,\n    title: PropTypes.string,\n    dir: PropTypes.string,\n    id: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    tabIndex: PropTypes.number,\n    accessKey: PropTypes.string,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    prompt: PropTypes.string,\n    promptPlaceholder: PropTypes.string,\n    includeLiterals: PropTypes.bool,\n    maskValidation: PropTypes.bool,\n    mask: PropTypes.string,\n    rules: function (props, propName, componentName) {\n      var rules = props.rules;\n\n      if (rules !== undefined) {\n        var valid = Object.entries(rules).some(function (e) {\n          return typeof e !== 'string' || !(rules[e] instanceof RegExp);\n        });\n\n        if (!valid) {\n          return new Error('Invalid prop `' + propName + '` supplied to' + ' `' + componentName + '`. Validation failed.');\n        }\n      }\n\n      return null;\n    },\n    selection: PropTypes.shape({\n      start: PropTypes.number.isRequired,\n      end: PropTypes.number.isRequired\n    }),\n    name: PropTypes.string,\n    label: PropTypes.string,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    valid: PropTypes.bool,\n    validityStyles: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n  /**\n   * @hidden\n   */\n\n  MaskedTextBoxWithoutContext.defaultProps = {\n    prompt: '_',\n    promptPlaceholder: ' ',\n    includeLiterals: false,\n    maskValidation: true,\n    rules: defaultRules,\n    required: false,\n    validityStyles: true\n  };\n  return MaskedTextBoxWithoutContext;\n}(React.Component);\n\nexport { MaskedTextBoxWithoutContext };\n/**\n * Represents the PropsContext of the `MaskedTextBox` component.\n * Used for global configuration of all `MaskedTextBox` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\n\nexport var MaskedTextBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the props of the [KendoReact MaskedTextBox component]({% slug overview_maskedtextbox %}).\n *\n * Accepts properties of type [MaskedTextBoxProps]({% slug api_inputs_maskedtextboxprops %}).\n * Obtaining the `ref` returns an object of type [MaskedTextBoxHandle]({% slug api_inputs_maskedtextboxhandle %}).\n */\n\nexport var MaskedTextBox = withPropsContext(MaskedTextBoxPropsContext, MaskedTextBoxWithoutContext);\nMaskedTextBox.displayName = 'KendoReactMaskedTextBox';","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-react-inputs/dist/es/maskedtextbox/MaskedTextBox.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","MaskingService","defaultRules","maskingChanged","returnFalse","guid","classNames","getTabIndex","withPropsContext","createPropsContext","FloatingLabel","validatePackage","packageMetadata","MaskedTextBoxWithoutContext","_super","props","_this","state","_inputId","_service","_isPasted","_selection","_input","focus","pasteHandler","event","_a","target","selectionStart","selectionEnd","onChangeHandler","input","currentTarget","value","start","end","mask","triggerOnChange","maskedValue","result","rightPart","to","maskInRange","slice","maskInput","selection","focusHandler","focused","setState","onFocus","undefined","syntheticEvent","nativeEvent","blurHandler","onBlur","setValidity","element","setCustomValidity","validity","valid","validationMessage","defineProperty","get","enumerable","configurable","_valueDuringOnChange","defaultValue","rawValue","validationValue","customError","required","maskValidation","prompt","indexOf","valueMissing","validityStyles","defaultProps","name","componentDidUpdate","prevProps","prevState","prevSelection","nextSelection","setSelectionRange","updateService","componentDidMount","render","inputId","id","isValid","style","component","createElement","dir","className","disabled","label","width","type","autoComplete","autoCorrect","autoCapitalize","spellCheck","ariaLabelledBy","ariaDescribedBy","tabIndex","accessKey","title","readOnly","readonly","placeholder","ref","onChange","onPaste","onDragStart","onDrop","editorId","editorValue","editorValid","editorDisabled","editorPlaceholder","children","extra","config","includeLiterals","promptPlaceholder","rules","update","displayName","propTypes","string","object","oneOfType","number","bool","propName","componentName","entries","some","e","RegExp","Error","shape","isRequired","func","Component","MaskedTextBoxPropsContext","MaskedTextBox"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MaskingService } from './masking.service';\nimport { defaultRules, maskingChanged, returnFalse } from './utils';\nimport { guid, classNames, getTabIndex, withPropsContext, createPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/** @hidden */\nvar MaskedTextBoxWithoutContext = /** @class */ (function (_super) {\n    __extends(MaskedTextBoxWithoutContext, _super);\n    function MaskedTextBoxWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this._inputId = \"k-\" + guid();\n        _this._service = new MaskingService();\n        _this._isPasted = false;\n        _this._selection = [null, null];\n        _this._input = null;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        _this.pasteHandler = function (event) {\n            var _a = event.target, selectionStart = _a.selectionStart, selectionEnd = _a.selectionEnd;\n            if (selectionEnd === selectionStart) {\n                return;\n            }\n            _this._isPasted = true;\n            _this._selection = [selectionStart || 0, selectionEnd || 0];\n        };\n        _this.onChangeHandler = function (event) {\n            var input = event.currentTarget;\n            var value = input.value;\n            var start = _this._selection[0] || 0;\n            var end = _this._selection[1] || 0;\n            if (!_this.props.mask) {\n                _this._isPasted = false;\n                _this._selection = [null, null];\n                _this.triggerOnChange(value, event);\n                return;\n            }\n            var maskedValue = _this.value;\n            var result;\n            if (_this._isPasted) {\n                _this._isPasted = false;\n                var rightPart = maskedValue.length - end;\n                var to = value.length - rightPart;\n                result = _this._service.maskInRange(value.slice(start, to), maskedValue, start, end);\n            }\n            else {\n                result = _this._service.maskInput(value, maskedValue, input.selectionStart || 0);\n            }\n            _this._selection = [result.selection, result.selection];\n            _this.triggerOnChange(result.value, event);\n        };\n        _this.focusHandler = function (event) {\n            if (!_this.state.focused) {\n                _this.setState({ focused: true });\n                if (_this.props.onFocus) {\n                    _this.props.onFocus.call(undefined, {\n                        target: _this,\n                        syntheticEvent: event,\n                        nativeEvent: event.nativeEvent\n                    });\n                }\n            }\n        };\n        _this.blurHandler = function (event) {\n            if (_this.state.focused) {\n                _this.setState({ focused: false });\n                if (_this.props.onBlur) {\n                    _this.props.onBlur.call(undefined, {\n                        target: _this,\n                        syntheticEvent: event,\n                        nativeEvent: event.nativeEvent\n                    });\n                }\n            }\n        };\n        _this.setValidity = function () {\n            if (_this.element) {\n                _this.element.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || '');\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"element\", {\n        /**\n         * Gets the element of the MaskedTextBox.\n         *\n         * @return - An `HTMLInputElement`.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *     }\n         *     element = null;\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <MaskedTextBox\n         *                     ref={(component) =>\n         *                         this.element = component ? component.element : null}\n         *                 />\n         *                 <button onClick={() => console.log(this.element)}>console.log the element</button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         *\n         * ReactDOM.render(\n         *     <App />,\n         *     document.getElementsByTagName('my-app')[0]\n         * );\n         * ```\n         */\n        get: function () {\n            return this._input;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"value\", {\n        /**\n         * Gets the value with the mask of the MaskedTextBox.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rawValue\", {\n        /**\n         * Gets the raw value without the mask of the MaskedTextBox.\n         */\n        get: function () {\n            return this._service.rawValue(this.value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the MaskedTextBox is set.\n         */\n        get: function () {\n            var maskedValue = this.value;\n            var value = this._service.validationValue(maskedValue);\n            var customError = this.props.validationMessage !== undefined;\n            var valid = (this.props.valid !== undefined ?\n                this.props.valid : ((!this.required || !!value)) &&\n                (!this.props.maskValidation || !this.props.prompt || maskedValue.indexOf(this.props.prompt) === -1));\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: !value\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : MaskedTextBoxWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : MaskedTextBoxWithoutContext.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the MaskedTextBox.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.element && this.state.focused && prevState.focused) {\n            var _a = this._selection, start = _a[0], end = _a[1];\n            var prevSelection = prevProps.selection;\n            var nextSelection = this.props.selection;\n            if ((!prevSelection && nextSelection) ||\n                (prevSelection && nextSelection &&\n                    (prevSelection.start !== nextSelection.start || prevSelection.end !== nextSelection.end))) {\n                start = nextSelection.start;\n                end = nextSelection.end;\n            }\n            if (start !== null && end !== null) {\n                this.element.setSelectionRange(start, end);\n            }\n        }\n        if (maskingChanged(prevProps, this.props)) {\n            this.updateService();\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.prototype.componentDidMount = function () {\n        this.updateService();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.prototype.render = function () {\n        var _this = this;\n        var inputId = this.props.id || this._inputId;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var style = this.props.style || {};\n        var component = (React.createElement(\"span\", { dir: this.props.dir, className: classNames('k-widget k-maskedtextbox', this.props.className, {\n                'k-state-focused': this.state.focused,\n                'k-state-disabled': this.props.disabled,\n                'k-state-invalid': !isValid\n            }), style: !this.props.label\n                ? __assign({ width: this.props.width }, style) : style },\n            React.createElement(\"input\", { type: \"text\", autoComplete: \"off\", autoCorrect: \"off\", autoCapitalize: \"off\", spellCheck: false, className: \"k-textbox\", value: this.value, id: inputId, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, name: this.props.name, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled, true), accessKey: this.props.accessKey, title: this.props.title, disabled: this.props.disabled || undefined, readOnly: this.props.readonly || undefined, placeholder: this.props.placeholder, ref: function (input) { return _this._input = input; }, onChange: this.onChangeHandler, onPaste: this.pasteHandler, onFocus: this.focusHandler, onBlur: this.blurHandler, onDragStart: returnFalse, onDrop: returnFalse })));\n        return this.props.label\n            ? (React.createElement(FloatingLabel, { label: this.props.label, editorId: inputId, editorValue: this.value, editorValid: isValid, editorDisabled: this.props.disabled, editorPlaceholder: this.props.placeholder, children: component, style: { width: this.props.width }, dir: this.props.dir }))\n            : component;\n    };\n    MaskedTextBoxWithoutContext.prototype.triggerOnChange = function (maskedValue, event) {\n        this.setState({\n            value: maskedValue\n        });\n        if (this.props.onChange) {\n            this._valueDuringOnChange = maskedValue;\n            this.props.onChange.call(undefined, {\n                syntheticEvent: event,\n                nativeEvent: event.nativeEvent,\n                selectionStart: this._selection[0],\n                selectionEnd: this._selection[1],\n                target: this,\n                value: this.value\n            });\n            this._valueDuringOnChange = undefined;\n        }\n    };\n    MaskedTextBoxWithoutContext.prototype.updateService = function (extra) {\n        var config = Object.assign({\n            includeLiterals: this.props.includeLiterals,\n            mask: this.props.mask,\n            prompt: this.props.prompt,\n            promptPlaceholder: this.props.promptPlaceholder,\n            rules: this.rules\n        }, extra); // tslint:disable-line:align\n        this._service.update(config);\n    };\n    Object.defineProperty(MaskedTextBoxWithoutContext.prototype, \"rules\", {\n        get: function () {\n            return Object.assign({}, defaultRules, this.props.rules);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MaskedTextBoxWithoutContext.displayName = 'MaskedTextBox';\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.propTypes = {\n        value: PropTypes.string,\n        defaultValue: PropTypes.string,\n        placeholder: PropTypes.string,\n        title: PropTypes.string,\n        dir: PropTypes.string,\n        id: PropTypes.string,\n        style: PropTypes.object,\n        className: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string,\n        width: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number\n        ]),\n        tabIndex: PropTypes.number,\n        accessKey: PropTypes.string,\n        disabled: PropTypes.bool,\n        readonly: PropTypes.bool,\n        prompt: PropTypes.string,\n        promptPlaceholder: PropTypes.string,\n        includeLiterals: PropTypes.bool,\n        maskValidation: PropTypes.bool,\n        mask: PropTypes.string,\n        rules: function (props, propName, componentName) {\n            var rules = props.rules;\n            if (rules !== undefined) {\n                var valid = Object.entries(rules)\n                    .some(function (e) { return typeof e !== 'string' || !(rules[e] instanceof RegExp); });\n                if (!valid) {\n                    return new Error('Invalid prop `' + propName + '` supplied to' +\n                        ' `' + componentName + '`. Validation failed.');\n                }\n            }\n            return null;\n        },\n        selection: PropTypes.shape({\n            start: PropTypes.number.isRequired,\n            end: PropTypes.number.isRequired\n        }),\n        name: PropTypes.string,\n        label: PropTypes.string,\n        validationMessage: PropTypes.string,\n        required: PropTypes.bool,\n        valid: PropTypes.bool,\n        validityStyles: PropTypes.bool,\n        onChange: PropTypes.func\n    };\n    /**\n     * @hidden\n     */\n    MaskedTextBoxWithoutContext.defaultProps = {\n        prompt: '_',\n        promptPlaceholder: ' ',\n        includeLiterals: false,\n        maskValidation: true,\n        rules: defaultRules,\n        required: false,\n        validityStyles: true\n    };\n    return MaskedTextBoxWithoutContext;\n}(React.Component));\nexport { MaskedTextBoxWithoutContext };\n/**\n * Represents the PropsContext of the `MaskedTextBox` component.\n * Used for global configuration of all `MaskedTextBox` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\nexport var MaskedTextBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the props of the [KendoReact MaskedTextBox component]({% slug overview_maskedtextbox %}).\n *\n * Accepts properties of type [MaskedTextBoxProps]({% slug api_inputs_maskedtextboxprops %}).\n * Obtaining the `ref` returns an object of type [MaskedTextBoxHandle]({% slug api_inputs_maskedtextboxhandle %}).\n */\nexport var MaskedTextBox = withPropsContext(MaskedTextBoxPropsContext, MaskedTextBoxWithoutContext);\nMaskedTextBox.displayName = 'KendoReactMaskedTextBox';\n"]},"metadata":{},"sourceType":"module"}