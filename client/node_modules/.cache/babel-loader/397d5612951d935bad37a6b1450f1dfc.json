{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport SearchBar from './../common/SearchBar';\nimport ListContainer from './../common/ListContainer';\nimport List from './../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { itemIndexStartsWith, getItemValue, areSame, getFocusedItem } from '../common/utils';\nimport { guid, Keys, classNames, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/** @hidden */\n\nvar AutoCompleteWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(AutoCompleteWithoutContext, _super);\n\n  function AutoCompleteWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this.base = new DropDownBase(_this);\n    _this._inputId = guid();\n    _this._suggested = '';\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props.data,\n          data = _a === void 0 ? [] : _a;\n      var newText = getItemValue(data[index], _this.props.textField);\n\n      _this.triggerOnChange(newText, state);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.itemFocus = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField;\n      var focusedItem = data[index];\n\n      if (!areSame(_this.state.focusedItem, focusedItem, textField)) {\n        state.data.focusedItem = focusedItem;\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.togglePopup = function (state) {\n      _this.base.togglePopup(state);\n    };\n\n    _this.setValidity = function () {\n      if (_this._input && _this._input.setCustomValidity) {\n        _this._input.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n\n      _this._valueDuringOnChange = undefined;\n    };\n\n    _this.onChangeHandler = function (event) {\n      var base = _this.base;\n      var state = base.initState();\n      var input = event.currentTarget;\n      var value = input.value;\n      var selectionAtEnd = input.selectionEnd === value.length;\n      state.syntheticEvent = event;\n      var prevSuggestion = _this._suggested;\n      var prevValue = _this.value;\n      var prevUserInput = prevValue && prevValue.substring(0, prevValue.length - prevSuggestion.length);\n      var deletedSuggestion = prevUserInput && prevUserInput === value;\n      var deleting = prevUserInput && prevUserInput.length > value.length;\n      var suggest = _this.props.suggest;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      if (suggest !== undefined && suggest !== false) {\n        if (deletedSuggestion || deleting || !selectionAtEnd) {\n          _this._suggested = '';\n        } else {\n          _this.suggestValue(value);\n        }\n\n        var newValue = value + _this._suggested;\n        var suggestion = {\n          userInput: value,\n          value: _this._suggested\n        };\n\n        _this.triggerOnChange(newValue, state, {\n          suggestion: suggestion\n        });\n      } else {\n        _this._suggested = '';\n\n        _this.triggerOnChange(value, state);\n      }\n\n      if (!opened && value || opened && !value) {\n        _this.togglePopup(state);\n      }\n\n      state.data.focusedItem = undefined;\n\n      _this.applyState(state);\n    };\n\n    _this.clearButtonClick = function (event) {\n      var base = _this.base;\n      var state = base.initState();\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      state.syntheticEvent = event;\n      var newValue = '';\n      _this._suggested = '';\n\n      _this.triggerOnChange(newValue, state);\n\n      if (_this.state.focusedItem !== undefined) {\n        state.data.focusedItem = undefined;\n      }\n\n      if (opened) {\n        _this.togglePopup(state);\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      var preventDefault = function () {\n        if (opened) {\n          event.preventDefault();\n        }\n      };\n\n      if (keyCode === Keys.enter || keyCode === Keys.esc) {\n        preventDefault();\n\n        _this.applyInputValue(event.currentTarget.value, state, event.keyCode);\n      } else if (keyCode === Keys.up || keyCode === Keys.down) {\n        preventDefault();\n\n        _this.onNavigate(state, keyCode);\n      }\n    };\n\n    _this.handleBlur = function (event) {\n      if (_this.state.focused) {\n        var state = _this.base.initState();\n\n        state.data.focused = false;\n        state.events.push({\n          type: 'onBlur'\n        });\n        state.syntheticEvent = event;\n\n        _this.applyInputValue(event.currentTarget.value, state);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(AutoCompleteWithoutContext.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoCompleteWithoutContext.prototype, \"value\", {\n    /**\n     * The value of the AutoComplete.\n     */\n    get: function () {\n      if (this._valueDuringOnChange !== undefined) {\n        return this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        return this.props.value;\n      } else if (this.state.value !== undefined) {\n        return this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        return this.props.defaultValue;\n      }\n\n      return '';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoCompleteWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the AutoComplete.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoCompleteWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the AutoComplete is set.\n     */\n    get: function () {\n      // The AutoComplete component is in a invalid state\n      // only if it's required and the value is null!\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== '';\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoCompleteWithoutContext.prototype, \"validityStyles\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : AutoCompleteWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AutoCompleteWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : AutoCompleteWithoutContext.defaultProps.required;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  AutoCompleteWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props.data,\n        data = _a === void 0 ? [] : _a;\n    var _b = prevProps.data,\n        prevData = _b === void 0 ? [] : _b;\n    var focusedIndex = this.focusedIndex();\n    var focusedItem = data[focusedIndex];\n    var dataChanged = prevData !== data;\n    var focusedItemChanged = focusedItem !== undefined && prevState.focusedItem !== focusedItem;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n\n    if (opened && (focusedItemChanged || dataChanged) || opening) {\n      this.base.scrollToItem(focusedIndex);\n    }\n\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoCompleteWithoutContext.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoCompleteWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        dir = _a.dir,\n        disabled = _a.disabled,\n        label = _a.label,\n        className = _a.className,\n        style = _a.style,\n        loading = _a.loading,\n        suggest = _a.suggest;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var focused = this.state.focused;\n    var base = this.base;\n    var value = this.value;\n    var renderClearButton = this.props.clearButton !== false && !loading && !!value;\n    var id = this.props.id || this._inputId;\n\n    if (typeof suggest === 'string') {\n      this._suggested = suggest;\n    }\n\n    var autoComplete = React.createElement(\"span\", {\n      className: classNames('k-widget k-autocomplete', className, {\n        'k-state-disabled': disabled,\n        'k-state-focused': focused && !disabled,\n        'k-state-invalid': !isValid\n      }),\n      ref: function (element) {\n        _this._element = element;\n        base.wrapper = element;\n      },\n      style: !label ? style : __assign({}, style, {\n        width: undefined\n      }),\n      dir: dir\n    }, this.renderSearchBar(renderClearButton, value || '', id), loading && React.createElement(\"span\", {\n      className: \"k-icon k-i-loading\"\n    }), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: id,\n      editorValue: value,\n      editorValid: isValid,\n      editorDisabled: disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: autoComplete\n    }) : autoComplete;\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoCompleteWithoutContext.prototype.onNavigate = function (state, keyCode) {\n    var _this = this;\n\n    var typedText = this.value;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        focusedItemIndex = _a.focusedItemIndex;\n    var focusedIndex = this.state.focusedItem !== undefined ? data.findIndex(function (i) {\n      return areSame(i, _this.state.focusedItem, textField);\n    }) : focusedItemIndex ? focusedItemIndex(data, typedText, textField) : data.indexOf(getFocusedItem(data, typedText, textField));\n    var newFocused = this.base.navigation.navigate({\n      keyCode: keyCode,\n      current: focusedIndex,\n      max: data.length - 1,\n      min: 0\n    });\n\n    if (newFocused !== undefined) {\n      this.itemFocus(newFocused, state);\n    }\n\n    this.applyState(state);\n  };\n  /**\n   * @hidden\n   */\n\n\n  AutoCompleteWithoutContext.prototype.applyInputValue = function (value, state, eventKey) {\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField;\n    this._suggested = '';\n\n    if (opened && eventKey === Keys.enter) {\n      var newValue = getItemValue(data[this.focusedIndex(value)], textField);\n      this.triggerOnChange(newValue, state);\n    }\n\n    if (opened) {\n      this.togglePopup(state);\n    }\n\n    this.applyState(state);\n  };\n\n  AutoCompleteWithoutContext.prototype.renderSearchBar = function (clearButton, value, id) {\n    var _this = this;\n\n    var base = this.base;\n    var _a = this.props,\n        placeholder = _a.placeholder,\n        tabIndex = _a.tabIndex,\n        disabled = _a.disabled,\n        readonly = _a.readonly;\n    var focused = this.state.focused;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    return React.createElement(SearchBar, {\n      id: id,\n      placeholder: placeholder,\n      tabIndex: tabIndex || undefined,\n      accessKey: this.props.accessKey,\n      value: value,\n      suggestedText: this._suggested,\n      focused: focused,\n      name: this.props.name,\n      ref: function (searchbar) {\n        return _this._input = searchbar && searchbar.input;\n      },\n      onKeyDown: this.onInputKeyDown,\n      onChange: this.onChangeHandler,\n      onFocus: base.handleFocus,\n      onBlur: this.handleBlur,\n      disabled: disabled,\n      readOnly: readonly,\n      expanded: opened,\n      owns: base.listBoxId,\n      activedescendant: 'option-' + base.guid + '-' + this.focusedIndex(),\n      role: \"combobox\",\n      clearButton: clearButton,\n      clearButtonClick: this.clearButtonClick,\n      ariaLabelledBy: this.props.ariaLabelledBy,\n      ariaDescribedBy: this.props.ariaDescribedBy,\n      render: this.props.valueRender\n    });\n  };\n\n  AutoCompleteWithoutContext.prototype.renderListContainer = function () {\n    var base = this.base;\n    var _a = this.props,\n        dir = _a.dir,\n        header = _a.header,\n        footer = _a.footer,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b;\n    var popupSettings = base.getPopupSettings();\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n    return React.createElement(ListContainer, {\n      width: popupWidth,\n      popupSettings: {\n        animate: popupSettings.animate,\n        anchor: this.element,\n        show: opened,\n        popupClass: popupSettings.popupClass,\n        className: classNames('k-list-container k-reset', popupSettings.className),\n        appendTo: popupSettings.appendTo\n      },\n      dir: dir !== undefined ? dir : this.base.dirCalculated,\n      itemsCount: [data.length]\n    }, header, this.renderList(), footer);\n  };\n\n  AutoCompleteWithoutContext.prototype.renderList = function () {\n    var base = this.base;\n    var popupSettings = base.getPopupSettings();\n    var _a = this.props,\n        textField = _a.textField,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        listNoDataRender = _a.listNoDataRender,\n        itemRender = _a.itemRender;\n    var value = this.value;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    return React.createElement(List, {\n      id: base.listBoxId,\n      show: opened,\n      data: data.slice(),\n      focusedIndex: this.focusedIndex(),\n      value: value,\n      textField: textField,\n      valueField: textField,\n      highlightSelected: false,\n      optionsGuid: base.guid,\n      listRef: function (list) {\n        return base.list = list;\n      },\n      wrapperStyle: {\n        maxHeight: popupSettings.height\n      },\n      wrapperCssClass: \"k-list-scroller\",\n      onClick: this.handleItemClick,\n      itemRender: itemRender,\n      noDataRender: listNoDataRender,\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      }\n    });\n  };\n\n  AutoCompleteWithoutContext.prototype.triggerOnChange = function (newValue, state, eventArgs) {\n    if (this.value === newValue && !eventArgs) {\n      return;\n    }\n\n    state.data.value = newValue;\n    this._valueDuringOnChange = newValue;\n    state.events.push(__assign({\n      type: 'onChange'\n    }, eventArgs || {}));\n  };\n\n  AutoCompleteWithoutContext.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n\n  AutoCompleteWithoutContext.prototype.suggestValue = function (value) {\n    this._suggested = '';\n\n    if (value) {\n      var _a = this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField;\n      var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n\n      if (suggestedItem) {\n        var suggestedText = getItemValue(suggestedItem, textField);\n\n        if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n          this._suggested = suggestedText.substring(value.length);\n        }\n      }\n    }\n  };\n\n  AutoCompleteWithoutContext.prototype.focusedIndex = function (value) {\n    var _this = this;\n\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        focusedItemIndex = _a.focusedItemIndex;\n    var inputValue = value !== undefined ? value : this.value;\n    return this.state.focusedItem !== undefined ? data.findIndex(function (i) {\n      return areSame(i, _this.state.focusedItem, textField);\n    }) : focusedItemIndex ? focusedItemIndex(data, inputValue, textField) : Math.max(0, data.indexOf(getFocusedItem(data, inputValue, textField)));\n  };\n\n  AutoCompleteWithoutContext.displayName = 'AutoComplete';\n  /**\n   * @hidden\n   */\n\n  AutoCompleteWithoutContext.propTypes = __assign({}, DropDownBase.basicPropTypes, {\n    suggest: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n    placeholder: PropTypes.string,\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    clearButton: PropTypes.bool,\n    valueRender: PropTypes.func,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  });\n  /**\n   * @hidden\n   */\n\n  AutoCompleteWithoutContext.defaultProps = __assign({}, DropDownBase.defaultProps);\n  return AutoCompleteWithoutContext;\n}(React.Component);\n\nexport { AutoCompleteWithoutContext };\n/**\n * Represents the PropsContext of the `AutoComplete` component.\n * Used for global configuration of all `AutoComplete` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\n\nexport var AutoCompletePropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the [KendoReact AutoComplete component]({% slug overview_autocomplete %}).\n *\n * Accepts properties of type [AutoCompleteProps]({% slug api_dropdowns_autocompleteprops %}).\n * Obtaining the `ref` returns an object of type [AutoCompleteHandle]({% slug api_dropdowns_autocompletehandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    autocomplete = null;\n *    render() {\n *       return (\n *          <div>\n *              <AutoComplete\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.autocomplete = component}\n *              />\n *              <button onClick={() => alert(this.autocomplete.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nexport var AutoComplete = withPropsContext(AutoCompletePropsContext, AutoCompleteWithoutContext);\nAutoComplete.displayName = 'KendoReactAutoComplete';","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-react-dropdowns/dist/es/AutoComplete/AutoComplete.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","SearchBar","ListContainer","List","DropDownBase","itemIndexStartsWith","getItemValue","areSame","getFocusedItem","guid","Keys","classNames","createPropsContext","withPropsContext","FloatingLabel","validatePackage","packageMetadata","VALIDATION_MESSAGE","AutoCompleteWithoutContext","_super","props","_this","state","base","_inputId","_suggested","focus","_input","handleItemSelect","index","_a","data","newText","textField","triggerOnChange","itemFocus","_b","focusedItem","togglePopup","setValidity","setCustomValidity","validity","valid","validationMessage","handleItemClick","event","_valueDuringOnChange","undefined","onChangeHandler","initState","input","currentTarget","value","selectionAtEnd","selectionEnd","syntheticEvent","prevSuggestion","prevValue","prevUserInput","substring","deletedSuggestion","deleting","suggest","opened","suggestValue","newValue","suggestion","userInput","applyState","clearButtonClick","onInputKeyDown","keyCode","preventDefault","enter","esc","applyInputValue","up","down","onNavigate","handleBlur","focused","events","push","type","defineProperty","get","_element","enumerable","configurable","defaultValue","name","customError","isValid","required","valueMissing","validityStyles","defaultProps","componentDidUpdate","prevProps","prevState","prevData","focusedIndex","dataChanged","focusedItemChanged","prevOpened","opening","scrollToItem","componentDidMount","didMount","render","dir","disabled","label","className","style","loading","renderClearButton","clearButton","id","autoComplete","createElement","ref","element","wrapper","width","renderSearchBar","renderListContainer","editorId","editorValue","editorValid","editorDisabled","children","typedText","focusedItemIndex","findIndex","indexOf","newFocused","navigation","navigate","current","max","min","eventKey","placeholder","tabIndex","readonly","accessKey","suggestedText","searchbar","onKeyDown","onChange","onFocus","handleFocus","onBlur","readOnly","expanded","owns","listBoxId","activedescendant","role","ariaLabelledBy","ariaDescribedBy","valueRender","header","footer","popupSettings","getPopupSettings","popupWidth","animate","anchor","show","popupClass","appendTo","dirCalculated","itemsCount","renderList","listNoDataRender","itemRender","slice","valueField","highlightSelected","optionsGuid","listRef","list","wrapperStyle","maxHeight","height","wrapperCssClass","onClick","noDataRender","onMouseDown","e","eventArgs","suggestedItem","toLowerCase","inputValue","Math","displayName","propTypes","basicPropTypes","oneOfType","bool","string","func","Component","AutoCompletePropsContext","AutoComplete"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport SearchBar from './../common/SearchBar';\nimport ListContainer from './../common/ListContainer';\nimport List from './../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { itemIndexStartsWith, getItemValue, areSame, getFocusedItem } from '../common/utils';\nimport { guid, Keys, classNames, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n/** @hidden */\nvar AutoCompleteWithoutContext = /** @class */ (function (_super) {\n    __extends(AutoCompleteWithoutContext, _super);\n    function AutoCompleteWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this._inputId = guid();\n        _this._suggested = '';\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props.data, data = _a === void 0 ? [] : _a;\n            var newText = getItemValue(data[index], _this.props.textField);\n            _this.triggerOnChange(newText, state);\n        };\n        /**\n         * @hidden\n         */\n        _this.itemFocus = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n            var focusedItem = data[index];\n            if (!areSame(_this.state.focusedItem, focusedItem, textField)) {\n                state.data.focusedItem = focusedItem;\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.togglePopup = function (state) {\n            _this.base.togglePopup(state);\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.onChangeHandler = function (event) {\n            var base = _this.base;\n            var state = base.initState();\n            var input = event.currentTarget;\n            var value = input.value;\n            var selectionAtEnd = input.selectionEnd === value.length;\n            state.syntheticEvent = event;\n            var prevSuggestion = _this._suggested;\n            var prevValue = _this.value;\n            var prevUserInput = prevValue &&\n                prevValue.substring(0, prevValue.length - prevSuggestion.length);\n            var deletedSuggestion = prevUserInput && prevUserInput === value;\n            var deleting = prevUserInput && prevUserInput.length > value.length;\n            var suggest = _this.props.suggest;\n            var opened = _this.props.opened !== undefined ?\n                _this.props.opened : _this.state.opened;\n            if (suggest !== undefined && suggest !== false) {\n                if (deletedSuggestion || deleting || !selectionAtEnd) {\n                    _this._suggested = '';\n                }\n                else {\n                    _this.suggestValue(value);\n                }\n                var newValue = value + _this._suggested;\n                var suggestion = { userInput: value, value: _this._suggested };\n                _this.triggerOnChange(newValue, state, { suggestion: suggestion });\n            }\n            else {\n                _this._suggested = '';\n                _this.triggerOnChange(value, state);\n            }\n            if ((!opened && value) || (opened && !value)) {\n                _this.togglePopup(state);\n            }\n            state.data.focusedItem = undefined;\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var base = _this.base;\n            var state = base.initState();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            state.syntheticEvent = event;\n            var newValue = '';\n            _this._suggested = '';\n            _this.triggerOnChange(newValue, state);\n            if (_this.state.focusedItem !== undefined) {\n                state.data.focusedItem = undefined;\n            }\n            if (opened) {\n                _this.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var preventDefault = function () {\n                if (opened) {\n                    event.preventDefault();\n                }\n            };\n            if (keyCode === Keys.enter || keyCode === Keys.esc) {\n                preventDefault();\n                _this.applyInputValue(event.currentTarget.value, state, event.keyCode);\n            }\n            else if (keyCode === Keys.up || keyCode === Keys.down) {\n                preventDefault();\n                _this.onNavigate(state, keyCode);\n            }\n        };\n        _this.handleBlur = function (event) {\n            if (_this.state.focused) {\n                var state = _this.base.initState();\n                state.data.focused = false;\n                state.events.push({ type: 'onBlur' });\n                state.syntheticEvent = event;\n                _this.applyInputValue(event.currentTarget.value, state);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(AutoCompleteWithoutContext.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteWithoutContext.prototype, \"value\", {\n        /**\n         * The value of the AutoComplete.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the AutoComplete.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the AutoComplete is set.\n         */\n        get: function () {\n            // The AutoComplete component is in a invalid state\n            // only if it's required and the value is null!\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required || this.value !== '');\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteWithoutContext.prototype, \"validityStyles\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : AutoCompleteWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : AutoCompleteWithoutContext.defaultProps.required;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    AutoCompleteWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props.data, data = _a === void 0 ? [] : _a;\n        var _b = prevProps.data, prevData = _b === void 0 ? [] : _b;\n        var focusedIndex = this.focusedIndex();\n        var focusedItem = data[focusedIndex];\n        var dataChanged = prevData !== data;\n        var focusedItemChanged = focusedItem !== undefined && prevState.focusedItem !== focusedItem;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        if ((opened && (focusedItemChanged || dataChanged)) || opening) {\n            this.base.scrollToItem(focusedIndex);\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteWithoutContext.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteWithoutContext.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, dir = _a.dir, disabled = _a.disabled, label = _a.label, className = _a.className, style = _a.style, loading = _a.loading, suggest = _a.suggest;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var focused = this.state.focused;\n        var base = this.base;\n        var value = this.value;\n        var renderClearButton = this.props.clearButton !== false && !loading && !!value;\n        var id = this.props.id || this._inputId;\n        if (typeof suggest === 'string') {\n            this._suggested = suggest;\n        }\n        var autoComplete = (React.createElement(\"span\", { className: classNames('k-widget k-autocomplete', className, {\n                'k-state-disabled': disabled,\n                'k-state-focused': focused && !disabled,\n                'k-state-invalid': !isValid\n            }), ref: function (element) {\n                _this._element = element;\n                base.wrapper = element;\n            }, style: !label\n                ? style\n                : __assign({}, style, { width: undefined }), dir: dir },\n            this.renderSearchBar(renderClearButton, value || '', id),\n            loading && React.createElement(\"span\", { className: \"k-icon k-i-loading\" }),\n            this.renderListContainer()));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: value, editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: autoComplete }))\n            : autoComplete;\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteWithoutContext.prototype.onNavigate = function (state, keyCode) {\n        var _this = this;\n        var typedText = this.value;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var focusedIndex = this.state.focusedItem !== undefined ?\n            data.findIndex(function (i) { return areSame(i, _this.state.focusedItem, textField); }) :\n            (focusedItemIndex ? focusedItemIndex(data, typedText, textField) :\n                data.indexOf(getFocusedItem(data, typedText, textField)));\n        var newFocused = this.base.navigation.navigate({\n            keyCode: keyCode,\n            current: focusedIndex,\n            max: data.length - 1,\n            min: 0\n        });\n        if (newFocused !== undefined) {\n            this.itemFocus(newFocused, state);\n        }\n        this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteWithoutContext.prototype.applyInputValue = function (value, state, eventKey) {\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n        this._suggested = '';\n        if (opened && eventKey === Keys.enter) {\n            var newValue = getItemValue(data[this.focusedIndex(value)], textField);\n            this.triggerOnChange(newValue, state);\n        }\n        if (opened) {\n            this.togglePopup(state);\n        }\n        this.applyState(state);\n    };\n    AutoCompleteWithoutContext.prototype.renderSearchBar = function (clearButton, value, id) {\n        var _this = this;\n        var base = this.base;\n        var _a = this.props, placeholder = _a.placeholder, tabIndex = _a.tabIndex, disabled = _a.disabled, readonly = _a.readonly;\n        var focused = this.state.focused;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        return (React.createElement(SearchBar, { id: id, placeholder: placeholder, tabIndex: tabIndex || undefined, accessKey: this.props.accessKey, value: value, suggestedText: this._suggested, focused: focused, name: this.props.name, ref: function (searchbar) { return _this._input = searchbar && searchbar.input; }, onKeyDown: this.onInputKeyDown, onChange: this.onChangeHandler, onFocus: base.handleFocus, onBlur: this.handleBlur, disabled: disabled, readOnly: readonly, expanded: opened, owns: base.listBoxId, activedescendant: 'option-' + base.guid + '-' + this.focusedIndex(), role: \"combobox\", clearButton: clearButton, clearButtonClick: this.clearButtonClick, ariaLabelledBy: this.props.ariaLabelledBy, ariaDescribedBy: this.props.ariaDescribedBy, render: this.props.valueRender }));\n    };\n    AutoCompleteWithoutContext.prototype.renderListContainer = function () {\n        var base = this.base;\n        var _a = this.props, dir = _a.dir, header = _a.header, footer = _a.footer, _b = _a.data, data = _b === void 0 ? [] : _b;\n        var popupSettings = base.getPopupSettings();\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n        return (React.createElement(ListContainer, { width: popupWidth, popupSettings: {\n                animate: popupSettings.animate,\n                anchor: this.element,\n                show: opened,\n                popupClass: popupSettings.popupClass,\n                className: classNames('k-list-container k-reset', popupSettings.className),\n                appendTo: popupSettings.appendTo\n            }, dir: dir !== undefined ? dir : this.base.dirCalculated, itemsCount: [data.length] },\n            header,\n            this.renderList(),\n            footer));\n    };\n    AutoCompleteWithoutContext.prototype.renderList = function () {\n        var base = this.base;\n        var popupSettings = base.getPopupSettings();\n        var _a = this.props, textField = _a.textField, _b = _a.data, data = _b === void 0 ? [] : _b, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender;\n        var value = this.value;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        return (React.createElement(List, { id: base.listBoxId, show: opened, data: data.slice(), focusedIndex: this.focusedIndex(), value: value, textField: textField, valueField: textField, highlightSelected: false, optionsGuid: base.guid, listRef: function (list) { return base.list = list; }, wrapperStyle: { maxHeight: popupSettings.height }, wrapperCssClass: \"k-list-scroller\", onClick: this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: function (e) { return e.preventDefault(); } }));\n    };\n    AutoCompleteWithoutContext.prototype.triggerOnChange = function (newValue, state, eventArgs) {\n        if (this.value === newValue && !eventArgs) {\n            return;\n        }\n        state.data.value = newValue;\n        this._valueDuringOnChange = newValue;\n        state.events.push(__assign({ type: 'onChange' }, (eventArgs || {})));\n    };\n    AutoCompleteWithoutContext.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    AutoCompleteWithoutContext.prototype.suggestValue = function (value) {\n        this._suggested = '';\n        if (value) {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField;\n            var suggestedItem = data[itemIndexStartsWith(data, value, textField)];\n            if (suggestedItem) {\n                var suggestedText = getItemValue(suggestedItem, textField);\n                if (value.toLowerCase() !== suggestedText.toLowerCase()) {\n                    this._suggested = suggestedText.substring(value.length);\n                }\n            }\n        }\n    };\n    AutoCompleteWithoutContext.prototype.focusedIndex = function (value) {\n        var _this = this;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var inputValue = value !== undefined ? value : this.value;\n        return this.state.focusedItem !== undefined ?\n            data.findIndex(function (i) { return areSame(i, _this.state.focusedItem, textField); }) :\n            (focusedItemIndex ? focusedItemIndex(data, inputValue, textField) :\n                Math.max(0, data.indexOf(getFocusedItem(data, inputValue, textField))));\n    };\n    AutoCompleteWithoutContext.displayName = 'AutoComplete';\n    /**\n     * @hidden\n     */\n    AutoCompleteWithoutContext.propTypes = __assign({}, DropDownBase.basicPropTypes, { suggest: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]), placeholder: PropTypes.string, value: PropTypes.string, defaultValue: PropTypes.string, validationMessage: PropTypes.string, required: PropTypes.bool, readonly: PropTypes.bool, clearButton: PropTypes.bool, valueRender: PropTypes.func, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string });\n    /**\n     * @hidden\n     */\n    AutoCompleteWithoutContext.defaultProps = __assign({}, DropDownBase.defaultProps);\n    return AutoCompleteWithoutContext;\n}(React.Component));\nexport { AutoCompleteWithoutContext };\n/**\n * Represents the PropsContext of the `AutoComplete` component.\n * Used for global configuration of all `AutoComplete` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var AutoCompletePropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact AutoComplete component]({% slug overview_autocomplete %}).\n *\n * Accepts properties of type [AutoCompleteProps]({% slug api_dropdowns_autocompleteprops %}).\n * Obtaining the `ref` returns an object of type [AutoCompleteHandle]({% slug api_dropdowns_autocompletehandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    autocomplete = null;\n *    render() {\n *       return (\n *          <div>\n *              <AutoComplete\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.autocomplete = component}\n *              />\n *              <button onClick={() => alert(this.autocomplete.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var AutoComplete = withPropsContext(AutoCompletePropsContext, AutoCompleteWithoutContext);\nAutoComplete.displayName = 'KendoReactAutoComplete';\n"]},"metadata":{},"sourceType":"module"}