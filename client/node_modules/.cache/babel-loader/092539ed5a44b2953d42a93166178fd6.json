{"ast":null,"code":"import * as React from 'react';\nimport { getPadding, setRect, getRect } from '../views/common/utils';\nimport { BORDER_WIDTH } from '../constants';\nimport { useSchedulerElementContext } from '../context';\n/** @hidden */\n\nexport var useSlotExpand = function (slot, config) {\n  var timeout = React.useRef();\n  var initialHeight = React.useRef(0);\n  var scheduler = useSchedulerElementContext();\n\n  var getInitialHeight = function () {\n    if (!slot.current) {\n      return;\n    }\n\n    var element = slot.current.element;\n\n    if (!element) {\n      return;\n    }\n\n    initialHeight.current = element.clientHeight;\n  };\n\n  var expand = React.useCallback(function () {\n    if (!config || !slot.current) {\n      return;\n    }\n\n    var element = slot.current.element;\n    var props = slot.current.props;\n\n    if (!element) {\n      return;\n    }\n\n    var slotPadding = getPadding(element);\n    var highest = 0;\n    var existing = props.items.filter(function (i) {\n      return i._ref.current;\n    });\n    existing.forEach(function (item) {\n      if (!item._ref.current) {\n        return;\n      }\n\n      var height = getRect(item._ref.current.element).height;\n      highest += height;\n    });\n    var minHeight = existing.length * BORDER_WIDTH * 2 + highest - (slotPadding || 0) + (typeof config === 'object' && config.offsetTop ? config.offsetTop : 0) + (typeof config === 'object' && config.offsetBottom ? config.offsetBottom : 0);\n\n    if (existing.length) {\n      if (minHeight > initialHeight.current - slotPadding) {\n        setRect(element, {\n          height: minHeight\n        }, true);\n      }\n    } else if (element) {\n      element.style.minHeight = null;\n    }\n  }, [config, slot]);\n  var handleResize = React.useCallback(function () {\n    if (timeout.current !== undefined) {\n      window.cancelAnimationFrame(timeout.current);\n    }\n\n    timeout.current = window.requestAnimationFrame(function () {\n      expand();\n    });\n  }, [expand]); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  React.useLayoutEffect(getInitialHeight, []); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  React.useEffect(expand, [slot, slot.current && slot.current.props, config]);\n  React.useEffect(function () {\n    if (!slot.current) {\n      return;\n    }\n\n    var props = slot.current.props;\n    var existing = props.items.filter(function (i) {\n      return i._ref.current;\n    });\n    var callbacks = existing.map(function (item) {\n      if (!item._ref.current || !item._ref.current.element) {\n        return;\n      }\n\n      if (!scheduler.current) {\n        return;\n      }\n\n      var observer = new window.ResizeObserver(handleResize);\n      observer.observe(item._ref.current.element);\n      return function () {\n        observer.disconnect();\n      };\n    });\n    return function () {\n      callbacks.forEach(function (cb) {\n        return cb && cb();\n      });\n    };\n  }, [handleResize, scheduler, slot]);\n};","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-react-scheduler/dist/es/hooks/useSlotExpand.js"],"names":["React","getPadding","setRect","getRect","BORDER_WIDTH","useSchedulerElementContext","useSlotExpand","slot","config","timeout","useRef","initialHeight","scheduler","getInitialHeight","current","element","clientHeight","expand","useCallback","props","slotPadding","highest","existing","items","filter","i","_ref","forEach","item","height","minHeight","length","offsetTop","offsetBottom","style","handleResize","undefined","window","cancelAnimationFrame","requestAnimationFrame","useLayoutEffect","useEffect","callbacks","map","observer","ResizeObserver","observe","disconnect","cb"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { getPadding, setRect, getRect } from '../views/common/utils';\nimport { BORDER_WIDTH } from '../constants';\nimport { useSchedulerElementContext } from '../context';\n/** @hidden */\nexport var useSlotExpand = function (slot, config) {\n    var timeout = React.useRef();\n    var initialHeight = React.useRef(0);\n    var scheduler = useSchedulerElementContext();\n    var getInitialHeight = function () {\n        if (!slot.current) {\n            return;\n        }\n        var element = slot.current.element;\n        if (!element) {\n            return;\n        }\n        initialHeight.current = element.clientHeight;\n    };\n    var expand = React.useCallback(function () {\n        if (!config || !slot.current) {\n            return;\n        }\n        var element = slot.current.element;\n        var props = slot.current.props;\n        if (!element) {\n            return;\n        }\n        var slotPadding = getPadding(element);\n        var highest = 0;\n        var existing = props.items.filter(function (i) {\n            return i._ref.current;\n        });\n        existing.forEach(function (item) {\n            if (!item._ref.current) {\n                return;\n            }\n            var height = getRect(item._ref.current.element).height;\n            highest += height;\n        });\n        var minHeight = ((existing.length * BORDER_WIDTH * 2)\n            + highest\n            - (slotPadding || 0)\n            + (typeof config === 'object' && config.offsetTop ? config.offsetTop : 0)\n            + (typeof config === 'object' && config.offsetBottom ? config.offsetBottom : 0));\n        if (existing.length) {\n            if (minHeight > (initialHeight.current - slotPadding)) {\n                setRect(element, { height: minHeight }, true);\n            }\n        }\n        else if (element) {\n            element.style.minHeight = null;\n        }\n    }, [config, slot]);\n    var handleResize = React.useCallback(function () {\n        if (timeout.current !== undefined) {\n            window.cancelAnimationFrame(timeout.current);\n        }\n        timeout.current = window.requestAnimationFrame(function () {\n            expand();\n        });\n    }, [expand]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    React.useLayoutEffect(getInitialHeight, []);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    React.useEffect(expand, [slot, slot.current && slot.current.props, config]);\n    React.useEffect(function () {\n        if (!slot.current) {\n            return;\n        }\n        var props = slot.current.props;\n        var existing = props.items.filter(function (i) {\n            return i._ref.current;\n        });\n        var callbacks = existing.map(function (item) {\n            if (!item._ref.current || !item._ref.current.element) {\n                return;\n            }\n            if (!scheduler.current) {\n                return;\n            }\n            var observer = new window.ResizeObserver(handleResize);\n            observer.observe(item._ref.current.element);\n            return function () {\n                observer.disconnect();\n            };\n        });\n        return function () {\n            callbacks.forEach(function (cb) { return cb && cb(); });\n        };\n    }, [handleResize, scheduler, slot]);\n};\n"]},"metadata":{},"sourceType":"module"}