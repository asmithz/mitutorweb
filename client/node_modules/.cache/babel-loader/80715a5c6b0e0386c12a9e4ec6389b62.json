{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { BaseView } from '../../components/BaseView';\nimport { useCellSync, useRowSync } from '../../hooks';\nimport { Day, MS_PER_DAY, MS_PER_MINUTE, getDate, ZonedDate, addDays } from '@progress/kendo-date-math';\nimport { HorizontalResourceIterator } from '../common/HorizontalResourceIterator';\nimport { TimelineViewRowContent } from './TimelineViewRowContent';\nimport { TimelineViewAllEventsRowContent } from './TimelineViewAllEventsRowContent';\nimport { VerticalResourceIterator } from '../common/VerticalResourceIterator';\nimport { mapItemsToSlots, mapSlotsToItems, isInTimeRange, toUTCDateTime, intersects, first, last, orderSort } from '../../utils';\nimport { classNames } from '@progress/kendo-react-common';\nimport { toRanges } from '../../services/rangeService';\nimport { toSlots } from '../../services/slotsService';\nimport { toOccurrences } from '../../services/occurrenceService';\nimport { toItems } from '../../services/itemsService';\nimport { SchedulerEditSlot } from '../../slots/SchedulerEditSlot';\nimport { BORDER_WIDTH } from '../../constants';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { SchedulerEditItem } from '../../items/SchedulerEditItem';\nimport { useSchedulerDataContext, useSchedulerPropsContext, useSchedulerGroupsContext, useSchedulerFieldsContext, useSchedulerDateRangeContext, useSchedulerOrientationContext } from '../../context/SchedulerContext';\nimport { SchedulerResourceIteratorContext } from '../../context/SchedulerResourceIteratorContext';\nimport { CurrentTimeMarker } from '../../components/CurrentTimeMarket';\nimport { DateHeaderCell } from '../../components/DateHeaderCell';\nimport { TimeHeaderCell } from '../../components/TimeHeaderCell';\nvar TIME_FORMAT = 't';\nvar FIRST_INDEX = 0;\n/**\n * @hidden\n */\n\nexport var MultiDayTimelineView = function (props) {\n  var _a = useSchedulerPropsContext(),\n      group = _a.group,\n      timezone = _a.timezone,\n      propResources = _a.resources;\n\n  var timeRef = React.useRef(null);\n  var bodyRef = React.useRef(null);\n  var EditItem = props.editItem || SchedulerEditItem;\n  var EditSlot = props.editSlot || SchedulerEditSlot;\n  var element = React.useRef(null);\n  var data = useSchedulerDataContext()[0];\n  var orientation = useSchedulerOrientationContext();\n  var groups = useSchedulerGroupsContext();\n  var dateRange = useSchedulerDateRangeContext();\n  var fields = useSchedulerFieldsContext();\n  var intl = useInternationalization();\n  var showWorkHours = props.showWorkHours;\n  var slotDivisions = props.slotDivisions || defaultProps.slotDivisions;\n  var slotDuration = props.slotDuration || defaultProps.slotDuration;\n  var workDayStart = intl.parseDate(props.workDayStart || props.isWorkDayStart || defaultProps.isWorkDayStart);\n  var workDayEnd = intl.parseDate(props.workDayEnd || props.isWorkDayEnd || defaultProps.isWorkDayEnd);\n  var startTime = intl.parseDate(props.startTime || defaultProps.startTime);\n  var endTime = intl.parseDate(props.endTime || defaultProps.endTime);\n  var viewStart = React.useMemo(function () {\n    return showWorkHours ? workDayStart : startTime;\n  }, [showWorkHours, workDayStart, startTime]);\n  var viewEnd = React.useMemo(function () {\n    return showWorkHours ? workDayEnd : endTime;\n  }, [showWorkHours, workDayEnd, endTime]);\n  var ranges = React.useMemo(function () {\n    return toRanges(dateRange, {\n      step: MS_PER_DAY,\n      timezone: timezone\n    });\n  }, [dateRange.start.getTime(), dateRange.end.getTime(), timezone]);\n  var slots = React.useMemo(function () {\n    return toSlots(dateRange, {\n      step: slotDuration / slotDivisions * MS_PER_MINUTE\n    }, {\n      groups: groups,\n      ranges: ranges\n    }).filter(function (slot) {\n      return isInTimeRange(slot.zonedStart, viewStart, viewEnd) || viewStart.getTime() === viewEnd.getTime();\n    });\n  }, [groups, ranges, dateRange.start.getTime(), dateRange.end.getTime(), timezone, slotDuration, slotDivisions, viewStart.getTime(), viewEnd.getTime()]);\n  var occurrences = React.useMemo(function () {\n    return toOccurrences(data, {\n      dateRange: dateRange,\n      fields: fields,\n      timezone: timezone\n    });\n  }, [data, dateRange.start.getTime(), dateRange.end.getTime(), fields, timezone]);\n  var items = React.useMemo(function () {\n    return toItems(occurrences, {\n      timezone: timezone\n    }, {\n      groups: groups,\n      ranges: ranges\n    }).filter(function (item) {\n      return viewStart.getTime() === viewEnd.getTime() || isInTimeRange(item.zonedStart, viewStart, viewEnd) || isInTimeRange(item.zonedEnd, viewStart, viewEnd) || isInTimeRange(new Date(item.zonedEnd.getTime() - (item.zonedEnd.getTime() - item.zonedStart.getTime()) / 2), viewStart, viewEnd);\n    });\n  }, [occurrences, timezone, groups, ranges, viewStart.getTime(), viewEnd.getTime()]);\n  React.useMemo(function () {\n    return mapItemsToSlots(items, slots, true);\n  }, [items, slots]);\n  React.useMemo(function () {\n    return mapSlotsToItems(items, slots, true);\n  }, [items, slots]);\n  var width = (orientation === 'horizontal' ? slots.length : slots.length / groups.length) * ((props.columnWidth || defaultProps.columnWidth) + BORDER_WIDTH);\n  var head = React.createElement(SchedulerResourceIteratorContext.Consumer, null, function () {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"k-scheduler-row\"\n    }, ranges.map(function (range, rangeIndex) {\n      return React.createElement(DateHeaderCell, {\n        as: props.dateHeaderCell,\n        key: rangeIndex,\n        date: range.zonedStart,\n        start: range.start,\n        end: range.end,\n        format: 'm'\n      });\n    })), React.createElement(\"div\", {\n      className: \"k-scheduler-row\",\n      ref: timeRef\n    }, ranges.map(function (_, rangeIndex) {\n      return slots.filter(function (s) {\n        return s.group.index === FIRST_INDEX && s.range.index === rangeIndex;\n      }).map(function (slot) {\n        return slot.zonedStart.getMinutes() % slotDuration === 0 ? React.createElement(TimeHeaderCell, {\n          key: slot.index,\n          as: props.timeHeaderCell,\n          format: TIME_FORMAT,\n          date: slot.zonedStart,\n          start: slot.zonedStart,\n          end: slot.zonedEnd\n        }) : null;\n      });\n    })));\n  });\n  var body = React.createElement(SchedulerResourceIteratorContext.Consumer, null, function (_a) {\n    var groupIndex = _a.groupIndex;\n    return React.createElement(\"div\", {\n      className: \"k-scheduler-row\"\n    }, ranges.map(function (_, rangeIndex) {\n      return slots.filter(function (s) {\n        return s.group.index === groupIndex && s.range.index === rangeIndex;\n      }).map(function (slot, slotIndex, filtered) {\n        return React.createElement(EditSlot, __assign({\n          key: slot.start.getTime() + \":\" + slot.group.index,\n          slot: props.slot,\n          viewSlot: props.viewSlot\n        }, slot, {\n          form: props.form,\n          onDataAction: props.onDataAction,\n          isWorkHour: isInTimeRange(slot.zonedStart, workDayStart, workDayEnd),\n          col: orientation === 'horizontal' ? rangeIndex * filtered.length + slotIndex + filtered.length * ranges.length * (groupIndex || 0) : rangeIndex * filtered.length + slotIndex,\n          row: orientation === 'horizontal' ? 0 : groupIndex || 0,\n          expandable: true,\n          editable: props.editable\n        }));\n      });\n    }));\n  });\n  var className = React.useMemo(function () {\n    return classNames('k-scheduler-timeline-view', props.className);\n  }, [props.className]);\n  useCellSync({\n    element: element,\n    selector: '.k-resource-cell',\n    attribute: 'data-depth-index',\n    explicitDepth: true\n  });\n  useRowSync({\n    element: element,\n    selector: '.k-resource-row',\n    horizontalAttribute: 'data-depth-index',\n    verticalAttribute: 'data-resource-index',\n    applyTo: '.k-resource-cell'\n  });\n  return React.createElement(React.Fragment, null, React.createElement(BaseView, {\n    ref: element,\n    id: props.id,\n    style: __assign({}, props.style),\n    className: className,\n    props: props,\n    slots: slots,\n    ranges: ranges\n  }, React.createElement(\"div\", {\n    className: \"k-scheduler-head\",\n    style: {\n      width: width\n    }\n  }, orientation === 'horizontal' ? React.createElement(HorizontalResourceIterator, {\n    nested: true,\n    group: group,\n    resources: propResources,\n    rowContent: TimelineViewRowContent\n  }, head) : React.createElement(VerticalResourceIterator, {\n    wrapGroup: true,\n    group: group,\n    resources: propResources\n  }, head)), React.createElement(\"div\", {\n    className: \"k-scheduler-body\",\n    style: {\n      width: width\n    },\n    ref: bodyRef\n  }, orientation === 'horizontal' ? React.createElement(HorizontalResourceIterator, {\n    group: group,\n    resources: propResources,\n    rowContent: TimelineViewAllEventsRowContent\n  }, body, React.createElement(SchedulerResourceIteratorContext.Consumer, null, function (_a) {\n    var groupIndex = _a.groupIndex;\n    return props.currentTimeMarker && intersects(first(ranges).start, last(ranges).end, new Date(), new Date(), true) && React.createElement(CurrentTimeMarker, {\n      groupIndex: groupIndex,\n      attachArrow: timeRef,\n      vertical: true\n    });\n  })) : React.createElement(VerticalResourceIterator, {\n    nested: true,\n    wrapGroup: true,\n    group: group,\n    resources: propResources\n  }, body), orientation === 'vertical' && props.currentTimeMarker && intersects(first(ranges).start, last(ranges).end, new Date(), new Date(), true) && React.createElement(CurrentTimeMarker, {\n    attachArrow: timeRef,\n    vertical: true\n  }), items.sort(orderSort).map(function (item) {\n    return React.createElement(EditItem, __assign({\n      key: item.isRecurring ? item.uid + \":\" + item.group.index + \":\" + item.range.index + \":\" + item.originalStart : item.uid + \":\" + item.group.index + \":\" + item.range.index\n    }, item, {\n      format: 't',\n      form: props.form,\n      onDataAction: props.onDataAction,\n      item: props.item,\n      viewItem: props.viewItem,\n      editable: props.editable,\n      ignoreIsAllDay: true,\n      vertical: false\n    }));\n  }))));\n};\n\nvar multiDayTimelineDateRange = function (_a) {\n  var date = _a.date,\n      _b = _a.numberOfDays,\n      numberOfDays = _b === void 0 ? 1 : _b,\n      timezone = _a.timezone;\n  var normalized = ZonedDate.fromLocalDate(date, timezone);\n  var firstDay = getDate(normalized);\n  var lastDay = addDays(firstDay, numberOfDays);\n  var zonedStart = ZonedDate.fromUTCDate(toUTCDateTime(firstDay), timezone);\n  var zonedEnd = ZonedDate.fromUTCDate(toUTCDateTime(lastDay), timezone);\n  var start = new Date(zonedStart.getTime());\n  var end = new Date(zonedEnd.getTime());\n  return {\n    start: start,\n    end: end,\n    zonedStart: zonedStart,\n    zonedEnd: zonedEnd\n  };\n};\n/** @hidden */\n\n\nexport var defaultProps = {\n  name: 'multi-day-timeline',\n  title: 'Multi Day Timeline',\n  currentTimeMarker: true,\n  dateRange: multiDayTimelineDateRange,\n  selectedDateFormat: '{0:D} - {1:D}',\n  selectedShortDateFormat: '{0:d} - {1:d}',\n  step: 1,\n  numberOfDays: 1,\n  startTime: '00:00',\n  endTime: '00:00',\n  isWorkDayStart: '8:00',\n  isWorkDayEnd: '17:00',\n  workWeekStart: Day.Monday,\n  workWeekEnd: Day.Friday,\n  slotDivisions: 2,\n  slotDuration: 60,\n  // showCurrentTime: true // TODO: Phase 2\n  defaultShowWorkHours: true,\n  columnWidth: 100\n};\nMultiDayTimelineView.defaultProps = defaultProps;","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/node_modules/@progress/kendo-react-scheduler/dist/es/views/time/MultiDayTimelineView.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","BaseView","useCellSync","useRowSync","Day","MS_PER_DAY","MS_PER_MINUTE","getDate","ZonedDate","addDays","HorizontalResourceIterator","TimelineViewRowContent","TimelineViewAllEventsRowContent","VerticalResourceIterator","mapItemsToSlots","mapSlotsToItems","isInTimeRange","toUTCDateTime","intersects","first","last","orderSort","classNames","toRanges","toSlots","toOccurrences","toItems","SchedulerEditSlot","BORDER_WIDTH","useInternationalization","SchedulerEditItem","useSchedulerDataContext","useSchedulerPropsContext","useSchedulerGroupsContext","useSchedulerFieldsContext","useSchedulerDateRangeContext","useSchedulerOrientationContext","SchedulerResourceIteratorContext","CurrentTimeMarker","DateHeaderCell","TimeHeaderCell","TIME_FORMAT","FIRST_INDEX","MultiDayTimelineView","props","_a","group","timezone","propResources","resources","timeRef","useRef","bodyRef","EditItem","editItem","EditSlot","editSlot","element","data","orientation","groups","dateRange","fields","intl","showWorkHours","slotDivisions","defaultProps","slotDuration","workDayStart","parseDate","isWorkDayStart","workDayEnd","isWorkDayEnd","startTime","endTime","viewStart","useMemo","viewEnd","ranges","step","start","getTime","end","slots","filter","slot","zonedStart","occurrences","items","item","zonedEnd","Date","width","columnWidth","head","createElement","Consumer","Fragment","className","map","range","rangeIndex","as","dateHeaderCell","key","date","format","ref","_","index","getMinutes","timeHeaderCell","body","groupIndex","slotIndex","filtered","viewSlot","form","onDataAction","isWorkHour","col","row","expandable","editable","selector","attribute","explicitDepth","horizontalAttribute","verticalAttribute","applyTo","id","style","nested","rowContent","wrapGroup","currentTimeMarker","attachArrow","vertical","sort","isRecurring","uid","originalStart","viewItem","ignoreIsAllDay","multiDayTimelineDateRange","_b","numberOfDays","normalized","fromLocalDate","firstDay","lastDay","fromUTCDate","name","title","selectedDateFormat","selectedShortDateFormat","workWeekStart","Monday","workWeekEnd","Friday","defaultShowWorkHours"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { BaseView } from '../../components/BaseView';\nimport { useCellSync, useRowSync } from '../../hooks';\nimport { Day, MS_PER_DAY, MS_PER_MINUTE, getDate, ZonedDate, addDays } from '@progress/kendo-date-math';\nimport { HorizontalResourceIterator } from '../common/HorizontalResourceIterator';\nimport { TimelineViewRowContent } from './TimelineViewRowContent';\nimport { TimelineViewAllEventsRowContent } from './TimelineViewAllEventsRowContent';\nimport { VerticalResourceIterator } from '../common/VerticalResourceIterator';\nimport { mapItemsToSlots, mapSlotsToItems, isInTimeRange, toUTCDateTime, intersects, first, last, orderSort } from '../../utils';\nimport { classNames } from '@progress/kendo-react-common';\nimport { toRanges } from '../../services/rangeService';\nimport { toSlots } from '../../services/slotsService';\nimport { toOccurrences } from '../../services/occurrenceService';\nimport { toItems } from '../../services/itemsService';\nimport { SchedulerEditSlot } from '../../slots/SchedulerEditSlot';\nimport { BORDER_WIDTH } from '../../constants';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { SchedulerEditItem } from '../../items/SchedulerEditItem';\nimport { useSchedulerDataContext, useSchedulerPropsContext, useSchedulerGroupsContext, useSchedulerFieldsContext, useSchedulerDateRangeContext, useSchedulerOrientationContext } from '../../context/SchedulerContext';\nimport { SchedulerResourceIteratorContext } from '../../context/SchedulerResourceIteratorContext';\nimport { CurrentTimeMarker } from '../../components/CurrentTimeMarket';\nimport { DateHeaderCell } from '../../components/DateHeaderCell';\nimport { TimeHeaderCell } from '../../components/TimeHeaderCell';\nvar TIME_FORMAT = 't';\nvar FIRST_INDEX = 0;\n/**\n * @hidden\n */\nexport var MultiDayTimelineView = function (props) {\n    var _a = useSchedulerPropsContext(), group = _a.group, timezone = _a.timezone, propResources = _a.resources;\n    var timeRef = React.useRef(null);\n    var bodyRef = React.useRef(null);\n    var EditItem = props.editItem || SchedulerEditItem;\n    var EditSlot = props.editSlot || SchedulerEditSlot;\n    var element = React.useRef(null);\n    var data = useSchedulerDataContext()[0];\n    var orientation = useSchedulerOrientationContext();\n    var groups = useSchedulerGroupsContext();\n    var dateRange = useSchedulerDateRangeContext();\n    var fields = useSchedulerFieldsContext();\n    var intl = useInternationalization();\n    var showWorkHours = props.showWorkHours;\n    var slotDivisions = props.slotDivisions || defaultProps.slotDivisions;\n    var slotDuration = props.slotDuration || defaultProps.slotDuration;\n    var workDayStart = intl.parseDate(props.workDayStart || props.isWorkDayStart || defaultProps.isWorkDayStart);\n    var workDayEnd = intl.parseDate(props.workDayEnd || props.isWorkDayEnd || defaultProps.isWorkDayEnd);\n    var startTime = intl.parseDate(props.startTime || defaultProps.startTime);\n    var endTime = intl.parseDate(props.endTime || defaultProps.endTime);\n    var viewStart = React.useMemo(function () { return showWorkHours\n        ? workDayStart\n        : startTime; }, [\n        showWorkHours,\n        workDayStart,\n        startTime\n    ]);\n    var viewEnd = React.useMemo(function () { return showWorkHours\n        ? workDayEnd\n        : endTime; }, [\n        showWorkHours,\n        workDayEnd,\n        endTime\n    ]);\n    var ranges = React.useMemo(function () { return toRanges(dateRange, { step: MS_PER_DAY, timezone: timezone }); }, [\n        dateRange.start.getTime(),\n        dateRange.end.getTime(),\n        timezone\n    ]);\n    var slots = React.useMemo(function () { return toSlots(dateRange, { step: slotDuration / slotDivisions * MS_PER_MINUTE }, { groups: groups, ranges: ranges })\n        .filter(function (slot) { return isInTimeRange(slot.zonedStart, viewStart, viewEnd) || viewStart.getTime() === viewEnd.getTime(); }); }, [\n        groups,\n        ranges,\n        dateRange.start.getTime(),\n        dateRange.end.getTime(),\n        timezone,\n        slotDuration,\n        slotDivisions,\n        viewStart.getTime(),\n        viewEnd.getTime()\n    ]);\n    var occurrences = React.useMemo(function () { return toOccurrences(data, { dateRange: dateRange, fields: fields, timezone: timezone }); }, [data, dateRange.start.getTime(), dateRange.end.getTime(), fields, timezone]);\n    var items = React.useMemo(function () { return toItems(occurrences, { timezone: timezone }, { groups: groups, ranges: ranges })\n        .filter(function (item) { return viewStart.getTime() === viewEnd.getTime()\n        || isInTimeRange(item.zonedStart, viewStart, viewEnd)\n        || isInTimeRange(item.zonedEnd, viewStart, viewEnd)\n        || isInTimeRange(new Date(item.zonedEnd.getTime() - ((item.zonedEnd.getTime() - item.zonedStart.getTime()) / 2)), viewStart, viewEnd); }); }, [occurrences, timezone, groups, ranges, viewStart.getTime(), viewEnd.getTime()]);\n    React.useMemo(function () { return mapItemsToSlots(items, slots, true); }, [items, slots]);\n    React.useMemo(function () { return mapSlotsToItems(items, slots, true); }, [items, slots]);\n    var width = (orientation === 'horizontal' ? slots.length : slots.length / groups.length)\n        * ((props.columnWidth || defaultProps.columnWidth) + BORDER_WIDTH);\n    var head = (React.createElement(SchedulerResourceIteratorContext.Consumer, null, function () { return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: \"k-scheduler-row\" }, ranges.map(function (range, rangeIndex) { return (React.createElement(DateHeaderCell, { as: props.dateHeaderCell, key: rangeIndex, date: range.zonedStart, start: range.start, end: range.end, format: 'm' })); })),\n        React.createElement(\"div\", { className: \"k-scheduler-row\", ref: timeRef }, ranges.map(function (_, rangeIndex) {\n            return slots\n                .filter(function (s) { return (s.group.index === FIRST_INDEX && s.range.index === rangeIndex); })\n                .map(function (slot) { return (slot.zonedStart.getMinutes() % slotDuration === 0\n                ? (React.createElement(TimeHeaderCell, { key: slot.index, as: props.timeHeaderCell, format: TIME_FORMAT, date: slot.zonedStart, start: slot.zonedStart, end: slot.zonedEnd })) : null); });\n        })))); }));\n    var body = (React.createElement(SchedulerResourceIteratorContext.Consumer, null, function (_a) {\n        var groupIndex = _a.groupIndex;\n        return (React.createElement(\"div\", { className: \"k-scheduler-row\" }, ranges.map(function (_, rangeIndex) {\n            return (slots\n                .filter(function (s) { return s.group.index === groupIndex && s.range.index === rangeIndex; })\n                .map(function (slot, slotIndex, filtered) { return (React.createElement(EditSlot, __assign({ key: slot.start.getTime() + \":\" + slot.group.index, slot: props.slot, viewSlot: props.viewSlot }, slot, { form: props.form, onDataAction: props.onDataAction, isWorkHour: isInTimeRange(slot.zonedStart, workDayStart, workDayEnd), col: orientation === 'horizontal'\n                    ? (((rangeIndex * filtered.length) + slotIndex)\n                        + ((filtered.length * ranges.length) * (groupIndex || 0)))\n                    : ((rangeIndex * filtered.length) + slotIndex), row: orientation === 'horizontal'\n                    ? 0\n                    : (groupIndex || 0), expandable: true, editable: props.editable }))); }));\n        })));\n    }));\n    var className = React.useMemo(function () { return classNames('k-scheduler-timeline-view', props.className); }, [props.className]);\n    useCellSync({\n        element: element,\n        selector: '.k-resource-cell',\n        attribute: 'data-depth-index',\n        explicitDepth: true\n    });\n    useRowSync({\n        element: element,\n        selector: '.k-resource-row',\n        horizontalAttribute: 'data-depth-index',\n        verticalAttribute: 'data-resource-index',\n        applyTo: '.k-resource-cell'\n    });\n    return (React.createElement(React.Fragment, null,\n        React.createElement(BaseView, { ref: element, id: props.id, style: (__assign({}, props.style)), className: className, props: props, slots: slots, ranges: ranges },\n            React.createElement(\"div\", { className: \"k-scheduler-head\", style: { width: width } }, orientation === 'horizontal'\n                ? React.createElement(HorizontalResourceIterator, { nested: true, group: group, resources: propResources, rowContent: TimelineViewRowContent }, head)\n                : React.createElement(VerticalResourceIterator, { wrapGroup: true, group: group, resources: propResources }, head)),\n            React.createElement(\"div\", { className: \"k-scheduler-body\", style: { width: width }, ref: bodyRef },\n                orientation === 'horizontal'\n                    ? React.createElement(HorizontalResourceIterator, { group: group, resources: propResources, rowContent: TimelineViewAllEventsRowContent },\n                        body,\n                        React.createElement(SchedulerResourceIteratorContext.Consumer, null, function (_a) {\n                            var groupIndex = _a.groupIndex;\n                            return ((props.currentTimeMarker\n                                && intersects(first(ranges).start, last(ranges).end, new Date(), new Date(), true))\n                                && (React.createElement(CurrentTimeMarker, { groupIndex: groupIndex, attachArrow: timeRef, vertical: true })));\n                        }))\n                    : React.createElement(VerticalResourceIterator, { nested: true, wrapGroup: true, group: group, resources: propResources }, body),\n                (orientation === 'vertical'\n                    && props.currentTimeMarker\n                    && intersects(first(ranges).start, last(ranges).end, new Date(), new Date(), true))\n                    && (React.createElement(CurrentTimeMarker, { attachArrow: timeRef, vertical: true })),\n                items\n                    .sort(orderSort)\n                    .map(function (item) { return (React.createElement(EditItem, __assign({ key: item.isRecurring\n                        ? item.uid + \":\" + item.group.index + \":\" + item.range.index + \":\" + item.originalStart\n                        : item.uid + \":\" + item.group.index + \":\" + item.range.index }, item, { format: 't', form: props.form, onDataAction: props.onDataAction, item: props.item, viewItem: props.viewItem, editable: props.editable, ignoreIsAllDay: true, vertical: false }))); })))));\n};\nvar multiDayTimelineDateRange = function (_a) {\n    var date = _a.date, _b = _a.numberOfDays, numberOfDays = _b === void 0 ? 1 : _b, timezone = _a.timezone;\n    var normalized = ZonedDate.fromLocalDate(date, timezone);\n    var firstDay = getDate(normalized);\n    var lastDay = addDays(firstDay, numberOfDays);\n    var zonedStart = ZonedDate.fromUTCDate(toUTCDateTime(firstDay), timezone);\n    var zonedEnd = ZonedDate.fromUTCDate(toUTCDateTime(lastDay), timezone);\n    var start = new Date(zonedStart.getTime());\n    var end = new Date(zonedEnd.getTime());\n    return {\n        start: start,\n        end: end,\n        zonedStart: zonedStart,\n        zonedEnd: zonedEnd\n    };\n};\n/** @hidden */\nexport var defaultProps = {\n    name: 'multi-day-timeline',\n    title: 'Multi Day Timeline',\n    currentTimeMarker: true,\n    dateRange: multiDayTimelineDateRange,\n    selectedDateFormat: '{0:D} - {1:D}',\n    selectedShortDateFormat: '{0:d} - {1:d}',\n    step: 1,\n    numberOfDays: 1,\n    startTime: '00:00',\n    endTime: '00:00',\n    isWorkDayStart: '8:00',\n    isWorkDayEnd: '17:00',\n    workWeekStart: Day.Monday,\n    workWeekEnd: Day.Friday,\n    slotDivisions: 2,\n    slotDuration: 60,\n    // showCurrentTime: true // TODO: Phase 2\n    defaultShowWorkHours: true,\n    columnWidth: 100\n};\nMultiDayTimelineView.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}