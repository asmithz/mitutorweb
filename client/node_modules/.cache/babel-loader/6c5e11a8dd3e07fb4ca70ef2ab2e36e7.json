{"ast":null,"code":"var _jsxFileName = \"/home/asmith/taller/proyecto1/proyecto-taller/client/src/components/chat/ChatVirtual.js\",\n    _s = $RefreshSig$();\n\nimport './ChatVirtual.css';\nimport { Formik, Form, Field, ErrorMessage, isObject } from 'formik';\nimport BotonFormulario from '../botones/BotonFormulario';\nimport ModalPago from '../botones/ModalPago';\nimport io from 'socket.io-client';\nimport ObtenerUsuarioID from '../controllers/ObtenerUsuarioID';\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport DetectarTipoUsuario from '../controllers/DetectarTipoUsuario';\nimport APIZoom from './APIZoom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:2000/');\nsocket.on(\"connection\");\nconst api = axios.create({\n  withCredentials: true,\n  credentials: 'include',\n  baseURL: `http://localhost:2000/api/mensaje`\n});\nconst api_chat = axios.create({\n  withCredentials: true,\n  credentials: 'include',\n  baseURL: `http://localhost:2000/api/chat`\n});\nconst api_pago = axios.create({\n  withCredentials: true,\n  credentials: 'include',\n  baseURL: `http://localhost:2000/api/pago`\n});\n\nconst ChatVirtual = props => {\n  _s();\n\n  const emisorID = ObtenerUsuarioID();\n  const emisorTIPO = DetectarTipoUsuario().tipo;\n  const enlace_reunion = APIZoom();\n  const chatID = useLocation().pathname.split(\"/\")[2];\n  const [chatDatos, setchatDatos] = useState({});\n  const [mensajes, setMensajes] = useState([]);\n  const [montoTotal, setMonto] = useState(0);\n  const [enlacePago, setEnlace] = useState(\"\");\n\n  const enviarMensaje = async mensajeRequest => {\n    const mi_token = localStorage.getItem('x-token');\n    const mensaje = Object.values(mensajeRequest)[0];\n    const mensajeEnviado = {\n      'emisor_id': emisorID,\n      mensaje\n    };\n\n    try {\n      const response = await api.post(\"/enviarMensaje/\" + chatID, mensajeEnviado, {\n        headers: {\n          'Content-type': 'application/json',\n          'x-token': mi_token\n        }\n      });\n      const response_chat = await api_chat.get(\"/verificarChat/\" + chatID, {\n        headers: {\n          'Content-type': 'application/json',\n          'x-token': mi_token\n        }\n      });\n\n      if (response_chat.data.chat) {\n        setchatDatos(response_chat.data);\n        socket.emit(\"mensaje\", chatDatos, mensajeEnviado, emisorID);\n        socket.on(\"mensaje\", mensajeEnviado => {\n          setMensajes([...mensajes, mensajeEnviado]);\n        });\n      }\n    } catch (error) {\n      alert(\"El chat ya no existe, fue borrado.\");\n      window.location.replace('/Inicio');\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const mostrarMensajes = async () => {\n      const mi_token = localStorage.getItem('x-token');\n\n      try {\n        const response = await api.get(\"/obtenerMensajes/\" + chatID, {\n          headers: {\n            'Content-type': 'application/json',\n            'x-token': mi_token\n          }\n        });\n\n        if (response.data.mensajes) {\n          setMensajes(response.data.mensajes);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    mostrarMensajes();\n  }, [mensajes]);\n\n  const solicitarEnlace = () => {\n    return alert(\"El enlace de la reunión es: \" + enlace_reunion);\n  };\n\n  const salirChat = () => {\n    window.location.replace('/Bandeja');\n  };\n\n  const generarPago = async () => {\n    if (!montoTotal || montoTotal === 0) {\n      alert(\"Monto inválido, intente denuevo\");\n    } else {\n      const datos = {\n        \"monto\": montoTotal,\n        \"tutor_id\": emisorID,\n        \"estado\": \"Pendiente\"\n      };\n      const mi_token = localStorage.getItem('x-token');\n\n      try {\n        const iniciar_pago = await api_pago.post(\"/generarPago\", datos, {\n          headers: {\n            'Content-type': 'application/json',\n            'x-token': mi_token\n          }\n        });\n\n        if (iniciar_pago.data.nuevo_pago) {\n          setEnlace(\"http://localhost:3000/PagoEnLinea/\" + iniciar_pago.data.nuevo_pago._id);\n          socket.emit(\"enlace_pago\", chatDatos, enlacePago, emisorID);\n          socket.on(\"enlace_pago\", enlacePago => {\n            setMensajes([...mensajes, enlacePago]);\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), emisorTIPO === \"estudiante\" && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chat Virtual con su tutor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }, this), emisorTIPO === \"tutor\" && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chat Virtual con su estudiante\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-tarjeta\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mensajes\",\n        children: mensajes.map((mensajeEnviado, i) => {\n          if (emisorID === mensajeEnviado.emisor_id) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mensaje-emisor\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"max1\",\n                children: mensajeEnviado.mensaje\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 37\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 40\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mensaje-receptor\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"max1\",\n                children: mensajeEnviado.mensaje\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 37\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 40\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-bottom\",\n        children: [emisorTIPO === \"tutor\" && /*#__PURE__*/_jsxDEV(BotonFormulario, {\n          className: \"btn btn-primary\",\n          func: solicitarEnlace,\n          nombre: \"boton\",\n          value: \"Zoom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }, this), emisorTIPO === \"estudiante\" && /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            mensaje: ''\n          },\n          onSubmit: values => enviarMensaje(values),\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [emisorTIPO === \"tutor\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-input-mensaje-tutor\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: [/*#__PURE__*/_jsxDEV(Field, {\n                  placeholder: \"Escriba un mensaje\",\n                  className: \"form-control\",\n                  id: \"floatingMensaje\",\n                  name: \"mensaje\",\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"floatingNombre\",\n                  children: \"Escriba un mensaje\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"mensaje\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(BotonFormulario, {\n                  className: \"btn btn-primary\",\n                  nombre: \"boton\",\n                  value: \"Enviar mensaje\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 33\n            }, this), emisorTIPO === \"estudiante\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-input-mensaje-estudiante\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: [/*#__PURE__*/_jsxDEV(Field, {\n                  placeholder: \"Escriba un mensaje\",\n                  className: \"form-control\",\n                  id: \"floatingMensaje\",\n                  name: \"mensaje\",\n                  type: \"text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"floatingNombre\",\n                  children: \"Escriba un mensaje\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"mensaje\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(BotonFormulario, {\n                  type: \"reset\",\n                  className: \"btn btn-primary\",\n                  nombre: \"boton\",\n                  value: \"Enviar mensaje\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), emisorTIPO === \"tutor\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"boton-aceptar\",\n          \"data-bs-toggle\": \"modal\",\n          func: props.func,\n          nombre: \"boton\",\n          \"data-bs-target\": \"#exampleModal\",\n          \"data-bs-whatever\": \"@mdo\",\n          children: \"Generar Pago\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal fade\",\n          id: \"exampleModal\",\n          tabindex: \"-1\",\n          \"aria-labelledby\": \"exampleModalLabel\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"modal-dialog\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  class: \"modal-title\",\n                  id: \"exampleModalLabel\",\n                  children: \"Generar enlace de pago\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"btn-close\",\n                  \"data-bs-dismiss\": \"modal\",\n                  \"aria-label\": \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"recipient-name\",\n                    class: \"col-form-label\",\n                    children: \"Valor de la tutor\\xEDa:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Ingrese el monto\",\n                    type: \"text\",\n                    class: \"form-control\",\n                    id: \"recipient-name\",\n                    onChange: e => setMonto(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 33\n                }, this), enlacePago !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"recipient-name\",\n                    class: \"col-form-label\",\n                    children: [\"Su enlace de pago es el siguiente \", enlacePago]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-footer\",\n                children: [enlacePago !== \"\" && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"btn btn-secondary\",\n                  \"data-bs-dismiss\": \"modal\",\n                  onClick: () => setEnlace(\"\"),\n                  children: \"Cerrar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 37\n                }, this), enlacePago === \"\" && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"boton-aceptar\",\n                  onClick: generarPago,\n                  children: \"Generar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BotonFormulario, {\n      className: \"boton-eliminar\",\n      nombre: \"salir\",\n      func: salirChat,\n      value: \"Salir del chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ChatVirtual, \"Sar/IYkLCYZC1yM1zSXyM4TsGAk=\", false, function () {\n  return [useLocation];\n});\n\n_c = ChatVirtual;\nexport default ChatVirtual;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatVirtual\");","map":{"version":3,"sources":["/home/asmith/taller/proyecto1/proyecto-taller/client/src/components/chat/ChatVirtual.js"],"names":["Formik","Form","Field","ErrorMessage","isObject","BotonFormulario","ModalPago","io","ObtenerUsuarioID","useEffect","useState","useLocation","axios","DetectarTipoUsuario","APIZoom","socket","on","api","create","withCredentials","credentials","baseURL","api_chat","api_pago","ChatVirtual","props","emisorID","emisorTIPO","tipo","enlace_reunion","chatID","pathname","split","chatDatos","setchatDatos","mensajes","setMensajes","montoTotal","setMonto","enlacePago","setEnlace","enviarMensaje","mensajeRequest","mi_token","localStorage","getItem","mensaje","Object","values","mensajeEnviado","response","post","headers","response_chat","get","data","chat","emit","error","alert","window","location","replace","console","log","mostrarMensajes","solicitarEnlace","salirChat","generarPago","datos","iniciar_pago","nuevo_pago","_id","map","i","emisor_id","func","e","target","value"],"mappings":"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","sourcesContent":["import './ChatVirtual.css'\nimport { Formik, Form, Field, ErrorMessage, isObject } from 'formik';\nimport BotonFormulario from '../botones/BotonFormulario';\nimport ModalPago from '../botones/ModalPago'\nimport io from 'socket.io-client'\nimport ObtenerUsuarioID from '../controllers/ObtenerUsuarioID';\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom'\nimport axios from 'axios'\nimport DetectarTipoUsuario from '../controllers/DetectarTipoUsuario';\nimport APIZoom from './APIZoom'\n\nconst socket = io('http://localhost:2000/')\nsocket.on(\"connection\")\n\nconst api = axios.create({\n  withCredentials: true, \n  credentials: 'include',\n  baseURL: `http://localhost:2000/api/mensaje`\n})\n\nconst api_chat = axios.create({\n  withCredentials: true, \n  credentials: 'include',\n  baseURL: `http://localhost:2000/api/chat`\n})\n\nconst api_pago = axios.create({\n  withCredentials: true, \n  credentials: 'include',\n  baseURL: `http://localhost:2000/api/pago`\n})\n\nconst ChatVirtual = (props) => {\n    const emisorID = ObtenerUsuarioID()\n    const emisorTIPO = DetectarTipoUsuario().tipo\n    const enlace_reunion = APIZoom()\n    const chatID = useLocation().pathname.split(\"/\")[2]\n    const [chatDatos, setchatDatos] = useState({})\n    const [mensajes, setMensajes] = useState([])\n    const [montoTotal, setMonto] = useState(0)\n    const [enlacePago, setEnlace] = useState(\"\")\n\n    const enviarMensaje = async (mensajeRequest) => {\n        const mi_token = localStorage.getItem('x-token')\n        const mensaje = Object.values(mensajeRequest)[0]\n        const mensajeEnviado = {'emisor_id': emisorID, mensaje}\n        try{\n            const response = await api.post(\"/enviarMensaje/\"+chatID, mensajeEnviado, {\n                headers: {\n                    'Content-type': 'application/json',\n                    'x-token': mi_token\n                }})\n            const response_chat = await api_chat.get(\"/verificarChat/\"+chatID, {\n                headers: {\n                    'Content-type': 'application/json',\n                    'x-token': mi_token\n                }\n            })\n            if(response_chat.data.chat){\n                setchatDatos(response_chat.data)\n                socket.emit(\"mensaje\", chatDatos, mensajeEnviado, emisorID)\n                socket.on(\"mensaje\", (mensajeEnviado) => {\n                    setMensajes([...mensajes, mensajeEnviado])\n                })\n            }\n        }catch(error){\n            alert(\"El chat ya no existe, fue borrado.\")\n            window.location.replace('/Inicio');\n            console.log(error)\n        }\n    }\n\n    useEffect(() => {\n        const mostrarMensajes = async () => {\n            const mi_token = localStorage.getItem('x-token')\n            try{\n                const response = await api.get(\"/obtenerMensajes/\"+chatID, {\n                    headers: {\n                        'Content-type': 'application/json',\n                        'x-token': mi_token\n                    }})\n                if(response.data.mensajes){\n                    setMensajes(response.data.mensajes)\n                }\n            }catch(error){\n                console.log(error)\n            }\n        }\n        mostrarMensajes()\n        }, [mensajes])\n\n    const solicitarEnlace = () => {\n        return alert(\"El enlace de la reunión es: \"+enlace_reunion)\n    }\n\n    const salirChat = () => {\n        window.location.replace('/Bandeja');\n    }\n\n    const generarPago = async () =>{\n        if(!montoTotal || montoTotal === 0){\n            alert(\"Monto inválido, intente denuevo\")\n        }\n        else{\n            const datos = {\"monto\": montoTotal, \"tutor_id\": emisorID, \"estado\": \"Pendiente\"} \n            const mi_token = localStorage.getItem('x-token')\n            try{\n                const iniciar_pago = await api_pago.post(\"/generarPago\", datos, {\n                    headers: {\n                        'Content-type': 'application/json',\n                        'x-token': mi_token\n                    }\n                })\n                if(iniciar_pago.data.nuevo_pago){\n                    setEnlace(\"http://localhost:3000/PagoEnLinea/\"+iniciar_pago.data.nuevo_pago._id)\n                    socket.emit(\"enlace_pago\", chatDatos, enlacePago, emisorID)\n                    socket.on(\"enlace_pago\", (enlacePago) => {\n                        setMensajes([...mensajes, enlacePago])\n                    })\n                }\n            }catch(error){\n                console.log(error)\n            }\n        }\n    }\n\n    return(\n        <div>\n            <br/>\n            {\n                emisorTIPO === \"estudiante\" &&\n                <h1>Chat Virtual con su tutor</h1>\n            }\n            {\n                emisorTIPO === \"tutor\" &&\n                <h1>Chat Virtual con su estudiante</h1>\n            } \n            <div className=\"chat-tarjeta\">\n                <div className=\"mensajes\">\n                    {\n                       mensajes.map((mensajeEnviado, i) => {\n                           if(emisorID === mensajeEnviado.emisor_id){\n                                return <div className=\"mensaje-emisor\" key={i}>\n                                    <p className=\"max1\">{mensajeEnviado.mensaje}</p>\n                                </div>\n\n                           }\n                           else{\n                                return <div className=\"mensaje-receptor\" key={i}>\n                                    <p className=\"max1\">{mensajeEnviado.mensaje}</p>\n                                        </div>\n                           }\n                       }) \n                    }\n                </div>\n                <div className=\"chat-bottom\">\n                    {\n                        emisorTIPO === \"tutor\" &&\n                        <BotonFormulario className=\"btn btn-primary\" func={solicitarEnlace} nombre=\"boton\" value=\"Zoom\"/>\n                    }\n                    {\n                        emisorTIPO === \"estudiante\" &&\n                        <></>\n                    }\n                    <Formik initialValues={{\n                        mensaje: ''\n                    }}\n                    onSubmit={values => enviarMensaje(values)}>\n                        <Form>\n                            {\n                                emisorTIPO === \"tutor\" &&\n                                <div className=\"chat-input-mensaje-tutor\">\n                                    <div className=\"form-floating\">\n                                        <Field placeholder=\"Escriba un mensaje\" className=\"form-control\" id=\"floatingMensaje\" name=\"mensaje\" type=\"text\"/>\n                                        <label for=\"floatingNombre\">Escriba un mensaje</label>\n                                        <ErrorMessage name=\"mensaje\"/>\n                                    </div>\n                                    <div>\n                                        <BotonFormulario className=\"btn btn-primary\" nombre=\"boton\" value=\"Enviar mensaje\"/>\n                                    </div>\n                                </div>\n                            }\n                            {\n                                emisorTIPO === \"estudiante\" &&\n                                <div className=\"chat-input-mensaje-estudiante\">\n                                    <div className=\"form-floating\">\n                                        <Field placeholder=\"Escriba un mensaje\" className=\"form-control\" id=\"floatingMensaje\" name=\"mensaje\" type=\"text\"/>\n                                        <label for=\"floatingNombre\">Escriba un mensaje</label>\n                                        <ErrorMessage name=\"mensaje\"/>\n                                    </div>\n                                    <div>\n                                        <BotonFormulario type=\"reset\" className=\"btn btn-primary\" nombre=\"boton\" value=\"Enviar mensaje\"/>\n                                    </div>\n                                </div>\n                            }\n                        </Form>\n                    </Formik>\n                </div>\n                {\n                emisorTIPO === \"tutor\" &&\n        <>\n                        <button type=\"button\" className=\"boton-aceptar\" data-bs-toggle=\"modal\" func={props.func} nombre=\"boton\" data-bs-target=\"#exampleModal\" data-bs-whatever=\"@mdo\">Generar Pago</button>\n                                <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                        <div class=\"modal-dialog\">\n                            <div class=\"modal-content\">\n                            <div class=\"modal-header\">\n                                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Generar enlace de pago</h5>\n                                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                            </div>\n                            <div class=\"modal-body\">\n                                <div class=\"mb-3\">\n                                    <label for=\"recipient-name\" class=\"col-form-label\">Valor de la tutoría:</label>\n                                    <input placeholder=\"Ingrese el monto\" type=\"text\" class=\"form-control\" id=\"recipient-name\" onChange={e => setMonto(e.target.value)}/>\n                                </div>\n                                {\n                                    enlacePago !== \"\" &&\n                                    <div class=\"mb-3\">\n                                        <label for=\"recipient-name\" class=\"col-form-label\">Su enlace de pago es el siguiente {enlacePago}</label>\n                                    </div>\n                                }\n                            </div>\n                            <div class=\"modal-footer\">\n                                {\n                                    enlacePago !== \"\" &&\n                                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" onClick={() => setEnlace(\"\")} >Cerrar</button>\n                                }\n                                {\n                                    enlacePago === \"\" &&\n                                    <button type=\"button\" class=\"boton-aceptar\" onClick={generarPago}>Generar</button>\n                                }\n                            </div>\n                            </div>\n                        </div>\n                        </div>\n        </>\n                }\n            </div>\n            <BotonFormulario className=\"boton-eliminar\" nombre=\"salir\" func={salirChat} value=\"Salir del chat\"/>\n        </div>\n    );\n}\n\nexport default ChatVirtual;"]},"metadata":{},"sourceType":"module"}